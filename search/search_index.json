{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"EdgeX Foundry \u30cf\u30f3\u30ba\u30aa\u30f3\u30e9\u30dc \u00b6 \u3053\u306e\u30ac\u30a4\u30c9\u306b\u3064\u3044\u3066 \u00b6 \u3053\u306e\u30ac\u30a4\u30c9\u306f \u975e\u516c\u5f0f \u3067\u3059\u3002 \u81ea\u5206\u306e\u30da\u30fc\u30b9\u3067\u9032\u3081\u3089\u308c\u308b\u30bb\u30eb\u30d5\u30da\u30fc\u30b9\u30c9\u30e9\u30dc\u5f62\u5f0f\u306e\u305f\u3081\u3001\u6642\u9593\u3084\u5834\u6240\u3092\u554f\u308f\u305a\u53d6\u308a\u7d44\u3093\u3067\u3044\u305f\u3060\u3051\u307e\u3059\u3002 \u30cf\u30f3\u30ba\u30aa\u30f3\u30e9\u30dc\u306e\u30b4\u30fc\u30eb \u00b6 \u3053\u306e\u30ac\u30a4\u30c9\u306f\u3001\u4ee5\u4e0b\u306e\u9054\u6210\u3092\u76ee\u7684\u306b\u57f7\u7b46\u3057\u3066\u3044\u307e\u3059\u3002 EdgeX Foundry \u306e\u57fa\u672c\u7684\u306a\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u7406\u89e3\u3059\u308b EdgeX Foundry \u306e\u57fa\u672c\u7684\u306a\u64cd\u4f5c\u65b9\u6cd5\u3092\u7406\u89e3\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u7fa4\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53ce\u96c6\u3059\u308b\u65b9\u6cd5\u306e\u57fa\u672c\u3092\u7406\u89e3\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u7fa4\u3092\u64cd\u4f5c\u3059\u308b\u65b9\u6cd5\u306e\u57fa\u672c\u3092\u7406\u89e3\u3059\u308b \u53ce\u96c6\u3057\u305f\u30c7\u30fc\u30bf\u3092\u5916\u90e8\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u65b9\u6cd5\u306e\u57fa\u672c\u3092\u7406\u89e3\u3059\u308b \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u3092\u7528\u3044\u3066\u3001\u6761\u4ef6\u306b\u5fdc\u3058\u3066\u81ea\u52d5\u3067\u30c7\u30d0\u30a4\u30b9\u3092\u64cd\u4f5c\u3059\u308b\u65b9\u6cd5\u306e\u57fa\u672c\u3092\u7406\u89e3\u3059\u308b \u5fc5\u8981\u306a\u3082\u306e \u00b6 \u5b9f\u969b\u306b\u74b0\u5883\u3092\u4f5c\u308a\u306a\u304c\u3089\u9032\u3081\u308b\u305f\u3081\u3001 Docker \u304c\u52d5\u4f5c\u3059\u308b Ubuntu Desktop\uff08\u307e\u305f\u306f Ubuntu Server\uff09\u74b0\u5883 \u304c\u5fc5\u8981\u3067\u3059\u3002\u4eee\u60f3\u30de\u30b7\u30f3\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\u3057\u3001Raspberry Pi \u306a\u3069\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\u3002 \u30ac\u30a4\u30c9\u3067\u524d\u63d0\u3068\u3057\u3066\u3044\u308b\u74b0\u5883\u306e\u8a73\u7d30\u306f\u3001\u5404\u30ac\u30a4\u30c9\u306e\u5192\u982d\u3067\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002 \u514d\u8cac\u4e8b\u9805 \u00b6 \u3053\u306e\u30ac\u30a4\u30c9\u306f \u975e\u516c\u5f0f \u3067\u3059\u3002 \u3053\u306e\u30ac\u30a4\u30c9\u306f\u3001EdgeX Foundry \u3092\u8da3\u5473\u3067\u89e6\u3063\u3066\u3044\u308b\u500b\u4eba\u304c\u3001\u8da3\u5473\u306e\u7bc4\u56f2\u3067\u4f5c\u6210\u3057\u305f\u3082\u306e\u3067\u3059\u3002\u672c\u696d\u3068\u306f\u7121\u95a2\u4fc2\u3067\u3042\u308a\u3001\u4e8b\u696d\u3084\u55b6\u5229\u76ee\u7684\u306e\u6d3b\u52d5\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002 EdgeX Foundry \u958b\u767a\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u306e\u627f\u8a8d\u3084\u30ec\u30d3\u30e5\u306a\u3069\u306f\u53d7\u3051\u3066\u3044\u307e\u305b\u3093\u3002 \u5185\u5bb9\u306f\u500b\u4eba\u306e\u898b\u89e3\u3067\u3042\u308a\u3001\u6240\u5c5e\u3059\u308b\u7d44\u7e54\u306e\u516c\u5f0f\u898b\u89e3\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u6b63\u3057\u3044\u60c5\u5831\u3092\u8a18\u8f09\u3059\u308b\u3088\u3046\u52aa\u3081\u3066\u3044\u307e\u3059\u304c\u3001\u5fc5\u305a\u3057\u3082\u6b63\u78ba\u6027\u3092\u4fdd\u8a3c\u3059\u308b\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u672c\u30ac\u30a4\u30c9\u306b\u63b2\u8f09\u3055\u308c\u305f\u5185\u5bb9\u306b\u3088\u3063\u3066\u751f\u3058\u305f\u640d\u5bb3\u306a\u3069\u306e\u4e00\u5207\u306e\u8cac\u4efb\u3092\u8ca0\u3044\u307e\u305b\u3093\u3002 \u66f8\u3044\u305f\u3072\u3068 \u00b6 Twitter GitHub \u30d6\u30ed\u30b0 \u30cf\u30f3\u30ba\u30aa\u30f3\u30e9\u30dc\u30ac\u30a4\u30c9 \u00b6 \u30ac\u30a4\u30c9\u672c\u7de8\u3067\u3059\u3002 Fuji \u30ea\u30ea\u30fc\u30b9\u5411\u3051 \u00b6 Fuji \u30ea\u30ea\u30fc\u30b9\u5411\u3051\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u30ac\u30a4\u30c9\u3067\u3059\u3002 Ubuntu \u4e0a\u306e Docker \u74b0\u5883\u3092\u524d\u63d0\u306b\u3001\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u304b\u3089\u8d77\u52d5\u78ba\u8a8d\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u69cb\u6210\u3068\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u307e\u3067\u3092\u6271\u3063\u3066\u3044\u307e\u3059\u3002 \u30cf\u30f3\u30ba\u30aa\u30f3\u30e9\u30dc\u3092\u59cb\u3081\u308b Geneva \u30ea\u30ea\u30fc\u30b9\u5411\u3051 \u00b6 Geneva \u30ea\u30ea\u30fc\u30b9\u5411\u3051\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u30ac\u30a4\u30c9\u306f\u6e96\u5099\u4e2d\u3067\u3059\u3002","title":"\u3053\u306e\u30ac\u30a4\u30c9\u306b\u3064\u3044\u3066"},{"location":"#edgex-foundry","text":"","title":"EdgeX Foundry \u30cf\u30f3\u30ba\u30aa\u30f3\u30e9\u30dc"},{"location":"#_1","text":"\u3053\u306e\u30ac\u30a4\u30c9\u306f \u975e\u516c\u5f0f \u3067\u3059\u3002 \u81ea\u5206\u306e\u30da\u30fc\u30b9\u3067\u9032\u3081\u3089\u308c\u308b\u30bb\u30eb\u30d5\u30da\u30fc\u30b9\u30c9\u30e9\u30dc\u5f62\u5f0f\u306e\u305f\u3081\u3001\u6642\u9593\u3084\u5834\u6240\u3092\u554f\u308f\u305a\u53d6\u308a\u7d44\u3093\u3067\u3044\u305f\u3060\u3051\u307e\u3059\u3002","title":"\u3053\u306e\u30ac\u30a4\u30c9\u306b\u3064\u3044\u3066"},{"location":"#_2","text":"\u3053\u306e\u30ac\u30a4\u30c9\u306f\u3001\u4ee5\u4e0b\u306e\u9054\u6210\u3092\u76ee\u7684\u306b\u57f7\u7b46\u3057\u3066\u3044\u307e\u3059\u3002 EdgeX Foundry \u306e\u57fa\u672c\u7684\u306a\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u7406\u89e3\u3059\u308b EdgeX Foundry \u306e\u57fa\u672c\u7684\u306a\u64cd\u4f5c\u65b9\u6cd5\u3092\u7406\u89e3\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u7fa4\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53ce\u96c6\u3059\u308b\u65b9\u6cd5\u306e\u57fa\u672c\u3092\u7406\u89e3\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u7fa4\u3092\u64cd\u4f5c\u3059\u308b\u65b9\u6cd5\u306e\u57fa\u672c\u3092\u7406\u89e3\u3059\u308b \u53ce\u96c6\u3057\u305f\u30c7\u30fc\u30bf\u3092\u5916\u90e8\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u65b9\u6cd5\u306e\u57fa\u672c\u3092\u7406\u89e3\u3059\u308b \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u3092\u7528\u3044\u3066\u3001\u6761\u4ef6\u306b\u5fdc\u3058\u3066\u81ea\u52d5\u3067\u30c7\u30d0\u30a4\u30b9\u3092\u64cd\u4f5c\u3059\u308b\u65b9\u6cd5\u306e\u57fa\u672c\u3092\u7406\u89e3\u3059\u308b","title":"\u30cf\u30f3\u30ba\u30aa\u30f3\u30e9\u30dc\u306e\u30b4\u30fc\u30eb"},{"location":"#_3","text":"\u5b9f\u969b\u306b\u74b0\u5883\u3092\u4f5c\u308a\u306a\u304c\u3089\u9032\u3081\u308b\u305f\u3081\u3001 Docker \u304c\u52d5\u4f5c\u3059\u308b Ubuntu Desktop\uff08\u307e\u305f\u306f Ubuntu Server\uff09\u74b0\u5883 \u304c\u5fc5\u8981\u3067\u3059\u3002\u4eee\u60f3\u30de\u30b7\u30f3\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\u3057\u3001Raspberry Pi \u306a\u3069\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\u3002 \u30ac\u30a4\u30c9\u3067\u524d\u63d0\u3068\u3057\u3066\u3044\u308b\u74b0\u5883\u306e\u8a73\u7d30\u306f\u3001\u5404\u30ac\u30a4\u30c9\u306e\u5192\u982d\u3067\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002","title":"\u5fc5\u8981\u306a\u3082\u306e"},{"location":"#_4","text":"\u3053\u306e\u30ac\u30a4\u30c9\u306f \u975e\u516c\u5f0f \u3067\u3059\u3002 \u3053\u306e\u30ac\u30a4\u30c9\u306f\u3001EdgeX Foundry \u3092\u8da3\u5473\u3067\u89e6\u3063\u3066\u3044\u308b\u500b\u4eba\u304c\u3001\u8da3\u5473\u306e\u7bc4\u56f2\u3067\u4f5c\u6210\u3057\u305f\u3082\u306e\u3067\u3059\u3002\u672c\u696d\u3068\u306f\u7121\u95a2\u4fc2\u3067\u3042\u308a\u3001\u4e8b\u696d\u3084\u55b6\u5229\u76ee\u7684\u306e\u6d3b\u52d5\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002 EdgeX Foundry \u958b\u767a\u30b3\u30df\u30e5\u30cb\u30c6\u30a3\u306e\u627f\u8a8d\u3084\u30ec\u30d3\u30e5\u306a\u3069\u306f\u53d7\u3051\u3066\u3044\u307e\u305b\u3093\u3002 \u5185\u5bb9\u306f\u500b\u4eba\u306e\u898b\u89e3\u3067\u3042\u308a\u3001\u6240\u5c5e\u3059\u308b\u7d44\u7e54\u306e\u516c\u5f0f\u898b\u89e3\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u6b63\u3057\u3044\u60c5\u5831\u3092\u8a18\u8f09\u3059\u308b\u3088\u3046\u52aa\u3081\u3066\u3044\u307e\u3059\u304c\u3001\u5fc5\u305a\u3057\u3082\u6b63\u78ba\u6027\u3092\u4fdd\u8a3c\u3059\u308b\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u672c\u30ac\u30a4\u30c9\u306b\u63b2\u8f09\u3055\u308c\u305f\u5185\u5bb9\u306b\u3088\u3063\u3066\u751f\u3058\u305f\u640d\u5bb3\u306a\u3069\u306e\u4e00\u5207\u306e\u8cac\u4efb\u3092\u8ca0\u3044\u307e\u305b\u3093\u3002","title":"\u514d\u8cac\u4e8b\u9805"},{"location":"#_5","text":"Twitter GitHub \u30d6\u30ed\u30b0","title":"\u66f8\u3044\u305f\u3072\u3068"},{"location":"#_6","text":"\u30ac\u30a4\u30c9\u672c\u7de8\u3067\u3059\u3002","title":"\u30cf\u30f3\u30ba\u30aa\u30f3\u30e9\u30dc\u30ac\u30a4\u30c9"},{"location":"#fuji","text":"Fuji \u30ea\u30ea\u30fc\u30b9\u5411\u3051\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u30ac\u30a4\u30c9\u3067\u3059\u3002 Ubuntu \u4e0a\u306e Docker \u74b0\u5883\u3092\u524d\u63d0\u306b\u3001\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u304b\u3089\u8d77\u52d5\u78ba\u8a8d\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u69cb\u6210\u3068\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u307e\u3067\u3092\u6271\u3063\u3066\u3044\u307e\u3059\u3002 \u30cf\u30f3\u30ba\u30aa\u30f3\u30e9\u30dc\u3092\u59cb\u3081\u308b","title":"Fuji \u30ea\u30ea\u30fc\u30b9\u5411\u3051"},{"location":"#geneva","text":"Geneva \u30ea\u30ea\u30fc\u30b9\u5411\u3051\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u30ac\u30a4\u30c9\u306f\u6e96\u5099\u4e2d\u3067\u3059\u3002","title":"Geneva \u30ea\u30ea\u30fc\u30b9\u5411\u3051"},{"location":"fuji/","text":"\u30cf\u30f3\u30ba\u30aa\u30f3\u30e9\u30dc for Fuji release \u00b6 Fuji \u30ea\u30ea\u30fc\u30b9\u5411\u3051\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u30e9\u30dc\u3067\u3059\u3002 Ubuntu \u4e0a\u306e Docker \u74b0\u5883\u3092\u524d\u63d0\u306b\u3001\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u304b\u3089\u8d77\u52d5\u78ba\u8a8d\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u69cb\u6210\u3068\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u307e\u3067\u3092\u6271\u3063\u3066\u3044\u307e\u3059\u3002 Fuji \u30ea\u30ea\u30fc\u30b9\u306e\u6271\u3044 2019 \u5e74 10 \u6708\u306b\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f Fuji \u30ea\u30ea\u30fc\u30b9\u306e\u534a\u5e74\u5f8c\u30012020 \u5e74 4 \u6708\u306b\u306f\u3001\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306e Geneva \u306e\u30ea\u30ea\u30fc\u30b9\u304c\u4e88\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002Fuji \u304b\u3089\u306e\u5909\u66f4\u70b9\u306f\u975e\u5e38\u306b\u591a\u3044\u3082\u306e\u306e\u3001\u5168\u4f53\u306e\u601d\u60f3\u3084\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u306f\u3001\u305d\u308c\u307b\u3069\u5927\u304d\u306a\u9055\u3044\u306f\u3042\u308a\u307e\u305b\u3093\u3002Fuji \u30ea\u30ea\u30fc\u30b9\u306b\u89e6\u308c\u3066\u304a\u3051\u3070\u3001Geneva \u30ea\u30ea\u30fc\u30b9\u306e\u7fd2\u5f97\u3082\u3057\u3084\u3059\u304f\u306a\u308b\u306f\u305a\u3067\u3059\u3002 \u305f\u3060\u3057\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u4e38\u3054\u3068\u5225\u306e\u30c4\u30fc\u30eb\u306b\u7f6e\u304d\u63db\u308f\u3063\u3066\u3044\u308b\u90e8\u5206\u3082\u3042\u308b\u305f\u3081\u3001Fuji \u304b\u3089\u306e\u5909\u66f4\u5ea6\u5408\u3044\u304c\u5927\u304d\u3044\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u3001\u672c\u30ac\u30a4\u30c9\u3067\u3082\u9069\u5b9c\u88dc\u8db3\u3092\u5165\u308c\u3066\u3044\u307e\u3059\u3002 \u30cf\u30f3\u30ba\u30aa\u30f3\u30e9\u30dc\u306e\u30b4\u30fc\u30eb \u00b6 \u3053\u306e\u30ac\u30a4\u30c9\u306f\u3001\u4ee5\u4e0b\u306e\u9054\u6210\u3092\u76ee\u7684\u306b\u57f7\u7b46\u3057\u3066\u3044\u307e\u3059\u3002 EdgeX Foundry \u306e\u57fa\u672c\u7684\u306a\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u7406\u89e3\u3059\u308b EdgeX Foundry \u306e\u57fa\u672c\u7684\u306a\u64cd\u4f5c\u65b9\u6cd5\u3092\u7406\u89e3\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u7fa4\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53ce\u96c6\u3059\u308b\u65b9\u6cd5\u306e\u57fa\u672c\u3092\u7406\u89e3\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u7fa4\u3092\u64cd\u4f5c\u3059\u308b\u65b9\u6cd5\u306e\u57fa\u672c\u3092\u7406\u89e3\u3059\u308b \u53ce\u96c6\u3057\u305f\u30c7\u30fc\u30bf\u3092\u5916\u90e8\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u65b9\u6cd5\u306e\u57fa\u672c\u3092\u7406\u89e3\u3059\u308b \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u3092\u7528\u3044\u3066\u3001\u6761\u4ef6\u306b\u5fdc\u3058\u3066\u81ea\u52d5\u3067\u30c7\u30d0\u30a4\u30b9\u3092\u64cd\u4f5c\u3059\u308b\u65b9\u6cd5\u306e\u57fa\u672c\u3092\u7406\u89e3\u3059\u308b \u5fc5\u8981\u306a\u3082\u306e \u00b6 \u3053\u306e\u30ac\u30a4\u30c9\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u74b0\u5883\u3092\u524d\u63d0\u3068\u3057\u3066\u3044\u307e\u3059\u3002\u74b0\u5883\u306e\u69cb\u7bc9\u81ea\u4f53\u306f\u30cf\u30f3\u30ba\u30aa\u30f3\u30ac\u30a4\u30c9\u3067\u306f\u53d6\u308a\u6271\u308f\u306a\u3044\u306e\u3067\u3001\u305d\u308c\u305e\u308c\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306a\u3069\u3092\u53c2\u8003\u306b\u5c0e\u5165\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30cf\u30f3\u30ba\u30aa\u30f3\u306f Ubuntu \u4e0a\u306e Docker \u74b0\u5883\u3092\u524d\u63d0\u306b\u9032\u884c\u3057\u307e\u3059\u3002 Ubuntu \u3068 Docker\u3001Docker Compose \u306e\u7528\u610f\u304c\u5fc5\u8981 \u3067\u3059\u3002 Virtual Box \u306a\u3069\u3092\u5229\u7528\u3057\u305f\u4eee\u60f3\u30de\u30b7\u30f3\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\u3057\u3001Raspberry Pi \u306a\u3069\u3067\u76f4\u63a5\u52d5\u4f5c\u3055\u305b\u305f\u74b0\u5883\u3067\u3082\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\u305f\u3060\u3057\u3001Raspberry Pi \u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u3001 3B+ \u307e\u305f\u306f 4B \u3092\u5229\u7528\uff08 4B \u3092\u63a8\u5968 \uff09\u3057\u3001\u30e1\u30e2\u30ea\u304c 1 \uff5e 2 GB \u3067\u3042\u308c\u3070 EdgeX Foundry \u306e Wiki \u3092\u53c2\u7167\u3057\u3066 \u30b9\u30ef\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0 \u3057\u3066\u304f\u3060\u3055\u3044\u3002 Ubuntu 18.04 LTS \u4ee5\u964d\uff08 amd64 \u307e\u305f\u306f arm64 \uff09 Ubuntu Installation Guide Docker 19.03 \u4ee5\u964d Get Docker Engine - Community for Ubuntu Docker Compose 1.25.5 \u4ee5\u964d Install Docker Compose \u306a\u304a\u3001\u3053\u306e Ubuntu \u74b0\u5883\u306f\u3001\u4ee5\u4e0b\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u4f5c\u696d\u7528\u306e\u7aef\u672b\u304b\u3089 SSH \u306a\u3069\u3067\u63a5\u7d9a\u3057\u3066\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u64cd\u4f5c\u3067\u304d\u308b\u3053\u3068 \u30a4\u30f3\u30bf\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068 git \u30b3\u30de\u30f3\u30c9\u304c\u5229\u7528\u3067\u304d\u308b\u3053\u3068 \u307e\u305f\u3001\u30e9\u30dc\u306b\u306f Web GUI \u3084 REST API \u306e\u64cd\u4f5c\u306a\u3069\u3092\u542b\u3080\u306e\u3067\u3001\u4f5c\u696d\u7528\u306e\u7aef\u672b\u3067\u4ee5\u4e0b\u304c\u5229\u7528\u3067\u304d\u308b\u72b6\u614b\u306b\u3057\u3066\u304a\u304f\u3068\u30b9\u30e0\u30fc\u30ba\u3067\u3059\u3002 Web \u30d6\u30e9\u30a6\u30b6 Google Chrome \u306a\u3069 Postman Postman | The Collaboration Platform for API Development Note \u30e9\u30dc\u306f\u57fa\u672c\u7684\u306b\u306f Docker \u30b3\u30f3\u30c6\u30ca\u3067\u5b8c\u7d50\u3059\u308b\u305f\u3081\u3001Windows \u3067\u3082\u307b\u3068\u3093\u3069\u540c\u69d8\u306b\u9032\u3081\u3089\u308c\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u30b7\u30a7\u30eb\u74b0\u5883\u306e\u5dee\u7570\u306a\u3069\u3082\u3042\u308b\u305f\u3081\u3001\u9069\u5b9c\u8aad\u307f\u66ff\u3048\u306f\u5fc5\u8981\u3067\u3059\u3002 \u53c2\u8003\u30ea\u30f3\u30af \u00b6 \u30e9\u30dc\u3092\u9032\u3081\u308b\u3046\u3048\u3067\u5fc5\u8981\u306a\u6700\u4f4e\u9650\u306e\u60c5\u5831\u306f\u30ac\u30a4\u30c9\u5185\u306b\u8a18\u8f09\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u8ffd\u52a0\u306e\u60c5\u5831\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u306a\u3069\u3082\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002 EdgeX Foundry \u306e Fuji \u30ea\u30ea\u30fc\u30b9\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 GitHub ( edgexfoundry ) GitHub ( edgexfoundry-holding ) Edge Xpert\uff08\u5546\u7528\u7248 EdgeX Foundry\uff09\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8","title":"Lab 0 - \u306f\u3058\u3081\u306b"},{"location":"fuji/#for-fuji-release","text":"Fuji \u30ea\u30ea\u30fc\u30b9\u5411\u3051\u306e\u30cf\u30f3\u30ba\u30aa\u30f3\u30e9\u30dc\u3067\u3059\u3002 Ubuntu \u4e0a\u306e Docker \u74b0\u5883\u3092\u524d\u63d0\u306b\u3001\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u304b\u3089\u8d77\u52d5\u78ba\u8a8d\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u69cb\u6210\u3068\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u307e\u3067\u3092\u6271\u3063\u3066\u3044\u307e\u3059\u3002 Fuji \u30ea\u30ea\u30fc\u30b9\u306e\u6271\u3044 2019 \u5e74 10 \u6708\u306b\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u305f Fuji \u30ea\u30ea\u30fc\u30b9\u306e\u534a\u5e74\u5f8c\u30012020 \u5e74 4 \u6708\u306b\u306f\u3001\u6700\u65b0\u30d0\u30fc\u30b8\u30e7\u30f3\u306e Geneva \u306e\u30ea\u30ea\u30fc\u30b9\u304c\u4e88\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002Fuji \u304b\u3089\u306e\u5909\u66f4\u70b9\u306f\u975e\u5e38\u306b\u591a\u3044\u3082\u306e\u306e\u3001\u5168\u4f53\u306e\u601d\u60f3\u3084\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u306f\u3001\u305d\u308c\u307b\u3069\u5927\u304d\u306a\u9055\u3044\u306f\u3042\u308a\u307e\u305b\u3093\u3002Fuji \u30ea\u30ea\u30fc\u30b9\u306b\u89e6\u308c\u3066\u304a\u3051\u3070\u3001Geneva \u30ea\u30ea\u30fc\u30b9\u306e\u7fd2\u5f97\u3082\u3057\u3084\u3059\u304f\u306a\u308b\u306f\u305a\u3067\u3059\u3002 \u305f\u3060\u3057\u3001\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u304c\u4e38\u3054\u3068\u5225\u306e\u30c4\u30fc\u30eb\u306b\u7f6e\u304d\u63db\u308f\u3063\u3066\u3044\u308b\u90e8\u5206\u3082\u3042\u308b\u305f\u3081\u3001Fuji \u304b\u3089\u306e\u5909\u66f4\u5ea6\u5408\u3044\u304c\u5927\u304d\u3044\u90e8\u5206\u306b\u3064\u3044\u3066\u306f\u3001\u672c\u30ac\u30a4\u30c9\u3067\u3082\u9069\u5b9c\u88dc\u8db3\u3092\u5165\u308c\u3066\u3044\u307e\u3059\u3002","title":"\u30cf\u30f3\u30ba\u30aa\u30f3\u30e9\u30dc for Fuji release"},{"location":"fuji/#_1","text":"\u3053\u306e\u30ac\u30a4\u30c9\u306f\u3001\u4ee5\u4e0b\u306e\u9054\u6210\u3092\u76ee\u7684\u306b\u57f7\u7b46\u3057\u3066\u3044\u307e\u3059\u3002 EdgeX Foundry \u306e\u57fa\u672c\u7684\u306a\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u7406\u89e3\u3059\u308b EdgeX Foundry \u306e\u57fa\u672c\u7684\u306a\u64cd\u4f5c\u65b9\u6cd5\u3092\u7406\u89e3\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u7fa4\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53ce\u96c6\u3059\u308b\u65b9\u6cd5\u306e\u57fa\u672c\u3092\u7406\u89e3\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u7fa4\u3092\u64cd\u4f5c\u3059\u308b\u65b9\u6cd5\u306e\u57fa\u672c\u3092\u7406\u89e3\u3059\u308b \u53ce\u96c6\u3057\u305f\u30c7\u30fc\u30bf\u3092\u5916\u90e8\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u65b9\u6cd5\u306e\u57fa\u672c\u3092\u7406\u89e3\u3059\u308b \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u3092\u7528\u3044\u3066\u3001\u6761\u4ef6\u306b\u5fdc\u3058\u3066\u81ea\u52d5\u3067\u30c7\u30d0\u30a4\u30b9\u3092\u64cd\u4f5c\u3059\u308b\u65b9\u6cd5\u306e\u57fa\u672c\u3092\u7406\u89e3\u3059\u308b","title":"\u30cf\u30f3\u30ba\u30aa\u30f3\u30e9\u30dc\u306e\u30b4\u30fc\u30eb"},{"location":"fuji/#_2","text":"\u3053\u306e\u30ac\u30a4\u30c9\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u74b0\u5883\u3092\u524d\u63d0\u3068\u3057\u3066\u3044\u307e\u3059\u3002\u74b0\u5883\u306e\u69cb\u7bc9\u81ea\u4f53\u306f\u30cf\u30f3\u30ba\u30aa\u30f3\u30ac\u30a4\u30c9\u3067\u306f\u53d6\u308a\u6271\u308f\u306a\u3044\u306e\u3067\u3001\u305d\u308c\u305e\u308c\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306a\u3069\u3092\u53c2\u8003\u306b\u5c0e\u5165\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30cf\u30f3\u30ba\u30aa\u30f3\u306f Ubuntu \u4e0a\u306e Docker \u74b0\u5883\u3092\u524d\u63d0\u306b\u9032\u884c\u3057\u307e\u3059\u3002 Ubuntu \u3068 Docker\u3001Docker Compose \u306e\u7528\u610f\u304c\u5fc5\u8981 \u3067\u3059\u3002 Virtual Box \u306a\u3069\u3092\u5229\u7528\u3057\u305f\u4eee\u60f3\u30de\u30b7\u30f3\u3067\u3082\u69cb\u3044\u307e\u305b\u3093\u3057\u3001Raspberry Pi \u306a\u3069\u3067\u76f4\u63a5\u52d5\u4f5c\u3055\u305b\u305f\u74b0\u5883\u3067\u3082\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\u305f\u3060\u3057\u3001Raspberry Pi \u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u3001 3B+ \u307e\u305f\u306f 4B \u3092\u5229\u7528\uff08 4B \u3092\u63a8\u5968 \uff09\u3057\u3001\u30e1\u30e2\u30ea\u304c 1 \uff5e 2 GB \u3067\u3042\u308c\u3070 EdgeX Foundry \u306e Wiki \u3092\u53c2\u7167\u3057\u3066 \u30b9\u30ef\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0 \u3057\u3066\u304f\u3060\u3055\u3044\u3002 Ubuntu 18.04 LTS \u4ee5\u964d\uff08 amd64 \u307e\u305f\u306f arm64 \uff09 Ubuntu Installation Guide Docker 19.03 \u4ee5\u964d Get Docker Engine - Community for Ubuntu Docker Compose 1.25.5 \u4ee5\u964d Install Docker Compose \u306a\u304a\u3001\u3053\u306e Ubuntu \u74b0\u5883\u306f\u3001\u4ee5\u4e0b\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3059\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u4f5c\u696d\u7528\u306e\u7aef\u672b\u304b\u3089 SSH \u306a\u3069\u3067\u63a5\u7d9a\u3057\u3066\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u64cd\u4f5c\u3067\u304d\u308b\u3053\u3068 \u30a4\u30f3\u30bf\u30cd\u30c3\u30c8\u306b\u63a5\u7d9a\u3067\u304d\u308b\u3053\u3068 git \u30b3\u30de\u30f3\u30c9\u304c\u5229\u7528\u3067\u304d\u308b\u3053\u3068 \u307e\u305f\u3001\u30e9\u30dc\u306b\u306f Web GUI \u3084 REST API \u306e\u64cd\u4f5c\u306a\u3069\u3092\u542b\u3080\u306e\u3067\u3001\u4f5c\u696d\u7528\u306e\u7aef\u672b\u3067\u4ee5\u4e0b\u304c\u5229\u7528\u3067\u304d\u308b\u72b6\u614b\u306b\u3057\u3066\u304a\u304f\u3068\u30b9\u30e0\u30fc\u30ba\u3067\u3059\u3002 Web \u30d6\u30e9\u30a6\u30b6 Google Chrome \u306a\u3069 Postman Postman | The Collaboration Platform for API Development Note \u30e9\u30dc\u306f\u57fa\u672c\u7684\u306b\u306f Docker \u30b3\u30f3\u30c6\u30ca\u3067\u5b8c\u7d50\u3059\u308b\u305f\u3081\u3001Windows \u3067\u3082\u307b\u3068\u3093\u3069\u540c\u69d8\u306b\u9032\u3081\u3089\u308c\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u30b7\u30a7\u30eb\u74b0\u5883\u306e\u5dee\u7570\u306a\u3069\u3082\u3042\u308b\u305f\u3081\u3001\u9069\u5b9c\u8aad\u307f\u66ff\u3048\u306f\u5fc5\u8981\u3067\u3059\u3002","title":"\u5fc5\u8981\u306a\u3082\u306e"},{"location":"fuji/#_3","text":"\u30e9\u30dc\u3092\u9032\u3081\u308b\u3046\u3048\u3067\u5fc5\u8981\u306a\u6700\u4f4e\u9650\u306e\u60c5\u5831\u306f\u30ac\u30a4\u30c9\u5185\u306b\u8a18\u8f09\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u8ffd\u52a0\u306e\u60c5\u5831\u304c\u5fc5\u8981\u306a\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30b5\u30a4\u30c8\u306a\u3069\u3082\u53c2\u8003\u306b\u306a\u308a\u307e\u3059\u3002 EdgeX Foundry \u306e Fuji \u30ea\u30ea\u30fc\u30b9\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 GitHub ( edgexfoundry ) GitHub ( edgexfoundry-holding ) Edge Xpert\uff08\u5546\u7528\u7248 EdgeX Foundry\uff09\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8","title":"\u53c2\u8003\u30ea\u30f3\u30af"},{"location":"fuji/lab-app-service-export-mqtt/","text":"Lab 4 - \u30c7\u30fc\u30bf\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\uff08MQTT\uff09 \u00b6 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001EdgeX Foundry \u304b\u3089\u3001\u5916\u90e8\u306e\u5206\u6790\u57fa\u76e4\u306a\u3069\u306b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u624b\u6cd5\u3092\u5b9f\u8df5\u3057\u307e\u3059\u3002 \u3053\u306e\u30e9\u30dc\u306e\u30b4\u30fc\u30eb\u3068\u69cb\u6210 \u00b6 \u3053\u306e\u30e9\u30dc\u306e\u76ee\u7684\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u306e\u6982\u8981\u3068\u8003\u3048\u65b9\u3092\u7406\u89e3\u3059\u308b \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u3092\u7528\u3044\u3066\u3001\u5916\u90e8\u306b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u624b\u6cd5\u3092\u7406\u89e3\u3059\u308b \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001Docker Compose \u3092\u5229\u7528\u3057\u3066\u3001Ubuntu \u4e0a\u306e Docker \u30b3\u30f3\u30c6\u30ca\u7fa4\u3068\u3057\u3066 EdgeX Foundry \u3092\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002\u307e\u305f\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5148\u306e MQTT \u306e\u30d6\u30ed\u30fc\u30ab\u3082 Docker \u30b3\u30f3\u30c6\u30ca\u3068\u3057\u3066\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002 \u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306e\u7528\u610f \u00b6 \u30e9\u30dc\u306b\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u524d\u306e\u30e9\u30dc\u3067\u30af\u30ed\u30fc\u30f3\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u30af\u30ed\u30fc\u30f3\u3092\u5b9f\u65bd\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001Ubuntu \u4e0a\u3067\u30af\u30ed\u30fc\u30f3\u3057\u3001CPU \u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u5fdc\u3058\u3066\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u79fb\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002 amd64 git clone https://github.com/kurokobo/edgex-hol-fuji.git cd edgex-hol-fuji cd amd64 arm64 git clone https://github.com/kurokobo/edgex-hol-fuji.git cd edgex-hol-fuji cd arm64 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001 lab-app-service-export-mqtt \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u8eab\u3092\u5229\u7528\u3057\u307e\u3059\u3002 cd lab-app-service-export-mqtt ls -l \u30d5\u30a1\u30a4\u30eb docker-compose.yml \u3068\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea app-service \u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002 \u30c7\u30fc\u30bf\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u624b\u6bb5 \u00b6 \u30c7\u30fc\u30bf\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u306e\u6a5f\u80fd\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u304b\u3089 EdgeX Foundry \u306b\u5165\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u3001\u30d5\u30a3\u30eb\u30bf\u306a\u3069\u306e\u51e6\u7406\u3092\u65bd\u3057\u305f\u3046\u3048\u3067\u5916\u90e8\u306e\u5206\u6790\u57fa\u76e4\u3084\u30af\u30e9\u30a6\u30c9\u74b0\u5883\u306a\u3069\u306b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u9001\u51fa\u3057\u305f\u3044\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3067\u5229\u7528\u3057\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u306b\u306f\u3001Fuji \u30ea\u30ea\u30fc\u30b9\u3067\u306f\u6b21\u306e\u4e8c\u7a2e\u985e\u306e\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4eca\u65e5\u3067\u306f\u5f8c\u8005\u306e\u624b\u6cd5\u304c\u63a8\u5968\u3055\u308c\u308b\u305f\u3081\u3001\u3053\u306e\u30e9\u30dc\u3067\u3082\u5f8c\u8005\u3092\u63a1\u7528\u3057\u3066\u3044\u307e\u3059\u3002 \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9 \u3092\u5229\u7528\u3057\u3066\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b export-client \u30b5\u30fc\u30d3\u30b9\u3068 export-distro \u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3059\u308b\u69cb\u6210 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9 \u3092\u5229\u7528\u3057\u3066\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b app-service \u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3059\u308b\u69cb\u6210 \u4e8c\u3064\u306e\u30b5\u30fc\u30d3\u30b9 EdgeX Foundry \u306b\u306f\u3082\u3068\u3082\u3068\u306f\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u306e\u307f\u304c\u5b58\u5728\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001Fuji \u30ea\u30ea\u30fc\u30b9\u4ee5\u964d\u3001\u65b0\u3057\u3044\u5b9f\u88c5\u3067\u3042\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u304c\u5f93\u6765\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u3092\u7f6e\u304d\u63db\u3048\u3064\u3064\u3042\u308a\u307e\u3059\u3002 Fuji \u30ea\u30ea\u30fc\u30b9\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u306f\u3001\u3053\u3046\u3057\u305f\u5909\u5316\u3092\u53d7\u3051\u3066\u3001\u4e8c\u3064\u306e\u30b5\u30fc\u30d3\u30b9\u304c\u90e8\u5206\u7684\u306b\u6df7\u5728\u3057\u3066\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u95b2\u89a7\u6642\u306f\u82e5\u5e72\u306e\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\u306a\u304a\u3001Geneva \u30ea\u30ea\u30fc\u30b9\u304b\u3089\u306f\u5b8c\u5168\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3059\u3002 \u5f93\u6765\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u3001 data \u30b5\u30fc\u30d3\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u304c\u6765\u308b\u305f\u3073\u306b\u3001\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5148\uff08\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\uff09\u306b export-distro \u30b5\u30fc\u30d3\u30b9\u304c\u9806\u756a\u306b\u914d\u9001\u3057\u3066\u3044\u305f\u3088\u3046\u3067\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5148\u304c\u591a\u3044\u5834\u5408\u306a\u3069\u306b export-distro \u30b5\u30fc\u30d3\u30b9\u304c\u30dc\u30c8\u30eb\u30cd\u30c3\u30af\u306b\u306a\u308a\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u6027\u304c\u5931\u308f\u308c\u308b\u61f8\u5ff5\u304c\u3042\u3063\u305f\u307b\u304b\u3001\u7ba1\u7406\u6027\u3084\u6a5f\u80fd\u306e\u5206\u96e2\u306e\u9762\u3067\u3082\u671b\u307e\u3057\u304f\u306a\u304b\u3063\u305f\u3088\u3046\u3067\u3059\u3002 \u4ed6\u65b9\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u81ea\u4f53\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5148\u3054\u3068\u306b\u500b\u5225\u306b\u7528\u610f\u3059\u308b\u3053\u3068\u3067\u3001\u6a5f\u80fd\u306e\u5206\u96e2\u3068\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u554f\u984c\u304c\u89e3\u6c7a\u3055\u308c\u305f\u307b\u304b\u3001SDK \u304c\u63d0\u4f9b\u3055\u308c\u308b\u3053\u3068\u3067\u3001\u4efb\u610f\u306e\u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u3084\u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u306a\u3069\u3092\u958b\u767a\u3057\u3066\u30a2\u30c9\u30aa\u30f3\u3059\u308b\u624b\u6bb5\u304c\u7528\u610f\u3055\u308c\u307e\u3057\u305f\u3002 \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3044\u305f\u3044 \u4f55\u3089\u304b\u306e\u7406\u7531\u3067\u5f93\u6765\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u3001 docker-compose.yml \u306e export-client \u3068 export-distro \u306e\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3092\u5916\u3059\u3060\u3051\u3067\u5229\u7528\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u90e8\u5206\u306f\u3001 \u516c\u5f0f\u306b\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u3066\u3044\u308b YAML \u30d5\u30a1\u30a4\u30eb \u306b\u3082\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u306e\u6982\u5ff5 \u00b6 \u524d\u8ff0\u306e\u56f3\u4e2d\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u306e\u7bb1\u306e\u4e2d\u306b\u306f\u3001\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\uff08 Fn \u3067\u8868\u8a18\uff09\u3092\u4e26\u3079\u307e\u3057\u305f\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u3001\u3053\u306e\u3088\u3046\u306b\u4efb\u610f\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u7fa4\u3092\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u5316\u3057\u3001\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\u30d5\u30ed\u30fc\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002 \u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u306f\u6a19\u6e96\u3067\u3059\u3067\u306b\u3044\u304f\u3064\u304b\u63d0\u4f9b\u3055\u308c\u3066\u304a\u308a\u3001\u3053\u308c\u3092\u5229\u7528\u3059\u308b\u3060\u3051\u3067\u3082\u3001\u4f8b\u3048\u3070\u3001 \u30c7\u30d0\u30a4\u30b9\u540d\u3067\u30d5\u30a3\u30eb\u30bf\u3059\u308b\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3 \u30ea\u30bd\u30fc\u30b9\u540d\u3067\u30d5\u30a3\u30eb\u30bf\u3059\u308b\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3 JSON \u5f62\u5f0f\u306b\u5909\u63db\u3059\u308b\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3 MQTT \u3067\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3 \u306e\u3088\u3046\u306b\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u69cb\u6210\u3059\u308b\u3053\u3068\u3067\u3001 \u4efb\u610f\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u4efb\u610f\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u5024\u3060\u3051 JSON \u5f62\u5f0f\u3067 MQTT \u30c8\u30d4\u30c3\u30af\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u51e6\u7406 \u3092\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\u73fe\u6642\u70b9\u3067\u5229\u7528\u3067\u304d\u308b\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u306f\u3001 SDK \u306e README.md \u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 \u69cb\u6210\u306e\u8003\u3048\u65b9 \u00b6 \u6a19\u6e96\u3067\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u304c\u3001 app-service-configurable \u3067\u3059\u3002\u3053\u308c\u306f\u3001\u3072\u3068\u3064\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u3072\u3068\u3064\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\uff08\u30b3\u30f3\u30c6\u30ca\uff09\u3067\u51e6\u7406\u3059\u308b\u524d\u63d0\u3067\u4f5c\u3089\u308c\u3066\u304a\u308a\u3001\u307e\u305f\u3001\u305d\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3054\u3068\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb configuration.toml \u3067\u5b9a\u7fa9\u3057\u307e\u3059\u3002 \u3064\u307e\u308a\u3001\u30b3\u30f3\u30c6\u30ca\u74b0\u5883\u306e\u4f8b\u3067\u3044\u3048\u3070\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5148\u304c\u8907\u6570\u3042\u308b\u306e\u3067\u3042\u308c\u3070\u3001\u5192\u982d\u306e\u7d75\u306e\u3088\u3046\u306b\u3001 \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306b\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u5b9f\u884c\u3059\u308b app-service-configurable \u30b3\u30f3\u30c6\u30ca MQTT \u30c8\u30d4\u30c3\u30af\u306b\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u5b9f\u884c\u3059\u308b app-service-configurable \u30b3\u30f3\u30c6\u30ca \u306a\u3069\u3001 app-service-configurable \u306e\u30b3\u30f3\u30c6\u30ca\u304c\u76ee\u7684\u306b\u5fdc\u3058\u3066\u8907\u6570\u8d77\u52d5\u3057\u3066\u3044\u308b\u72b6\u614b\u306b\u306a\u308a\u307e\u3059\u3002 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d \u00b6 app-service-configurable \u306e\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306b\u306f\u3001\u3042\u3089\u304b\u3058\u3081\u76ee\u7684\u5225\u306b\u4e8b\u524d\u69cb\u6210\u3055\u308c\u305f\u8907\u6570\u306e configuration.toml \u304c\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5206\u3051\u3066\u914d\u7f6e\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u304a\u624b\u5143\u306e app-service \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u304c\u305d\u308c\u3067\u3001 mqtt-export \u3084 rules-engine \u306a\u3069\u306e\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3054\u3068\u306b configuration.toml \u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u5b9f\u969b\u306b\u5229\u7528\u3059\u308b configuration.toml \u306f\u3001\u8d77\u52d5\u6642\u306b\u6e21\u3059\u74b0\u5883\u5909\u6570 edgex_profile \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001MQTT \u30c8\u30d4\u30c3\u30af\u3078\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3067\u306f\u3001\u6b21\u306e\u3088\u3046\u306a configuration.toml \u304c\u8aad\u307f\u8fbc\u307e\u308c\u307e\u3059\u3002 $ cat app-service / mqtt-export / configuration . toml ... [Writable.Pipeline] ExecutionOrder = \"TransformToJSON, MQTTSend, MarkAsPushed\" [Writable.Pipeline.Functions.TransformToJSON] [Writable.Pipeline.Functions.MarkAsPushed] [Writable.Pipeline.Functions.FilterByDeviceName] [Writable.Pipeline.Functions.FilterByDeviceName.Parameters] DeviceNames = \"\" [Writable.Pipeline.Functions.FilterByValueDescriptor] [Writable.Pipeline.Functions.FilterByValueDescriptor.Parameters] ValueDescriptors = \"\" [Writable.Pipeline.Functions.MQTTSend] [Writable.Pipeline.Functions.MQTTSend.Parameters] qos = \"0\" key = \"\" autoreconnect = \"false\" retain = \"false\" cert = \"\" persistOnError = \"false\" [Writable.Pipeline.Functions.MQTTSend.Addressable] Address = \"localhost\" Port = 1883 Protocol = \"tcp\" Publisher = \"AppServiceConfigurable-mqtt-export\" User = \"\" Password = \"\" Topic = \"edgex-events\" ... \u5192\u982d\u306e ExecutionOrder \u306b\u542b\u307e\u308c\u308b\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u304c\u3001\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3068\u3057\u3066\u9806\u6b21\u5b9f\u884c\u3055\u308c\u3066\u3044\u304d\u307e\u3059\u3002\u3053\u306e\u4f8b\u3060\u3068\u3001JSON \u306b\u5909\u63db\u3057\u3066\u304b\u3089 MQTT \u30c8\u30d4\u30c3\u30af\u306b\u9001\u4fe1\u3057\u3066\u3044\u307e\u3059\u3002\u5229\u7528\u3059\u308b\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u3054\u3068\u306e\u8a2d\u5b9a\u306f\u3001\u305d\u306e\u4e0b\u304b\u3089\u5217\u6319\u3055\u308c\u3066\u3044\u304d\u307e\u3059\u3002 ExecutionOrder \u306b\u542b\u307e\u308c\u306a\u3044\u3082\u306e\u306f\u5b9f\u969b\u306b\u306f\u7121\u8996\u3055\u308c\u307e\u3059\u3002 MQTT \u30d6\u30ed\u30fc\u30ab\u306e\u30db\u30b9\u30c8\u540d\u306b localhost \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u305f\u308a\u3001\u30c8\u30d4\u30c3\u30af\u540d\u304c edgex-events \u306b\u306a\u3063\u3066\u3044\u305f\u308a\u3057\u307e\u3059\u304c\u3001 Writable \u3067\u59cb\u307e\u308b\u30bb\u30af\u30b7\u30e7\u30f3\u5185\u306e\u8a2d\u5b9a\u5024\u306f\u3001\u5f8c\u8ff0\u3059\u308b \u74b0\u5883\u5909\u6570\u306b\u3088\u308b\u30aa\u30fc\u30d0\u30e9\u30a4\u30c9 \u3067\u5909\u66f4\u3067\u304d\u308b\u306e\u3067\u3001\u3053\u306e\u307e\u307e\u3067\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002 \u74b0\u5883\u5909\u6570\u306b\u3088\u308b\u30aa\u30fc\u30d0\u30e9\u30a4\u30c9 \u00b6 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb configuration.toml \u306b\u542b\u307e\u308c\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u3046\u3061\u3001 Writable \u3067\u59cb\u307e\u308b\u30bb\u30af\u30b7\u30e7\u30f3\u5185\u306e\u8a2d\u5b9a\u5024\u306f\u3001 \u30bb\u30af\u30b7\u30e7\u30f3\u540d\u306e . \u3092 _ \u306b\u7f6e\u304d\u63db\u3048\u3066 \u30d1\u30e9\u30e1\u30fc\u30bf\u540d\u3068 _ \u3067\u9023\u7d50\u3057\u305f\u540d\u79f0\u306e\u74b0\u5883\u5909\u6570 \u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u4e0a\u66f8\u304d\u304c\u53ef\u80fd\u3067\u3059\u3002\u30b3\u30f3\u30c6\u30ca\u306e\u8d77\u52d5\u6642\u306e\u74b0\u5883\u5909\u6570\u306f docker-compose.yml \u3067\u6307\u5b9a\u3067\u304d\u308b\u305f\u3081\u3001 configuration.toml \u3092\u7de8\u96c6\u3059\u308b\u3053\u3068\u306a\u304f\u76ee\u7684\u306e\u8a2d\u5b9a\u3092\u6295\u5165\u3067\u304d\u307e\u3059\u3002\u306a\u304a\u3001\u5927\u6587\u5b57\u3068\u5c0f\u6587\u5b57\u306f\u53b3\u5bc6\u306b\u533a\u5225\u3055\u308c\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001 configuration.toml \u306e [Writable.Pipeline.Functions.MQTTSend.Addressable] Address = \"localhost\" \u306e Address \u3092\u5909\u66f4\u3057\u305f\u3044\u5834\u5408\u306f\u3001 docker-compose.yml \u3067 app-service-configurable \u306e\u74b0\u5883\u5909\u6570\u3068\u3057\u3066\u6b21\u306e\u8a18\u8ff0\u3092\u52a0\u3048\u308c\u3070\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002 environment : Writable_Pipeline_Functions_MQTTSend_Addressable_Address : 192.168.0.239 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u306e\u5b9f\u88c5 \u00b6 \u3053\u3053\u304b\u3089\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u3092\u5b9f\u969b\u306b\u69cb\u6210\u3057\u307e\u3059\u3002 \u30e9\u30dc\u3068\u3057\u3066\u306e\u69cb\u6210 \u00b6 \u3053\u306e\u30e9\u30dc\u3067\u8d77\u52d5\u3059\u308b EdgeX Foundry \u306f\u3001\u3053\u308c\u307e\u3067\u306e\u30e9\u30dc\u3067\u3082\u5229\u7528\u3057\u305f \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9 \u304b\u3089\u306e\u30c7\u30fc\u30bf\u3092\u53ce\u96c6\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u5024\u3092\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u5916\u90e8\u306b\u9001\u51fa\u3059\u308b\u3053\u3068\u3092\u8003\u3048\u307e\u3059\u3002\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5148\u306f\u3001MQTT \u306e\u30c8\u30d4\u30c3\u30af\u3067\u3059\u3002\u69cb\u6210\u30a4\u30e1\u30fc\u30b8\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002 \u30c7\u30fc\u30bf\u3092 MQTT \u306e\u30c8\u30d4\u30c3\u30af\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u5834\u5408\u3001\u672c\u6765\u3067\u3042\u308c\u3070\u3001\u305d\u306e\u30c8\u30d4\u30c3\u30af\u3092\u63d0\u4f9b\u3059\u308b MQTT \u30d6\u30ed\u30fc\u30ab\u306f\u3001\u4f8b\u3048\u3070\u3001\u30af\u30e9\u30a6\u30c9\u4e0a\u306a\u3069\u306b EdgeX Foundry \u3068\u306f\u5225\u306b\u7528\u610f\u3057\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u4eca\u56de\u306f\u30e9\u30dc\u306a\u306e\u3067\u3001\u3059\u3079\u3066\u3092\u30e9\u30dc\u7528\u306e Ubuntu \u30db\u30b9\u30c8\u4e0a\u3067 Docker \u30b3\u30f3\u30c6\u30ca\u3068\u3057\u3066\u52d5\u4f5c\u3055\u305b\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u672c\u6765\u306e\u59ff\u3068\u306f\u82e5\u5e72\u306e\u4e56\u96e2\u304c\u3042\u308b\u70b9\u3092\u7406\u89e3\u3057\u305f\u4e0a\u3067\u9032\u3081\u3066\u304f\u3060\u3055\u3044\u3002 docker-compose.yml \u306e\u4fee\u6b63 \u00b6 \u5148\u306e\u901a\u308a\u3001\u74b0\u5883\u4f9d\u5b58\u306e\u8a2d\u5b9a\u5024\u306f\u3001\u74b0\u5883\u5909\u6570\u3068\u3057\u3066\u4e0e\u3048\u308c\u3070\u3088\u3044\u305f\u3081\u3001\u4eca\u56de\u7de8\u96c6\u3059\u308b\u306e\u306f\u3001Docker Compose \u7528\u306e YAML \u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002 \u516c\u5f0f\u306b\u914d\u5e03\u3055\u308c\u3066\u3044\u308b Docker Compose \u30d5\u30a1\u30a4\u30eb\u306b\u306f\u3001\u3082\u3068\u3082\u3068\u3001\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306b\u30c7\u30fc\u30bf\u3092\u9001\u308b\u7528\u306e app-service-rules \u30b5\u30fc\u30d3\u30b9\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u304a\u308a\u3001\u4eca\u56de\u306e docker-compose.yml \u306b\u3082\u3001\u6b21\u306e\u8a18\u8ff0\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002 amd64 app-service-rules : image : edgexfoundry/docker-app-service-configurable:1.0.0 ports : - \"48100:48100\" container_name : edgex-app-service-configurable-rules hostname : edgex-app-service-configurable-rules networks : edgex-network : aliases : - edgex-app-service-configurable-rules environment : << : *common-variables edgex_service : http://edgex-app-service-configurable-rules:48100 edgex_profile : rules-engine Service_Host : edgex-app-service-configurable-rules MessageBus_SubscribeHost_Host : edgex-core-data depends_on : - consul - logging - data arm64 app-service-rules : image : edgexfoundry/docker-app-service-configurable-arm64:1.0.0 ports : - \"48100:48100\" container_name : edgex-app-service-configurable-rules hostname : edgex-app-service-configurable-rules networks : edgex-network : aliases : - edgex-app-service-configurable-rules environment : << : *common-variables edgex_service : http://edgex-app-service-configurable-rules:48100 edgex_profile : rules-engine Service_Host : edgex-app-service-configurable-rules MessageBus_SubscribeHost_Host : edgex-core-data depends_on : - consul - logging - data \u74b0\u5883\u5909\u6570 edgex_profile \u306b rules-engine \u304c\u4e0e\u3048\u3089\u308c\u3066\u3044\u308b\u306e\u3067\u3001 rules-engine \u914d\u4e0b\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u5229\u7528\u3055\u308c\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001 Writable \u3067\u59cb\u307e\u308b\u74b0\u5883\u5909\u6570\u304c\u306a\u3044\u305f\u3081\u3001\u8a2d\u5b9a\u306f\u3059\u3079\u3066\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u52d5\u4f5c\u3057\u307e\u3059\u3002 \u4eca\u56de\u306e docker-compose.yml \u3067\u306f\u3001\u3053\u308c\u306b\u52a0\u3048\u3066\u3001MQTT \u30c8\u30d4\u30c3\u30af\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b app-service-mqtt-export \u30b5\u30fc\u30d3\u30b9\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002 IP \u30a2\u30c9\u30ec\u30b9 192.168.0.239 \u3092\u3001\u3054\u81ea\u8eab\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u4fee\u6b63\u3057\u4e0a\u66f8\u304d \u3057\u3066\u304f\u3060\u3055\u3044\u3002 amd64 app-service-mqtt-export : image : edgexfoundry/docker-app-service-configurable:1.0.0 ports : - \"48097:48097\" container_name : edgex-app-service-configurable-mqtt-export hostname : edgex-app-service-configurable-mqtt-export networks : edgex-network : aliases : - edgex-app-service-configurable-mqtt-export environment : << : *common-variables edgex_service : http://edgex-app-service-configurable-mqtt-export:48097 edgex_profile : mqtt-export Service_Host : edgex-app-service-configurable-mqtt-export MessageBus_SubscribeHost_Host : edgex-core-data Writable_Pipeline_Functions_MQTTSend_Addressable_Address : 192.168.0.239 Writable_Pipeline_Functions_MQTTSend_Addressable_Port : 1883 Writable_Pipeline_Functions_MQTTSend_Addressable_Protocol : tcp # Writable_Pipeline_Functions_MQTTSend_Addressable_Publisher: # Writable_Pipeline_Functions_MQTTSend_Addressable_User: # Writable_Pipeline_Functions_MQTTSend_Addressable_Password: Writable_Pipeline_Functions_MQTTSend_Addressable_Topic : ExportTopic # Writable_Pipeline_Functions_MQTTSend_Parameters_Qos: # Writable_Pipeline_Functions_MQTTSend_Parameters_Key: # Writable_Pipeline_Functions_MQTTSend_Parameters_Cert: # Writable_Pipeline_Functions_MQTTSend_Parameters_Autoreconnect: # Writable_Pipeline_Functions_MQTTSend_Parameters_Retain: # Writable_Pipeline_Functions_MQTTSend_Parameters_PersistOnError: volumes : - ./app-service:/res depends_on : - consul - logging - data arm64 app-service-mqtt-export : image : edgexfoundry/docker-app-service-configurable-arm64:1.0.0 ports : - \"48097:48097\" container_name : edgex-app-service-configurable-mqtt-export hostname : edgex-app-service-configurable-mqtt-export networks : edgex-network : aliases : - edgex-app-service-configurable-mqtt-export environment : << : *common-variables edgex_service : http://edgex-app-service-configurable-mqtt-export:48097 edgex_profile : mqtt-export Service_Host : edgex-app-service-configurable-mqtt-export MessageBus_SubscribeHost_Host : edgex-core-data Writable_Pipeline_Functions_MQTTSend_Addressable_Address : 192.168.0.239 Writable_Pipeline_Functions_MQTTSend_Addressable_Port : 1883 Writable_Pipeline_Functions_MQTTSend_Addressable_Protocol : tcp # Writable_Pipeline_Functions_MQTTSend_Addressable_Publisher: # Writable_Pipeline_Functions_MQTTSend_Addressable_User: # Writable_Pipeline_Functions_MQTTSend_Addressable_Password: Writable_Pipeline_Functions_MQTTSend_Addressable_Topic : ExportTopic # Writable_Pipeline_Functions_MQTTSend_Parameters_Qos: # Writable_Pipeline_Functions_MQTTSend_Parameters_Key: # Writable_Pipeline_Functions_MQTTSend_Parameters_Cert: # Writable_Pipeline_Functions_MQTTSend_Parameters_Autoreconnect: # Writable_Pipeline_Functions_MQTTSend_Parameters_Retain: # Writable_Pipeline_Functions_MQTTSend_Parameters_PersistOnError: volumes : - ./app-service:/res depends_on : - consul - logging - data \u4f7f\u3063\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306f\u3001\u5148\u307b\u3069\u306e\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u3078\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u7528\u306e\u3082\u306e\u3068\u307e\u3063\u305f\u304f\u540c\u3058\u3067\u3059\u304c\u3001\u4f7f\u3046\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092 edgex_profile \u3067\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u8a18\u8ff0\u306b\u5408\u308f\u305b\u3066\u3001MQTT \u306e\u30d6\u30ed\u30fc\u30ab\u306e IP \u30a2\u30c9\u30ec\u30b9\u3084\u30c8\u30d4\u30c3\u30af\u540d\u306a\u3069\u3001\u5fc5\u8981\u306a\u8a2d\u5b9a\u3092\u74b0\u5883\u5909\u6570\u3067\u5165\u308c\u3066\u3044\u307e\u3059\u3002 \u5192\u982d\u3067\u78ba\u8a8d\u3057\u305f\u901a\u308a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306b\u306f\u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u306f\u542b\u307e\u308c\u305a\u3001\u74b0\u5883\u5909\u6570\u3067\u306e\u4e0a\u66f8\u304d\u3082\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3001 \u3059\u3079\u3066\u306e\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u306e \u3059\u3079\u3066\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u5024 \u304c MQTT \u30c8\u30d4\u30c3\u30af\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3055\u308c\u3066\u304f\u308b\u52d5\u4f5c\u304c\u671f\u5f85\u3067\u304d\u307e\u3059\u3002 \u8d77\u52d5 \u00b6 \u4e0b\u6e96\u5099\u3068\u3057\u3066\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5148\u3068\u306a\u308b MQTT \u30d6\u30ed\u30fc\u30ab\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u8d77\u52d5\u5f8c\u3001 docker ps \u3067 STATUS \u304c Up \u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 $ docker run -d --rm --name broker -p 1883 :1883 eclipse-mosquitto 9e1c5939be6a9c6366c2cbdad5eae5ab5c1665062125d0a8971aa030d2116a8d $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 9e1c5939be6a eclipse-mosquitto \"/docker-entrypoint.\u2026\" 6 seconds ago Up 3 seconds 0 .0.0.0:1883->1883/tcp broker \u7d9a\u3044\u3066\u65b0\u3057\u3044\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u8d77\u52d5\u3057\u3001\u5148\u307b\u3069\u8d77\u52d5\u3057\u305f MQTT \u30d6\u30ed\u30fc\u30ab\u306e\u3059\u3079\u3066\u306e\u30c8\u30d4\u30c3\u30af\u306e\u8cfc\u8aad\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\u3053\u306e\u6bb5\u968e\u3067\u306f\u4f55\u3082\u30c7\u30fc\u30bf\u306f\u6d41\u308c\u3066\u304d\u307e\u305b\u3093\u304c\u3001\u6b63\u5e38\u3067\u3059\u3002\u4eca\u5f8c\u306e\u78ba\u8a8d\u306e\u305f\u3081\u3001\u958b\u3044\u305f\u307e\u307e\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002 \u30b3\u30de\u30f3\u30c9\u306b MQTT \u30d6\u30ed\u30fc\u30ab\u3092\u793a\u3059 IP \u30a2\u30c9\u30ec\u30b9\u3092\u542b\u3080 \u305f\u3081\u3001\u3054\u81ea\u8eab\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066 \u9069\u5b9c\u66f8\u304d\u63db\u3048\u3066 \u304f\u3060\u3055\u3044\u3002 $ docker run --init --rm --name = client -it kurokobo/mqtt-client sub -h 192 .168.0.239 -t \"#\" -v \u3053\u306e\u72b6\u614b\u3067\u3001EdgeX Foundry \u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 $ docker-compose up -d \u52d5\u4f5c\u78ba\u8a8d \u00b6 \u5fc5\u8981\u306a\u8a2d\u5b9a\u306f\u3059\u3079\u3066\u74b0\u5883\u5909\u6570\u3092\u4f7f\u3063\u3066\u4e0e\u3048\u3066\u3044\u305f\u306e\u3067\u3001EdgeX Foundry \u304c\u8d77\u52d5\u3057\u3066\u52d5\u4f5c\u3092\u958b\u59cb\u3059\u308b\u3068\u3001\u4f55\u3082\u3057\u306a\u3044\u3067\u3082 MQTT \u30c8\u30d4\u30c3\u30af ExportTopic \u306b\u5024\u304c\u5c4a\u304d\u59cb\u3081\u307e\u3059\u3002 $ docker run --init --rm --name=client -it kurokobo/mqtt-client sub -h 192.168 . 0.239 -t \"#\" -v ... ExportTopic { \"id\" : \"a11011bb-30cb-44fa-885c-8929c64e35b1\" , \"device\" : \"Random-UnsignedInteger-Device\" , \"origin\" : 1580015685340757500 , \"readings\" :[{ \"id\" : \"26f50397-1e8b-4ca0-8db2-eeeee958a643\" , \"origin\" : 1580015685326443600 , \"device\" : \"Random-UnsignedInteger-Device\" , \"name\" : \"Uint8\" , \"value\" : \"90\" }]} ExportTopic { \"id\" : \"526631fd-a0f7-437d-98a9-4f6eb8a06775\" , \"device\" : \"Random-UnsignedInteger-Device\" , \"origin\" : 1580015685369824800 , \"readings\" :[{ \"id\" : \"91ef8066-5c31-4377-84e6-a6d517457f62\" , \"origin\" : 1580015685356418200 , \"device\" : \"Random-UnsignedInteger-Device\" , \"name\" : \"Uint16\" , \"value\" : \"27009\" }]} ... \u30e9\u30dc\u3067\u306f\u3059\u3079\u3066\u304c\u5358\u4e00\u306e\u30db\u30b9\u30c8\u306b\u9589\u3058\u3066\u3044\u308b\u305f\u3081\u3084\u3084\u308f\u304b\u308a\u306b\u304f\u3044\u3067\u3059\u304c\u3001\u3053\u308c\u3089\u306e\u5024\u306f\u3001 \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3067\u5024\u304c\u751f\u6210\u3055\u308c\u308b \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u5024\u3092\u53d6\u5f97\u3057\u3066\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u9001\u308b \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u304c\u5c4a\u3044\u305f\u30c7\u30fc\u30bf\u3092\u914d\u4fe1\u3059\u308b \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u304c\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u53d6\u308b \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u5185\u3067\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u51e6\u7406\u304c\u8d70\u308a\u3001\u5b9a\u7fa9\u306b\u5f93\u3063\u3066 MQTT \u30c8\u30d4\u30c3\u30af\u306b\u914d\u4fe1\u3055\u308c\u308b \u3068\u3044\u3046\u4e00\u9023\u306e\u51e6\u7406\u306e\u7d50\u679c\u3068\u3057\u3066\u5c4a\u3044\u3066\u3044\u307e\u3059\u3002 \u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306b\u3088\u308b\u30d5\u30a3\u30eb\u30bf\u51e6\u7406 \u00b6 \u524d\u8ff0\u306e\u901a\u308a\u3001\u3053\u3053\u307e\u3067\u306e\u69cb\u6210\u3067\u306f\u3001\u4f55\u306e\u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u3082\u542b\u307e\u308c\u306a\u3044\u305f\u3081\u3001\u5168\u30c7\u30d0\u30a4\u30b9\u306e\u5168\u30c7\u30fc\u30bf\u304c\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002 \u3053\u3053\u3067\u306f\u4f8b\u3068\u3057\u3066\u3001\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u306e\u3046\u3061 Random-Integer-Device \u306e\u5024\u306e\u307f\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u305f\u3044\u3082\u306e\u3068\u3057\u3066\u3001\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u3067\u76ee\u7684\u306e\u72b6\u614b\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002 \u8d77\u52d5\u4e2d\u306e EdgeX Foundry \u3092\u505c\u6b62\u3055\u305b\u307e\u3059\u3002MQTT \u30d6\u30ed\u30fc\u30ab\u3084\u305d\u308c\u3092\u8cfc\u8aad\u4e2d\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u306f\u8d77\u52d5\u3057\u305f\u307e\u307e\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002 $ docker-compose down --volumes \u30a8\u30c7\u30a3\u30bf\u3067 docker-compose.yml \u3092\u958b\u304d\u3001 app-service-mqtt-export \u306e\u74b0\u5883\u5909\u6570\u306e\u5ba3\u8a00\u90e8\u5206\u306b\u3001\u6b21\u306e 2 \u884c\uff08\u30cf\u30a4\u30e9\u30a4\u30c8\u884c\uff09\u3092\u8ffd\u52a0\u3057\u3066\u4e0a\u66f8\u304d\u4fdd\u5b58\u3057\u307e\u3059\u3002 environment : << : *common-variables edgex_service : http://edgex-app-service-configurable-mqtt-export:48097 edgex_profile : mqtt-export Service_Host : edgex-app-service-configurable-mqtt-export MessageBus_SubscribeHost_Host : edgex-core-data Writable_Pipeline_ExecutionOrder : \"FilterByDeviceName, TransformToJSON, MQTTSend, MarkAsPushed\" Writable_Pipeline_Functions_FilterByDeviceName_Parameters_DeviceNames : \"Random-Integer-Device\" Writable_Pipeline_Functions_MQTTSend_Addressable_Address : 192.168.0.239 Writable_Pipeline_Functions_MQTTSend_Addressable_Port : 1883 Writable_Pipeline_Functions_MQTTSend_Addressable_Protocol : tcp \u3053\u306e 2 \u884c\u3067\u3001 configuration.toml \u306e\u6b21\u306e\u884c\u304c\u30aa\u30fc\u30d0\u30e9\u30a4\u30c9\u3055\u308c\u307e\u3059\u3002\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306b FilterByDeviceName \u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u304c\u8ffd\u52a0\u3055\u308c\u3001 FilterByDeviceName \u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u306f\u30c7\u30d0\u30a4\u30b9\u540d Random-Integer-Device \u3067\u30d5\u30a3\u30eb\u30bf\u3059\u308b\u3088\u3046\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002 [Writable.Pipeline] ExecutionOrder = \"TransformToJSON, MQTTSend, MarkAsPushed\" ... [Writable.Pipeline.Functions.FilterByDeviceName] [Writable.Pipeline.Functions.FilterByDeviceName.Parameters] DeviceNames = \"\" EdgeX Foundry \u3092\u8d77\u52d5\u3057\u3001MQTT \u30c8\u30d4\u30c3\u30af\u3092\u8cfc\u8aad\u3057\u3066\u3044\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u6ce8\u76ee\u3057\u307e\u3059\u3002 $ docker-compose up -d MQTT \u30c8\u30d4\u30c3\u30af ExportTopic \u306b\u3001\u30c7\u30d0\u30a4\u30b9 Random-Integer-Device \u306e\u5024\u306e\u307f\u304c\u5c4a\u304f\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308c\u3070\u3001\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306b\u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u3092\u52a0\u3048\u3089\u308c\u305f\u3068\u8a00\u3048\u307e\u3059\u3002 $ docker run --init --rm --name=client -it kurokobo/mqtt-client sub -h 192.168 . 0.239 -t \"#\" -v ... ExportTopic { \"id\" : \"8f94c308-2f6c-4cb1-b91e-b9669c9236b8\" , \"device\" : \"Random-Integer-Device\" , \"origin\" : 1588173403842331375 , \"readings\" :[{ \"id\" : \"7a754435-1684-439d-a176-177f36685cf6\" , \"origin\" : 1588173403785579638 , \"device\" : \"Random-Integer-Device\" , \"name\" : \"Int32\" , \"value\" : \"1689980058\" }]} ExportTopic { \"id\" : \"caf89d79-83e6-41a6-9935-5dd14a2fee73\" , \"device\" : \"Random-Integer-Device\" , \"origin\" : 1588173404110843938 , \"readings\" :[{ \"id\" : \"298f5f12-1845-4080-ba17-520a199242fc\" , \"origin\" : 1588173403950864427 , \"device\" : \"Random-Integer-Device\" , \"name\" : \"Int16\" , \"value\" : \"6486\" }]} ... \u74b0\u5883\u306e\u505c\u6b62 \u00b6 \u5f8c\u7d9a\u306e\u30e9\u30dc\u3067\u306f\u3001\u73fe\u5728\u5229\u7528\u3057\u3066\u3044\u308b\u3082\u306e\u3068\u306f\u5225\u306e docker-compose.yml \u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3057\u307e\u3059\u306e\u3067\u3001\u4eca\u56de\u306e\u3053\u306e\u74b0\u5883\u306f\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002 \u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u4f5c\u6210\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u3068\u3001\u81ea\u52d5\u3067\u4f5c\u6210\u3055\u308c\u305f\u6c38\u7d9a\u30dc\u30ea\u30e5\u30fc\u30e0\u9818\u57df\u3092\u524a\u9664\u3057\u307e\u3059\u3002 $ docker-compose down --volumes Stopping edgex-ui-go ... done ... Removing image portainer/portainer \u307e\u305f\u3001\u52d5\u4f5c\u3055\u305b\u3066\u3044\u308b MQTT \u30d6\u30ed\u30fc\u30ab\u3082\u505c\u6b62\u3055\u305b\u307e\u3059\u3002MQTT \u30c8\u30d4\u30c3\u30af\u3092\u8cfc\u8aad\u3057\u3066\u3044\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u304c\u6b8b\u3063\u3066\u3044\u308c\u3070\u3001 Ctrl + C \u3067\u7d42\u4e86\u3057\u307e\u3059\u3002 $ docker stop broker \u4e0d\u8981\u306a\u30b3\u30f3\u30c6\u30ca\u304c\u6b8b\u3063\u3066\u3044\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES \u307e\u3068\u3081 \u00b6 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001\u4ee5\u4e0b\u3092\u53d6\u308a\u6271\u3044\u307e\u3057\u305f\u3002 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u306e\u6982\u8981\u3068\u8003\u3048\u65b9\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u3092\u7528\u3044\u3066\u3001\u5916\u90e8\u306b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u624b\u6cd5\u3092\u5b9f\u8df5\u3057\u307e\u3057\u305f \u5b9f\u884c\u3055\u308c\u308b\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u51e6\u7406\u3092\u74b0\u5883\u5909\u6570\u3092\u5229\u7528\u3057\u3066\u5909\u66f4\u3059\u308b\u624b\u6cd5\u3092\u5b9f\u8df5\u3057\u307e\u3057\u305f \u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u69cb\u6210\u3067\u304d\u308b GA \u6e08\u307f\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u306f\u73fe\u6642\u70b9\u3067\u306f\u30d9\u30fc\u30b7\u30c3\u30af\u306a\u3082\u306e\u3067\u3059\u304c\u3001 edgexfoundry-holding \u914d\u4e0b\u306e app-service-examples \u30d7\u30ed\u30b8\u30a7\u30af\u30c8 \u3067\u306f\u3001AWS \u306e Iot Core \u3084 Azure \u306e IoT Hub \u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u5b9f\u88c5\u306a\u3069\u3001\u8ffd\u52a0\u306e\u5b9f\u88c5\u4f8b\u306e\u958b\u767a\u304c\u9032\u3081\u3089\u308c\u3066\u3044\u307e\u3059\u3002 \u3053\u3053\u306b\u542b\u307e\u308c\u306a\u3044\u6a5f\u80fd\u3067\u3082\u3001 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u7528\u306e SDK \u304c\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u81ea\u88fd\u3082\u53ef\u80fd\u3067\u3059\u3002","title":"Lab 4 - \u30c7\u30fc\u30bf\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\uff08MQTT\uff09"},{"location":"fuji/lab-app-service-export-mqtt/#lab-4-mqtt","text":"\u3053\u306e\u30e9\u30dc\u3067\u306f\u3001EdgeX Foundry \u304b\u3089\u3001\u5916\u90e8\u306e\u5206\u6790\u57fa\u76e4\u306a\u3069\u306b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u624b\u6cd5\u3092\u5b9f\u8df5\u3057\u307e\u3059\u3002","title":"Lab 4 - \u30c7\u30fc\u30bf\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\uff08MQTT\uff09"},{"location":"fuji/lab-app-service-export-mqtt/#_1","text":"\u3053\u306e\u30e9\u30dc\u306e\u76ee\u7684\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u306e\u6982\u8981\u3068\u8003\u3048\u65b9\u3092\u7406\u89e3\u3059\u308b \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u3092\u7528\u3044\u3066\u3001\u5916\u90e8\u306b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u624b\u6cd5\u3092\u7406\u89e3\u3059\u308b \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001Docker Compose \u3092\u5229\u7528\u3057\u3066\u3001Ubuntu \u4e0a\u306e Docker \u30b3\u30f3\u30c6\u30ca\u7fa4\u3068\u3057\u3066 EdgeX Foundry \u3092\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002\u307e\u305f\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5148\u306e MQTT \u306e\u30d6\u30ed\u30fc\u30ab\u3082 Docker \u30b3\u30f3\u30c6\u30ca\u3068\u3057\u3066\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002","title":"\u3053\u306e\u30e9\u30dc\u306e\u30b4\u30fc\u30eb\u3068\u69cb\u6210"},{"location":"fuji/lab-app-service-export-mqtt/#_2","text":"\u30e9\u30dc\u306b\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u524d\u306e\u30e9\u30dc\u3067\u30af\u30ed\u30fc\u30f3\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u30af\u30ed\u30fc\u30f3\u3092\u5b9f\u65bd\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001Ubuntu \u4e0a\u3067\u30af\u30ed\u30fc\u30f3\u3057\u3001CPU \u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u5fdc\u3058\u3066\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u79fb\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002 amd64 git clone https://github.com/kurokobo/edgex-hol-fuji.git cd edgex-hol-fuji cd amd64 arm64 git clone https://github.com/kurokobo/edgex-hol-fuji.git cd edgex-hol-fuji cd arm64 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001 lab-app-service-export-mqtt \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u8eab\u3092\u5229\u7528\u3057\u307e\u3059\u3002 cd lab-app-service-export-mqtt ls -l \u30d5\u30a1\u30a4\u30eb docker-compose.yml \u3068\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea app-service \u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002","title":"\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306e\u7528\u610f"},{"location":"fuji/lab-app-service-export-mqtt/#_3","text":"\u30c7\u30fc\u30bf\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u306e\u6a5f\u80fd\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u304b\u3089 EdgeX Foundry \u306b\u5165\u3063\u3066\u304d\u305f\u30c7\u30fc\u30bf\u3092\u3001\u30d5\u30a3\u30eb\u30bf\u306a\u3069\u306e\u51e6\u7406\u3092\u65bd\u3057\u305f\u3046\u3048\u3067\u5916\u90e8\u306e\u5206\u6790\u57fa\u76e4\u3084\u30af\u30e9\u30a6\u30c9\u74b0\u5883\u306a\u3069\u306b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u9001\u51fa\u3057\u305f\u3044\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3067\u5229\u7528\u3057\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u306b\u306f\u3001Fuji \u30ea\u30ea\u30fc\u30b9\u3067\u306f\u6b21\u306e\u4e8c\u7a2e\u985e\u306e\u65b9\u6cd5\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u4eca\u65e5\u3067\u306f\u5f8c\u8005\u306e\u624b\u6cd5\u304c\u63a8\u5968\u3055\u308c\u308b\u305f\u3081\u3001\u3053\u306e\u30e9\u30dc\u3067\u3082\u5f8c\u8005\u3092\u63a1\u7528\u3057\u3066\u3044\u307e\u3059\u3002 \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9 \u3092\u5229\u7528\u3057\u3066\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b export-client \u30b5\u30fc\u30d3\u30b9\u3068 export-distro \u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3059\u308b\u69cb\u6210 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9 \u3092\u5229\u7528\u3057\u3066\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b app-service \u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3059\u308b\u69cb\u6210 \u4e8c\u3064\u306e\u30b5\u30fc\u30d3\u30b9 EdgeX Foundry \u306b\u306f\u3082\u3068\u3082\u3068\u306f\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u306e\u307f\u304c\u5b58\u5728\u3057\u3066\u3044\u307e\u3057\u305f\u304c\u3001Fuji \u30ea\u30ea\u30fc\u30b9\u4ee5\u964d\u3001\u65b0\u3057\u3044\u5b9f\u88c5\u3067\u3042\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u304c\u5f93\u6765\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u3092\u7f6e\u304d\u63db\u3048\u3064\u3064\u3042\u308a\u307e\u3059\u3002 Fuji \u30ea\u30ea\u30fc\u30b9\u306e\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u306f\u3001\u3053\u3046\u3057\u305f\u5909\u5316\u3092\u53d7\u3051\u3066\u3001\u4e8c\u3064\u306e\u30b5\u30fc\u30d3\u30b9\u304c\u90e8\u5206\u7684\u306b\u6df7\u5728\u3057\u3066\u8a18\u8ff0\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u95b2\u89a7\u6642\u306f\u82e5\u5e72\u306e\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002\u306a\u304a\u3001Geneva \u30ea\u30ea\u30fc\u30b9\u304b\u3089\u306f\u5b8c\u5168\u306b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u307e\u3059\u3002 \u5f93\u6765\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u3001 data \u30b5\u30fc\u30d3\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u304c\u6765\u308b\u305f\u3073\u306b\u3001\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5148\uff08\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\uff09\u306b export-distro \u30b5\u30fc\u30d3\u30b9\u304c\u9806\u756a\u306b\u914d\u9001\u3057\u3066\u3044\u305f\u3088\u3046\u3067\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5148\u304c\u591a\u3044\u5834\u5408\u306a\u3069\u306b export-distro \u30b5\u30fc\u30d3\u30b9\u304c\u30dc\u30c8\u30eb\u30cd\u30c3\u30af\u306b\u306a\u308a\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u6027\u304c\u5931\u308f\u308c\u308b\u61f8\u5ff5\u304c\u3042\u3063\u305f\u307b\u304b\u3001\u7ba1\u7406\u6027\u3084\u6a5f\u80fd\u306e\u5206\u96e2\u306e\u9762\u3067\u3082\u671b\u307e\u3057\u304f\u306a\u304b\u3063\u305f\u3088\u3046\u3067\u3059\u3002 \u4ed6\u65b9\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u81ea\u4f53\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5148\u3054\u3068\u306b\u500b\u5225\u306b\u7528\u610f\u3059\u308b\u3053\u3068\u3067\u3001\u6a5f\u80fd\u306e\u5206\u96e2\u3068\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306e\u554f\u984c\u304c\u89e3\u6c7a\u3055\u308c\u305f\u307b\u304b\u3001SDK \u304c\u63d0\u4f9b\u3055\u308c\u308b\u3053\u3068\u3067\u3001\u4efb\u610f\u306e\u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u3084\u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u306a\u3069\u3092\u958b\u767a\u3057\u3066\u30a2\u30c9\u30aa\u30f3\u3059\u308b\u624b\u6bb5\u304c\u7528\u610f\u3055\u308c\u307e\u3057\u305f\u3002 \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u3044\u305f\u3044 \u4f55\u3089\u304b\u306e\u7406\u7531\u3067\u5f93\u6765\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u3001 docker-compose.yml \u306e export-client \u3068 export-distro \u306e\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u3092\u5916\u3059\u3060\u3051\u3067\u5229\u7528\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u30b3\u30e1\u30f3\u30c8\u30a2\u30a6\u30c8\u90e8\u5206\u306f\u3001 \u516c\u5f0f\u306b\u30ea\u30ea\u30fc\u30b9\u3055\u308c\u3066\u3044\u308b YAML \u30d5\u30a1\u30a4\u30eb \u306b\u3082\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002","title":"\u30c7\u30fc\u30bf\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u624b\u6bb5"},{"location":"fuji/lab-app-service-export-mqtt/#_4","text":"\u524d\u8ff0\u306e\u56f3\u4e2d\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u306e\u7bb1\u306e\u4e2d\u306b\u306f\u3001\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\uff08 Fn \u3067\u8868\u8a18\uff09\u3092\u4e26\u3079\u307e\u3057\u305f\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u3001\u3053\u306e\u3088\u3046\u306b\u4efb\u610f\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u7fa4\u3092\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u5316\u3057\u3001\u30c7\u30fc\u30bf\u3092\u51e6\u7406\u3059\u308b\u30d5\u30ed\u30fc\u3092\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002 \u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u306f\u6a19\u6e96\u3067\u3059\u3067\u306b\u3044\u304f\u3064\u304b\u63d0\u4f9b\u3055\u308c\u3066\u304a\u308a\u3001\u3053\u308c\u3092\u5229\u7528\u3059\u308b\u3060\u3051\u3067\u3082\u3001\u4f8b\u3048\u3070\u3001 \u30c7\u30d0\u30a4\u30b9\u540d\u3067\u30d5\u30a3\u30eb\u30bf\u3059\u308b\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3 \u30ea\u30bd\u30fc\u30b9\u540d\u3067\u30d5\u30a3\u30eb\u30bf\u3059\u308b\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3 JSON \u5f62\u5f0f\u306b\u5909\u63db\u3059\u308b\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3 MQTT \u3067\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3 \u306e\u3088\u3046\u306b\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u69cb\u6210\u3059\u308b\u3053\u3068\u3067\u3001 \u4efb\u610f\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u4efb\u610f\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u5024\u3060\u3051 JSON \u5f62\u5f0f\u3067 MQTT \u30c8\u30d4\u30c3\u30af\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u51e6\u7406 \u3092\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002\u73fe\u6642\u70b9\u3067\u5229\u7528\u3067\u304d\u308b\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u306f\u3001 SDK \u306e README.md \u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002","title":"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u306e\u6982\u5ff5"},{"location":"fuji/lab-app-service-export-mqtt/#_5","text":"\u6a19\u6e96\u3067\u5b9f\u88c5\u3055\u308c\u3066\u3044\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u304c\u3001 app-service-configurable \u3067\u3059\u3002\u3053\u308c\u306f\u3001\u3072\u3068\u3064\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u3072\u3068\u3064\u306e\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\uff08\u30b3\u30f3\u30c6\u30ca\uff09\u3067\u51e6\u7406\u3059\u308b\u524d\u63d0\u3067\u4f5c\u3089\u308c\u3066\u304a\u308a\u3001\u307e\u305f\u3001\u305d\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306f\u3001\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u3054\u3068\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb configuration.toml \u3067\u5b9a\u7fa9\u3057\u307e\u3059\u3002 \u3064\u307e\u308a\u3001\u30b3\u30f3\u30c6\u30ca\u74b0\u5883\u306e\u4f8b\u3067\u3044\u3048\u3070\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5148\u304c\u8907\u6570\u3042\u308b\u306e\u3067\u3042\u308c\u3070\u3001\u5192\u982d\u306e\u7d75\u306e\u3088\u3046\u306b\u3001 \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306b\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u5b9f\u884c\u3059\u308b app-service-configurable \u30b3\u30f3\u30c6\u30ca MQTT \u30c8\u30d4\u30c3\u30af\u306b\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u5b9f\u884c\u3059\u308b app-service-configurable \u30b3\u30f3\u30c6\u30ca \u306a\u3069\u3001 app-service-configurable \u306e\u30b3\u30f3\u30c6\u30ca\u304c\u76ee\u7684\u306b\u5fdc\u3058\u3066\u8907\u6570\u8d77\u52d5\u3057\u3066\u3044\u308b\u72b6\u614b\u306b\u306a\u308a\u307e\u3059\u3002","title":"\u69cb\u6210\u306e\u8003\u3048\u65b9"},{"location":"fuji/lab-app-service-export-mqtt/#_6","text":"app-service-configurable \u306e\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306b\u306f\u3001\u3042\u3089\u304b\u3058\u3081\u76ee\u7684\u5225\u306b\u4e8b\u524d\u69cb\u6210\u3055\u308c\u305f\u8907\u6570\u306e configuration.toml \u304c\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u5206\u3051\u3066\u914d\u7f6e\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u304a\u624b\u5143\u306e app-service \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u304c\u305d\u308c\u3067\u3001 mqtt-export \u3084 rules-engine \u306a\u3069\u306e\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3054\u3068\u306b configuration.toml \u304c\u914d\u7f6e\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u5b9f\u969b\u306b\u5229\u7528\u3059\u308b configuration.toml \u306f\u3001\u8d77\u52d5\u6642\u306b\u6e21\u3059\u74b0\u5883\u5909\u6570 edgex_profile \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001MQTT \u30c8\u30d4\u30c3\u30af\u3078\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3067\u306f\u3001\u6b21\u306e\u3088\u3046\u306a configuration.toml \u304c\u8aad\u307f\u8fbc\u307e\u308c\u307e\u3059\u3002 $ cat app-service / mqtt-export / configuration . toml ... [Writable.Pipeline] ExecutionOrder = \"TransformToJSON, MQTTSend, MarkAsPushed\" [Writable.Pipeline.Functions.TransformToJSON] [Writable.Pipeline.Functions.MarkAsPushed] [Writable.Pipeline.Functions.FilterByDeviceName] [Writable.Pipeline.Functions.FilterByDeviceName.Parameters] DeviceNames = \"\" [Writable.Pipeline.Functions.FilterByValueDescriptor] [Writable.Pipeline.Functions.FilterByValueDescriptor.Parameters] ValueDescriptors = \"\" [Writable.Pipeline.Functions.MQTTSend] [Writable.Pipeline.Functions.MQTTSend.Parameters] qos = \"0\" key = \"\" autoreconnect = \"false\" retain = \"false\" cert = \"\" persistOnError = \"false\" [Writable.Pipeline.Functions.MQTTSend.Addressable] Address = \"localhost\" Port = 1883 Protocol = \"tcp\" Publisher = \"AppServiceConfigurable-mqtt-export\" User = \"\" Password = \"\" Topic = \"edgex-events\" ... \u5192\u982d\u306e ExecutionOrder \u306b\u542b\u307e\u308c\u308b\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u304c\u3001\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3068\u3057\u3066\u9806\u6b21\u5b9f\u884c\u3055\u308c\u3066\u3044\u304d\u307e\u3059\u3002\u3053\u306e\u4f8b\u3060\u3068\u3001JSON \u306b\u5909\u63db\u3057\u3066\u304b\u3089 MQTT \u30c8\u30d4\u30c3\u30af\u306b\u9001\u4fe1\u3057\u3066\u3044\u307e\u3059\u3002\u5229\u7528\u3059\u308b\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u3054\u3068\u306e\u8a2d\u5b9a\u306f\u3001\u305d\u306e\u4e0b\u304b\u3089\u5217\u6319\u3055\u308c\u3066\u3044\u304d\u307e\u3059\u3002 ExecutionOrder \u306b\u542b\u307e\u308c\u306a\u3044\u3082\u306e\u306f\u5b9f\u969b\u306b\u306f\u7121\u8996\u3055\u308c\u307e\u3059\u3002 MQTT \u30d6\u30ed\u30fc\u30ab\u306e\u30db\u30b9\u30c8\u540d\u306b localhost \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u305f\u308a\u3001\u30c8\u30d4\u30c3\u30af\u540d\u304c edgex-events \u306b\u306a\u3063\u3066\u3044\u305f\u308a\u3057\u307e\u3059\u304c\u3001 Writable \u3067\u59cb\u307e\u308b\u30bb\u30af\u30b7\u30e7\u30f3\u5185\u306e\u8a2d\u5b9a\u5024\u306f\u3001\u5f8c\u8ff0\u3059\u308b \u74b0\u5883\u5909\u6570\u306b\u3088\u308b\u30aa\u30fc\u30d0\u30e9\u30a4\u30c9 \u3067\u5909\u66f4\u3067\u304d\u308b\u306e\u3067\u3001\u3053\u306e\u307e\u307e\u3067\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002","title":"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u78ba\u8a8d"},{"location":"fuji/lab-app-service-export-mqtt/#_7","text":"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb configuration.toml \u306b\u542b\u307e\u308c\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u3046\u3061\u3001 Writable \u3067\u59cb\u307e\u308b\u30bb\u30af\u30b7\u30e7\u30f3\u5185\u306e\u8a2d\u5b9a\u5024\u306f\u3001 \u30bb\u30af\u30b7\u30e7\u30f3\u540d\u306e . \u3092 _ \u306b\u7f6e\u304d\u63db\u3048\u3066 \u30d1\u30e9\u30e1\u30fc\u30bf\u540d\u3068 _ \u3067\u9023\u7d50\u3057\u305f\u540d\u79f0\u306e\u74b0\u5883\u5909\u6570 \u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u4e0a\u66f8\u304d\u304c\u53ef\u80fd\u3067\u3059\u3002\u30b3\u30f3\u30c6\u30ca\u306e\u8d77\u52d5\u6642\u306e\u74b0\u5883\u5909\u6570\u306f docker-compose.yml \u3067\u6307\u5b9a\u3067\u304d\u308b\u305f\u3081\u3001 configuration.toml \u3092\u7de8\u96c6\u3059\u308b\u3053\u3068\u306a\u304f\u76ee\u7684\u306e\u8a2d\u5b9a\u3092\u6295\u5165\u3067\u304d\u307e\u3059\u3002\u306a\u304a\u3001\u5927\u6587\u5b57\u3068\u5c0f\u6587\u5b57\u306f\u53b3\u5bc6\u306b\u533a\u5225\u3055\u308c\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001 configuration.toml \u306e [Writable.Pipeline.Functions.MQTTSend.Addressable] Address = \"localhost\" \u306e Address \u3092\u5909\u66f4\u3057\u305f\u3044\u5834\u5408\u306f\u3001 docker-compose.yml \u3067 app-service-configurable \u306e\u74b0\u5883\u5909\u6570\u3068\u3057\u3066\u6b21\u306e\u8a18\u8ff0\u3092\u52a0\u3048\u308c\u3070\u5b9f\u73fe\u3067\u304d\u307e\u3059\u3002 environment : Writable_Pipeline_Functions_MQTTSend_Addressable_Address : 192.168.0.239","title":"\u74b0\u5883\u5909\u6570\u306b\u3088\u308b\u30aa\u30fc\u30d0\u30e9\u30a4\u30c9"},{"location":"fuji/lab-app-service-export-mqtt/#_8","text":"\u3053\u3053\u304b\u3089\u3001\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u3092\u5b9f\u969b\u306b\u69cb\u6210\u3057\u307e\u3059\u3002","title":"\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u306e\u5b9f\u88c5"},{"location":"fuji/lab-app-service-export-mqtt/#_9","text":"\u3053\u306e\u30e9\u30dc\u3067\u8d77\u52d5\u3059\u308b EdgeX Foundry \u306f\u3001\u3053\u308c\u307e\u3067\u306e\u30e9\u30dc\u3067\u3082\u5229\u7528\u3057\u305f \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9 \u304b\u3089\u306e\u30c7\u30fc\u30bf\u3092\u53ce\u96c6\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3089\u306e\u5024\u3092\u3001\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u5916\u90e8\u306b\u9001\u51fa\u3059\u308b\u3053\u3068\u3092\u8003\u3048\u307e\u3059\u3002\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5148\u306f\u3001MQTT \u306e\u30c8\u30d4\u30c3\u30af\u3067\u3059\u3002\u69cb\u6210\u30a4\u30e1\u30fc\u30b8\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002 \u30c7\u30fc\u30bf\u3092 MQTT \u306e\u30c8\u30d4\u30c3\u30af\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u5834\u5408\u3001\u672c\u6765\u3067\u3042\u308c\u3070\u3001\u305d\u306e\u30c8\u30d4\u30c3\u30af\u3092\u63d0\u4f9b\u3059\u308b MQTT \u30d6\u30ed\u30fc\u30ab\u306f\u3001\u4f8b\u3048\u3070\u3001\u30af\u30e9\u30a6\u30c9\u4e0a\u306a\u3069\u306b EdgeX Foundry \u3068\u306f\u5225\u306b\u7528\u610f\u3057\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u4eca\u56de\u306f\u30e9\u30dc\u306a\u306e\u3067\u3001\u3059\u3079\u3066\u3092\u30e9\u30dc\u7528\u306e Ubuntu \u30db\u30b9\u30c8\u4e0a\u3067 Docker \u30b3\u30f3\u30c6\u30ca\u3068\u3057\u3066\u52d5\u4f5c\u3055\u305b\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u672c\u6765\u306e\u59ff\u3068\u306f\u82e5\u5e72\u306e\u4e56\u96e2\u304c\u3042\u308b\u70b9\u3092\u7406\u89e3\u3057\u305f\u4e0a\u3067\u9032\u3081\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u30e9\u30dc\u3068\u3057\u3066\u306e\u69cb\u6210"},{"location":"fuji/lab-app-service-export-mqtt/#docker-composeyml","text":"\u5148\u306e\u901a\u308a\u3001\u74b0\u5883\u4f9d\u5b58\u306e\u8a2d\u5b9a\u5024\u306f\u3001\u74b0\u5883\u5909\u6570\u3068\u3057\u3066\u4e0e\u3048\u308c\u3070\u3088\u3044\u305f\u3081\u3001\u4eca\u56de\u7de8\u96c6\u3059\u308b\u306e\u306f\u3001Docker Compose \u7528\u306e YAML \u30d5\u30a1\u30a4\u30eb\u3067\u3059\u3002 \u516c\u5f0f\u306b\u914d\u5e03\u3055\u308c\u3066\u3044\u308b Docker Compose \u30d5\u30a1\u30a4\u30eb\u306b\u306f\u3001\u3082\u3068\u3082\u3068\u3001\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306b\u30c7\u30fc\u30bf\u3092\u9001\u308b\u7528\u306e app-service-rules \u30b5\u30fc\u30d3\u30b9\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u304a\u308a\u3001\u4eca\u56de\u306e docker-compose.yml \u306b\u3082\u3001\u6b21\u306e\u8a18\u8ff0\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002 amd64 app-service-rules : image : edgexfoundry/docker-app-service-configurable:1.0.0 ports : - \"48100:48100\" container_name : edgex-app-service-configurable-rules hostname : edgex-app-service-configurable-rules networks : edgex-network : aliases : - edgex-app-service-configurable-rules environment : << : *common-variables edgex_service : http://edgex-app-service-configurable-rules:48100 edgex_profile : rules-engine Service_Host : edgex-app-service-configurable-rules MessageBus_SubscribeHost_Host : edgex-core-data depends_on : - consul - logging - data arm64 app-service-rules : image : edgexfoundry/docker-app-service-configurable-arm64:1.0.0 ports : - \"48100:48100\" container_name : edgex-app-service-configurable-rules hostname : edgex-app-service-configurable-rules networks : edgex-network : aliases : - edgex-app-service-configurable-rules environment : << : *common-variables edgex_service : http://edgex-app-service-configurable-rules:48100 edgex_profile : rules-engine Service_Host : edgex-app-service-configurable-rules MessageBus_SubscribeHost_Host : edgex-core-data depends_on : - consul - logging - data \u74b0\u5883\u5909\u6570 edgex_profile \u306b rules-engine \u304c\u4e0e\u3048\u3089\u308c\u3066\u3044\u308b\u306e\u3067\u3001 rules-engine \u914d\u4e0b\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u5229\u7528\u3055\u308c\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002\u307e\u305f\u3001 Writable \u3067\u59cb\u307e\u308b\u74b0\u5883\u5909\u6570\u304c\u306a\u3044\u305f\u3081\u3001\u8a2d\u5b9a\u306f\u3059\u3079\u3066\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u52d5\u4f5c\u3057\u307e\u3059\u3002 \u4eca\u56de\u306e docker-compose.yml \u3067\u306f\u3001\u3053\u308c\u306b\u52a0\u3048\u3066\u3001MQTT \u30c8\u30d4\u30c3\u30af\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b app-service-mqtt-export \u30b5\u30fc\u30d3\u30b9\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002 IP \u30a2\u30c9\u30ec\u30b9 192.168.0.239 \u3092\u3001\u3054\u81ea\u8eab\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u4fee\u6b63\u3057\u4e0a\u66f8\u304d \u3057\u3066\u304f\u3060\u3055\u3044\u3002 amd64 app-service-mqtt-export : image : edgexfoundry/docker-app-service-configurable:1.0.0 ports : - \"48097:48097\" container_name : edgex-app-service-configurable-mqtt-export hostname : edgex-app-service-configurable-mqtt-export networks : edgex-network : aliases : - edgex-app-service-configurable-mqtt-export environment : << : *common-variables edgex_service : http://edgex-app-service-configurable-mqtt-export:48097 edgex_profile : mqtt-export Service_Host : edgex-app-service-configurable-mqtt-export MessageBus_SubscribeHost_Host : edgex-core-data Writable_Pipeline_Functions_MQTTSend_Addressable_Address : 192.168.0.239 Writable_Pipeline_Functions_MQTTSend_Addressable_Port : 1883 Writable_Pipeline_Functions_MQTTSend_Addressable_Protocol : tcp # Writable_Pipeline_Functions_MQTTSend_Addressable_Publisher: # Writable_Pipeline_Functions_MQTTSend_Addressable_User: # Writable_Pipeline_Functions_MQTTSend_Addressable_Password: Writable_Pipeline_Functions_MQTTSend_Addressable_Topic : ExportTopic # Writable_Pipeline_Functions_MQTTSend_Parameters_Qos: # Writable_Pipeline_Functions_MQTTSend_Parameters_Key: # Writable_Pipeline_Functions_MQTTSend_Parameters_Cert: # Writable_Pipeline_Functions_MQTTSend_Parameters_Autoreconnect: # Writable_Pipeline_Functions_MQTTSend_Parameters_Retain: # Writable_Pipeline_Functions_MQTTSend_Parameters_PersistOnError: volumes : - ./app-service:/res depends_on : - consul - logging - data arm64 app-service-mqtt-export : image : edgexfoundry/docker-app-service-configurable-arm64:1.0.0 ports : - \"48097:48097\" container_name : edgex-app-service-configurable-mqtt-export hostname : edgex-app-service-configurable-mqtt-export networks : edgex-network : aliases : - edgex-app-service-configurable-mqtt-export environment : << : *common-variables edgex_service : http://edgex-app-service-configurable-mqtt-export:48097 edgex_profile : mqtt-export Service_Host : edgex-app-service-configurable-mqtt-export MessageBus_SubscribeHost_Host : edgex-core-data Writable_Pipeline_Functions_MQTTSend_Addressable_Address : 192.168.0.239 Writable_Pipeline_Functions_MQTTSend_Addressable_Port : 1883 Writable_Pipeline_Functions_MQTTSend_Addressable_Protocol : tcp # Writable_Pipeline_Functions_MQTTSend_Addressable_Publisher: # Writable_Pipeline_Functions_MQTTSend_Addressable_User: # Writable_Pipeline_Functions_MQTTSend_Addressable_Password: Writable_Pipeline_Functions_MQTTSend_Addressable_Topic : ExportTopic # Writable_Pipeline_Functions_MQTTSend_Parameters_Qos: # Writable_Pipeline_Functions_MQTTSend_Parameters_Key: # Writable_Pipeline_Functions_MQTTSend_Parameters_Cert: # Writable_Pipeline_Functions_MQTTSend_Parameters_Autoreconnect: # Writable_Pipeline_Functions_MQTTSend_Parameters_Retain: # Writable_Pipeline_Functions_MQTTSend_Parameters_PersistOnError: volumes : - ./app-service:/res depends_on : - consul - logging - data \u4f7f\u3063\u3066\u3044\u308b\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306f\u3001\u5148\u307b\u3069\u306e\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u3078\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u7528\u306e\u3082\u306e\u3068\u307e\u3063\u305f\u304f\u540c\u3058\u3067\u3059\u304c\u3001\u4f7f\u3046\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092 edgex_profile \u3067\u5909\u66f4\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u8a18\u8ff0\u306b\u5408\u308f\u305b\u3066\u3001MQTT \u306e\u30d6\u30ed\u30fc\u30ab\u306e IP \u30a2\u30c9\u30ec\u30b9\u3084\u30c8\u30d4\u30c3\u30af\u540d\u306a\u3069\u3001\u5fc5\u8981\u306a\u8a2d\u5b9a\u3092\u74b0\u5883\u5909\u6570\u3067\u5165\u308c\u3066\u3044\u307e\u3059\u3002 \u5192\u982d\u3067\u78ba\u8a8d\u3057\u305f\u901a\u308a\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306b\u306f\u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u306f\u542b\u307e\u308c\u305a\u3001\u74b0\u5883\u5909\u6570\u3067\u306e\u4e0a\u66f8\u304d\u3082\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3001 \u3059\u3079\u3066\u306e\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u306e \u3059\u3079\u3066\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u5024 \u304c MQTT \u30c8\u30d4\u30c3\u30af\u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3055\u308c\u3066\u304f\u308b\u52d5\u4f5c\u304c\u671f\u5f85\u3067\u304d\u307e\u3059\u3002","title":"docker-compose.yml \u306e\u4fee\u6b63"},{"location":"fuji/lab-app-service-export-mqtt/#_10","text":"\u4e0b\u6e96\u5099\u3068\u3057\u3066\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u5148\u3068\u306a\u308b MQTT \u30d6\u30ed\u30fc\u30ab\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u8d77\u52d5\u5f8c\u3001 docker ps \u3067 STATUS \u304c Up \u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 $ docker run -d --rm --name broker -p 1883 :1883 eclipse-mosquitto 9e1c5939be6a9c6366c2cbdad5eae5ab5c1665062125d0a8971aa030d2116a8d $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 9e1c5939be6a eclipse-mosquitto \"/docker-entrypoint.\u2026\" 6 seconds ago Up 3 seconds 0 .0.0.0:1883->1883/tcp broker \u7d9a\u3044\u3066\u65b0\u3057\u3044\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u8d77\u52d5\u3057\u3001\u5148\u307b\u3069\u8d77\u52d5\u3057\u305f MQTT \u30d6\u30ed\u30fc\u30ab\u306e\u3059\u3079\u3066\u306e\u30c8\u30d4\u30c3\u30af\u306e\u8cfc\u8aad\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\u3053\u306e\u6bb5\u968e\u3067\u306f\u4f55\u3082\u30c7\u30fc\u30bf\u306f\u6d41\u308c\u3066\u304d\u307e\u305b\u3093\u304c\u3001\u6b63\u5e38\u3067\u3059\u3002\u4eca\u5f8c\u306e\u78ba\u8a8d\u306e\u305f\u3081\u3001\u958b\u3044\u305f\u307e\u307e\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002 \u30b3\u30de\u30f3\u30c9\u306b MQTT \u30d6\u30ed\u30fc\u30ab\u3092\u793a\u3059 IP \u30a2\u30c9\u30ec\u30b9\u3092\u542b\u3080 \u305f\u3081\u3001\u3054\u81ea\u8eab\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066 \u9069\u5b9c\u66f8\u304d\u63db\u3048\u3066 \u304f\u3060\u3055\u3044\u3002 $ docker run --init --rm --name = client -it kurokobo/mqtt-client sub -h 192 .168.0.239 -t \"#\" -v \u3053\u306e\u72b6\u614b\u3067\u3001EdgeX Foundry \u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 $ docker-compose up -d","title":"\u8d77\u52d5"},{"location":"fuji/lab-app-service-export-mqtt/#_11","text":"\u5fc5\u8981\u306a\u8a2d\u5b9a\u306f\u3059\u3079\u3066\u74b0\u5883\u5909\u6570\u3092\u4f7f\u3063\u3066\u4e0e\u3048\u3066\u3044\u305f\u306e\u3067\u3001EdgeX Foundry \u304c\u8d77\u52d5\u3057\u3066\u52d5\u4f5c\u3092\u958b\u59cb\u3059\u308b\u3068\u3001\u4f55\u3082\u3057\u306a\u3044\u3067\u3082 MQTT \u30c8\u30d4\u30c3\u30af ExportTopic \u306b\u5024\u304c\u5c4a\u304d\u59cb\u3081\u307e\u3059\u3002 $ docker run --init --rm --name=client -it kurokobo/mqtt-client sub -h 192.168 . 0.239 -t \"#\" -v ... ExportTopic { \"id\" : \"a11011bb-30cb-44fa-885c-8929c64e35b1\" , \"device\" : \"Random-UnsignedInteger-Device\" , \"origin\" : 1580015685340757500 , \"readings\" :[{ \"id\" : \"26f50397-1e8b-4ca0-8db2-eeeee958a643\" , \"origin\" : 1580015685326443600 , \"device\" : \"Random-UnsignedInteger-Device\" , \"name\" : \"Uint8\" , \"value\" : \"90\" }]} ExportTopic { \"id\" : \"526631fd-a0f7-437d-98a9-4f6eb8a06775\" , \"device\" : \"Random-UnsignedInteger-Device\" , \"origin\" : 1580015685369824800 , \"readings\" :[{ \"id\" : \"91ef8066-5c31-4377-84e6-a6d517457f62\" , \"origin\" : 1580015685356418200 , \"device\" : \"Random-UnsignedInteger-Device\" , \"name\" : \"Uint16\" , \"value\" : \"27009\" }]} ... \u30e9\u30dc\u3067\u306f\u3059\u3079\u3066\u304c\u5358\u4e00\u306e\u30db\u30b9\u30c8\u306b\u9589\u3058\u3066\u3044\u308b\u305f\u3081\u3084\u3084\u308f\u304b\u308a\u306b\u304f\u3044\u3067\u3059\u304c\u3001\u3053\u308c\u3089\u306e\u5024\u306f\u3001 \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3067\u5024\u304c\u751f\u6210\u3055\u308c\u308b \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u5024\u3092\u53d6\u5f97\u3057\u3066\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u9001\u308b \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u304c\u5c4a\u3044\u305f\u30c7\u30fc\u30bf\u3092\u914d\u4fe1\u3059\u308b \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u304c\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u53d6\u308b \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u5185\u3067\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u51e6\u7406\u304c\u8d70\u308a\u3001\u5b9a\u7fa9\u306b\u5f93\u3063\u3066 MQTT \u30c8\u30d4\u30c3\u30af\u306b\u914d\u4fe1\u3055\u308c\u308b \u3068\u3044\u3046\u4e00\u9023\u306e\u51e6\u7406\u306e\u7d50\u679c\u3068\u3057\u3066\u5c4a\u3044\u3066\u3044\u307e\u3059\u3002","title":"\u52d5\u4f5c\u78ba\u8a8d"},{"location":"fuji/lab-app-service-export-mqtt/#_12","text":"\u524d\u8ff0\u306e\u901a\u308a\u3001\u3053\u3053\u307e\u3067\u306e\u69cb\u6210\u3067\u306f\u3001\u4f55\u306e\u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u3082\u542b\u307e\u308c\u306a\u3044\u305f\u3081\u3001\u5168\u30c7\u30d0\u30a4\u30b9\u306e\u5168\u30c7\u30fc\u30bf\u304c\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002 \u3053\u3053\u3067\u306f\u4f8b\u3068\u3057\u3066\u3001\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u306e\u3046\u3061 Random-Integer-Device \u306e\u5024\u306e\u307f\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3057\u305f\u3044\u3082\u306e\u3068\u3057\u3066\u3001\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u3067\u76ee\u7684\u306e\u72b6\u614b\u3092\u5b9f\u73fe\u3057\u307e\u3059\u3002 \u8d77\u52d5\u4e2d\u306e EdgeX Foundry \u3092\u505c\u6b62\u3055\u305b\u307e\u3059\u3002MQTT \u30d6\u30ed\u30fc\u30ab\u3084\u305d\u308c\u3092\u8cfc\u8aad\u4e2d\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u306f\u8d77\u52d5\u3057\u305f\u307e\u307e\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002 $ docker-compose down --volumes \u30a8\u30c7\u30a3\u30bf\u3067 docker-compose.yml \u3092\u958b\u304d\u3001 app-service-mqtt-export \u306e\u74b0\u5883\u5909\u6570\u306e\u5ba3\u8a00\u90e8\u5206\u306b\u3001\u6b21\u306e 2 \u884c\uff08\u30cf\u30a4\u30e9\u30a4\u30c8\u884c\uff09\u3092\u8ffd\u52a0\u3057\u3066\u4e0a\u66f8\u304d\u4fdd\u5b58\u3057\u307e\u3059\u3002 environment : << : *common-variables edgex_service : http://edgex-app-service-configurable-mqtt-export:48097 edgex_profile : mqtt-export Service_Host : edgex-app-service-configurable-mqtt-export MessageBus_SubscribeHost_Host : edgex-core-data Writable_Pipeline_ExecutionOrder : \"FilterByDeviceName, TransformToJSON, MQTTSend, MarkAsPushed\" Writable_Pipeline_Functions_FilterByDeviceName_Parameters_DeviceNames : \"Random-Integer-Device\" Writable_Pipeline_Functions_MQTTSend_Addressable_Address : 192.168.0.239 Writable_Pipeline_Functions_MQTTSend_Addressable_Port : 1883 Writable_Pipeline_Functions_MQTTSend_Addressable_Protocol : tcp \u3053\u306e 2 \u884c\u3067\u3001 configuration.toml \u306e\u6b21\u306e\u884c\u304c\u30aa\u30fc\u30d0\u30e9\u30a4\u30c9\u3055\u308c\u307e\u3059\u3002\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306b FilterByDeviceName \u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u304c\u8ffd\u52a0\u3055\u308c\u3001 FilterByDeviceName \u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u306f\u30c7\u30d0\u30a4\u30b9\u540d Random-Integer-Device \u3067\u30d5\u30a3\u30eb\u30bf\u3059\u308b\u3088\u3046\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002 [Writable.Pipeline] ExecutionOrder = \"TransformToJSON, MQTTSend, MarkAsPushed\" ... [Writable.Pipeline.Functions.FilterByDeviceName] [Writable.Pipeline.Functions.FilterByDeviceName.Parameters] DeviceNames = \"\" EdgeX Foundry \u3092\u8d77\u52d5\u3057\u3001MQTT \u30c8\u30d4\u30c3\u30af\u3092\u8cfc\u8aad\u3057\u3066\u3044\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u306b\u6ce8\u76ee\u3057\u307e\u3059\u3002 $ docker-compose up -d MQTT \u30c8\u30d4\u30c3\u30af ExportTopic \u306b\u3001\u30c7\u30d0\u30a4\u30b9 Random-Integer-Device \u306e\u5024\u306e\u307f\u304c\u5c4a\u304f\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u308c\u3070\u3001\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306b\u30d5\u30a3\u30eb\u30bf\u51e6\u7406\u3092\u52a0\u3048\u3089\u308c\u305f\u3068\u8a00\u3048\u307e\u3059\u3002 $ docker run --init --rm --name=client -it kurokobo/mqtt-client sub -h 192.168 . 0.239 -t \"#\" -v ... ExportTopic { \"id\" : \"8f94c308-2f6c-4cb1-b91e-b9669c9236b8\" , \"device\" : \"Random-Integer-Device\" , \"origin\" : 1588173403842331375 , \"readings\" :[{ \"id\" : \"7a754435-1684-439d-a176-177f36685cf6\" , \"origin\" : 1588173403785579638 , \"device\" : \"Random-Integer-Device\" , \"name\" : \"Int32\" , \"value\" : \"1689980058\" }]} ExportTopic { \"id\" : \"caf89d79-83e6-41a6-9935-5dd14a2fee73\" , \"device\" : \"Random-Integer-Device\" , \"origin\" : 1588173404110843938 , \"readings\" :[{ \"id\" : \"298f5f12-1845-4080-ba17-520a199242fc\" , \"origin\" : 1588173403950864427 , \"device\" : \"Random-Integer-Device\" , \"name\" : \"Int16\" , \"value\" : \"6486\" }]} ...","title":"\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u306b\u3088\u308b\u30d5\u30a3\u30eb\u30bf\u51e6\u7406"},{"location":"fuji/lab-app-service-export-mqtt/#_13","text":"\u5f8c\u7d9a\u306e\u30e9\u30dc\u3067\u306f\u3001\u73fe\u5728\u5229\u7528\u3057\u3066\u3044\u308b\u3082\u306e\u3068\u306f\u5225\u306e docker-compose.yml \u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3057\u307e\u3059\u306e\u3067\u3001\u4eca\u56de\u306e\u3053\u306e\u74b0\u5883\u306f\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002 \u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u4f5c\u6210\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u3068\u3001\u81ea\u52d5\u3067\u4f5c\u6210\u3055\u308c\u305f\u6c38\u7d9a\u30dc\u30ea\u30e5\u30fc\u30e0\u9818\u57df\u3092\u524a\u9664\u3057\u307e\u3059\u3002 $ docker-compose down --volumes Stopping edgex-ui-go ... done ... Removing image portainer/portainer \u307e\u305f\u3001\u52d5\u4f5c\u3055\u305b\u3066\u3044\u308b MQTT \u30d6\u30ed\u30fc\u30ab\u3082\u505c\u6b62\u3055\u305b\u307e\u3059\u3002MQTT \u30c8\u30d4\u30c3\u30af\u3092\u8cfc\u8aad\u3057\u3066\u3044\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u304c\u6b8b\u3063\u3066\u3044\u308c\u3070\u3001 Ctrl + C \u3067\u7d42\u4e86\u3057\u307e\u3059\u3002 $ docker stop broker \u4e0d\u8981\u306a\u30b3\u30f3\u30c6\u30ca\u304c\u6b8b\u3063\u3066\u3044\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES","title":"\u74b0\u5883\u306e\u505c\u6b62"},{"location":"fuji/lab-app-service-export-mqtt/#_14","text":"\u3053\u306e\u30e9\u30dc\u3067\u306f\u3001\u4ee5\u4e0b\u3092\u53d6\u308a\u6271\u3044\u307e\u3057\u305f\u3002 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u306e\u6982\u8981\u3068\u8003\u3048\u65b9\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u3092\u7528\u3044\u3066\u3001\u5916\u90e8\u306b\u30ea\u30a2\u30eb\u30bf\u30a4\u30e0\u306b\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u624b\u6cd5\u3092\u5b9f\u8df5\u3057\u307e\u3057\u305f \u5b9f\u884c\u3055\u308c\u308b\u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u51e6\u7406\u3092\u74b0\u5883\u5909\u6570\u3092\u5229\u7528\u3057\u3066\u5909\u66f4\u3059\u308b\u624b\u6cd5\u3092\u5b9f\u8df5\u3057\u307e\u3057\u305f \u30d1\u30a4\u30d7\u30e9\u30a4\u30f3\u3092\u69cb\u6210\u3067\u304d\u308b GA \u6e08\u307f\u306e\u30d5\u30a1\u30f3\u30af\u30b7\u30e7\u30f3\u306f\u73fe\u6642\u70b9\u3067\u306f\u30d9\u30fc\u30b7\u30c3\u30af\u306a\u3082\u306e\u3067\u3059\u304c\u3001 edgexfoundry-holding \u914d\u4e0b\u306e app-service-examples \u30d7\u30ed\u30b8\u30a7\u30af\u30c8 \u3067\u306f\u3001AWS \u306e Iot Core \u3084 Azure \u306e IoT Hub \u306b\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u3059\u308b\u5b9f\u88c5\u306a\u3069\u3001\u8ffd\u52a0\u306e\u5b9f\u88c5\u4f8b\u306e\u958b\u767a\u304c\u9032\u3081\u3089\u308c\u3066\u3044\u307e\u3059\u3002 \u3053\u3053\u306b\u542b\u307e\u308c\u306a\u3044\u6a5f\u80fd\u3067\u3082\u3001 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u7528\u306e SDK \u304c\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u81ea\u88fd\u3082\u53ef\u80fd\u3067\u3059\u3002","title":"\u307e\u3068\u3081"},{"location":"fuji/lab-device-service-mqtt/","text":"Lab 3 - \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u8ffd\u52a0\uff08MQTT\uff09 \u00b6 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001EdgeX Foundry \u306e\u5236\u5fa1\u4e0b\u306b\u4efb\u610f\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u624b\u6cd5\u3092\u5b9f\u8df5\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001MQTT \u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\uff08\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\uff09\u3092\u7528\u610f\u3057\u3001\u3053\u308c\u3092\u5236\u5fa1\u3059\u308b\u305f\u3081\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u69cb\u6210\u3059\u308b\u3053\u3068\u3067\u3001\u4e0b\u56f3\u306e\u3088\u3046\u306b EdgeX Foundry \u304c\u305d\u306e\u30c7\u30d0\u30a4\u30b9\u3068\u5b9f\u969b\u306b\uff08MQTT \u30d6\u30ed\u30fc\u30ab\u3092\u4ecb\u3057\u3066\uff09\u30a4\u30f3\u30bf\u30e9\u30af\u30b7\u30e7\u30f3\u3067\u304d\u308b\u72b6\u614b\u3092\u69cb\u6210\u3057\u307e\u3059\u3002 \u3053\u306e\u30e9\u30dc\u306e\u30b4\u30fc\u30eb\u3068\u69cb\u6210 \u00b6 \u3053\u306e\u30e9\u30dc\u306e\u76ee\u7684\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u6982\u8981\u3092\u7406\u89e3\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u7528\u3044\u3066\u4efb\u610f\u306e\u30c7\u30d0\u30a4\u30b9\u3092 EdgeX Foundry \u306e\u5236\u5fa1\u4e0b\u306b\u7f6e\u304f\u624b\u6cd5\u3092\u7406\u89e3\u3059\u308b \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001Docker Compose \u3092\u5229\u7528\u3057\u3066\u3001Ubuntu \u4e0a\u306e Docker \u30b3\u30f3\u30c6\u30ca\u7fa4\u3068\u3057\u3066 EdgeX Foundry \u3092\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002\u307e\u305f\u3001\u30c7\u30d0\u30a4\u30b9\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3068 MQTT \u306e\u30d6\u30ed\u30fc\u30ab\u3082 Docker \u30b3\u30f3\u30c6\u30ca\u3068\u3057\u3066\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002 \u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306e\u7528\u610f \u00b6 \u30e9\u30dc\u306b\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u524d\u306e\u30e9\u30dc\u3067\u30af\u30ed\u30fc\u30f3\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u30af\u30ed\u30fc\u30f3\u3092\u5b9f\u65bd\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001Ubuntu \u4e0a\u3067\u30af\u30ed\u30fc\u30f3\u3057\u3001CPU \u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u5fdc\u3058\u3066\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u79fb\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002 amd64 git clone https://github.com/kurokobo/edgex-hol-fuji.git cd edgex-hol-fuji cd amd64 arm64 git clone https://github.com/kurokobo/edgex-hol-fuji.git cd edgex-hol-fuji cd arm64 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001 lab-device-service-mqtt \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u8eab\u3092\u5229\u7528\u3057\u307e\u3059\u3002 cd lab-device-service-mqtt ls -l \u30d5\u30a1\u30a4\u30eb docker-compose.yml \u3068\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea device-service \u3001 simulator \u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002 \u65b0\u3057\u3044\u30c7\u30d0\u30a4\u30b9\u306e\u4ed5\u69d8\u3068\u52d5\u4f5c\u78ba\u8a8d \u00b6 \u307e\u305a\u306f\u3001\u4eca\u56de\u65b0\u3057\u304f EdgeX Foundry \u306e\u5236\u5fa1\u4e0b\u306b\u304a\u304d\u305f\u3044\u30c7\u30d0\u30a4\u30b9\u306e\u4ed5\u69d8\u3092\u6574\u7406\u3057\u307e\u3059\u3002\u305d\u306e\u5f8c\u3001\u5b9f\u969b\u306b\u305d\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3092\u52d5\u4f5c\u3055\u305b\u3001\u4ed5\u69d8\u901a\u308a\u306b\u52d5\u304f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u65b0\u3057\u3044\u30c7\u30d0\u30a4\u30b9\u306e\u4ed5\u69d8\u306e\u6574\u7406 \u00b6 \u4eca\u56de\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u4ed5\u69d8\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u5b58\u5728\u3059\u308b\u3082\u306e\u3068\u3057\u3066\u3001\u3053\u308c\u3092 EdgeX Foundry \u306e\u5236\u5fa1\u4e0b\u306b\u7f6e\u304f\u3053\u3068\u3092\u8003\u3048\u307e\u3059\u3002 \u4e8c\u7a2e\u985e\u306e\u30bb\u30f3\u30b5\u3092\u6301\u3064 randfloat32 randfloat64 \u4e8c\u7a2e\u985e\u306e\u6587\u5b57\u5217\u60c5\u5831\u3092\u6301\u3064 ping message MQTT \u306e\u30c8\u30d4\u30c3\u30af DataTopic \u306b\u30bb\u30f3\u30b5 randfloat32 \u306e\u5024\u3092 15 \u79d2\u3054\u3068\u306b\u914d\u4fe1\u3059\u308b {\"name\":\"MQ_DEVICE\",\"cmd\":\"randfloat32\",\"randfloat32\":\"<\u5024>\"} \u306e\u5f62\u5f0f\u3067\u914d\u4fe1\u3059\u308b MQTT \u306e\u30c8\u30d4\u30c3\u30af CommandTopic \u3092\u8cfc\u8aad\u3057\u3066\u3001\u5916\u90e8\u304b\u3089\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5f85\u3061\u53d7\u3051\u308b {\"name\":\"MQTT_DEVICE\",\"method\":\"<get \u307e\u305f\u306f set>\",\"cmd\":\"<\u30b3\u30de\u30f3\u30c9\u540d>\"} \u306e\u5f62\u5f0f\u306e\u30b3\u30de\u30f3\u30c9\u3092\u53d7\u3051\u53d6\u308b \u5916\u90e8\u304b\u3089\u306e\u30b3\u30de\u30f3\u30c9\u3092\u53d7\u3051\u53d6\u3063\u305f\u3089\u3001\u30b3\u30de\u30f3\u30c9\u5fdc\u3058\u3066\u51e6\u7406\u3092\u5b9f\u884c\u3057\u3001\u7d50\u679c\u3092 MQTT \u306e\u30c8\u30d4\u30c3\u30af ResponseTopic \u306b\u914d\u4fe1\u3059\u308b \u30b3\u30de\u30f3\u30c9\u306e\u30e1\u30bd\u30c3\u30c9\u304c set \u3060\u3063\u305f\u5834\u5408\u306f\u3001\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b message \u3092\u66f8\u304d\u63db\u3048\u308b \u30b3\u30de\u30f3\u30c9\u304c ping \u3060\u3063\u305f\u5834\u5408\u306f\u3001 pong \u3092\u8fd4\u3059 \u30b3\u30de\u30f3\u30c9\u304c message \u3060\u3063\u305f\u5834\u5408\u306f\u3001\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b message \u3092\u8fd4\u3059 \u30b3\u30de\u30f3\u30c9\u304c randfloat32 \u307e\u305f\u306f randfloat64 \u3060\u3063\u305f\u5834\u5408\u306f\u3001\u305d\u308c\u305e\u308c\u5bfe\u5fdc\u3059\u308b\u30bb\u30f3\u30b5\u306e\u5024\u3092\u8fd4\u3059 \u7d50\u679c\u306f {\"name\":\"MQ_DEVICE\",\"method\":\"<\u30e1\u30bd\u30c3\u30c9>\",\"cmd\":\"<\u30b3\u30de\u30f3\u30c9\u540d>\",\"<\u30b3\u30de\u30f3\u30c9\u540d>\":\"<\u5024>\"} \u306e\u5f62\u5f0f\u3067\u914d\u4fe1\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u5074\u304c\u5b9a\u671f\u7684\u306b\u30c7\u30fc\u30bf\u3092\u914d\u4fe1\u3059\u308b\u3060\u3051\u3067\u306a\u304f\u3001\u5916\u90e8\u304b\u3089\u306e\u30b3\u30de\u30f3\u30c9\u64cd\u4f5c\u3082\u53d7\u3051\u4ed8\u3051\u308b\u3088\u3046\u306a\u30c7\u30d0\u30a4\u30b9\u3067\u3059\u3002\u305f\u3060\u3057\u3001\u4e8c\u3064\u3042\u308b\u30bb\u30f3\u30b5\u306e\u3046\u3061\u306e\u3072\u3068\u3064 randfloat64 \u306f\u3001\u5024\u306e\u5b9a\u671f\u7684\u306a\u81ea\u52d5\u3067\u306e\u914d\u4fe1\u306f\u3057\u3066\u304f\u308c\u307e\u305b\u3093\u3002 \u30e9\u30dc\u3068\u3057\u3066\u306e\u69cb\u6210 \u00b6 MQTT \u3092\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u3092 EdgeX Foundry \u3067\u7ba1\u7406\u3059\u308b\u5834\u5408\u3001\u5178\u578b\u7684\u306b\u306f\u3001EdgeX Foundry \u306e\u30db\u30b9\u30c8\u3068\u306f\u5225\u306b\u3001MQTT \u30d6\u30ed\u30fc\u30ab\u3068\u5b9f\u969b\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u5b58\u5728\u3059\u308b\u3068\u8003\u3048\u3089\u308c\u307e\u3059\u3002 \u305f\u3060\u3057\u3001\u4eca\u56de\u306f\u30e9\u30dc\u306a\u306e\u3067\u3001\u3059\u3079\u3066\u3092\u30e9\u30dc\u7528\u306e Ubuntu \u30db\u30b9\u30c8\u4e0a\u3067 Docker \u30b3\u30f3\u30c6\u30ca\u3068\u3057\u3066\u52d5\u4f5c\u3055\u305b\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u672c\u6765\u306e\u59ff\u3068\u306f\u82e5\u5e72\u306e\u4e56\u96e2\u304c\u3042\u308b\u70b9\u3092\u7406\u89e3\u3057\u305f\u4e0a\u3067\u9032\u3081\u3066\u304f\u3060\u3055\u3044\u3002 \u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u306e\u8d77\u52d5 \u00b6 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001\u524d\u8ff0\u306e\u4ed5\u69d8\u306b\u6cbf\u3063\u305f\u30c7\u30d0\u30a4\u30b9\u3092\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3092\u4f7f\u3063\u3066 Docker \u30b3\u30f3\u30c6\u30ca\u3068\u3057\u3066\u7528\u610f\u3057\u307e\u3059\u3002 \u307e\u305a\u306f\u3001MQTT \u3092\u6271\u3046\u306b\u306f MQTT \u30d6\u30ed\u30fc\u30ab\u304c\u4e0d\u53ef\u6b20\u306a\u306e\u3067\u3001\u3053\u308c\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u8d77\u52d5\u5f8c\u3001 docker ps \u3067 STATUS \u304c Up \u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 $ docker run -d --rm --name broker -p 1883 :1883 eclipse-mosquitto 9e1c5939be6a9c6366c2cbdad5eae5ab5c1665062125d0a8971aa030d2116a8d $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 9e1c5939be6a eclipse-mosquitto \"/docker-entrypoint.\u2026\" 6 seconds ago Up 3 seconds 0 .0.0.0:1883->1883/tcp broker \u7d9a\u3051\u3066\u3001\u5b9f\u30c7\u30d0\u30a4\u30b9\uff08\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\uff09\u306e\u7528\u610f\u3067\u3059\u3002 \u3053\u3053\u3067\u306f\u3001Node.js \u3067 MQTT \u3092\u6271\u3048\u308b\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8 dersimn/mqtt-scripts \u3092\u5229\u7528\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8d77\u52d5\u3055\u305b\u308b\u3053\u3068\u3067\u3001\u524d\u8ff0\u306e\u4ed5\u69d8\u901a\u308a\u306b\u52d5\u304f\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3068\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u3001\u304a\u624b\u5143\u306e simulator \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306e mock-device.js \u3068\u3057\u3066\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u30a8\u30c7\u30a3\u30bf\u3067\u78ba\u8a8d\u3057\u3066\u3082\u3088\u3044\u3067\u3057\u3087\u3046\u3002 function getRandomFloat ( min , max ) { return Math . random () * ( max - min ) + min ; } const deviceName = \"MQ_DEVICE\" ; let message = \"test-message\" ; // 1. Publish random number every 15 seconds schedule ( '*/15 * * * * *' , () => { let body = { \"name\" : deviceName , \"cmd\" : \"randfloat32\" , \"randfloat32\" : getRandomFloat ( 25 , 29 ). toFixed ( 1 ) }; publish ( 'DataTopic' , JSON . stringify ( body )); }); // 2. Receive the reading request, then return the response // 3. Receive the put request, then change the device value subscribe ( \"CommandTopic\" , ( topic , val ) => { var data = val ; if ( data . method == \"set\" ) { message = data [ data . cmd ] } else { switch ( data . cmd ) { case \"ping\" : data . ping = \"pong\" ; break ; case \"message\" : data . message = message ; break ; case \"randfloat32\" : data . randfloat32 = getRandomFloat ( 25 , 29 ). toFixed ( 1 ); break ; case \"randfloat64\" : data . randfloat64 = getRandomFloat ( 10 , 1 ). toFixed ( 5 ); break ; } } publish ( \"ResponseTopic\" , JSON . stringify ( data )); }); \u3053\u308c\u3092\u8d77\u52d5\u3059\u308b\u306b\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u4f5c\u696d\u3057\u307e\u3059\u3002 \u30b3\u30de\u30f3\u30c9\u306b MQTT \u30d6\u30ed\u30fc\u30ab\u3092\u793a\u3059 IP \u30a2\u30c9\u30ec\u30b9\u3092\u542b\u3080 \u305f\u3081\u3001\u3054\u81ea\u8eab\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066 \u9069\u5b9c\u66f8\u304d\u63db\u3048\u3066 \u304f\u3060\u3055\u3044\u3002\u30ac\u30a4\u30c9\u901a\u308a\u306b EdgeX Foundry \u3068\u540c\u3058\u30db\u30b9\u30c8\u3067 MQTT \u30d6\u30ed\u30fc\u30ab\u3092\u52d5\u4f5c\u3055\u305b\u305f\u5834\u5408\u306f\u3001EdgeX Foundry \u306e IP \u30a2\u30c9\u30ec\u30b9\u3068\u540c\u4e00\u3067\u3059\u3002 \u307e\u305f\u3001CPU \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u3088\u3063\u3066\u5229\u7528\u3059\u308b\u30a4\u30e1\u30fc\u30b8\u304c\u7570\u306a\u308a\u307e\u3059\u3002\u8d77\u52d5\u5f8c\u3001 docker ps \u3067 STATUS \u304c Up \u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 amd64 $ cd simulator $ docker run -d --restart = always --name = mqtt-scripts -v \" $( pwd ) :/scripts\" dersimn/mqtt-scripts --url mqtt://192.168.0.239 --dir /scripts Unable to find image 'dersimn/mqtt-scripts:latest' locally ... 9d52b4956ebbec60dd0f93bdf9750ff915fefd8e8c58d3ce8bc7ba1429693d2b $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 13f70f88b67b dersimn/mqtt-scripts \"node /node/index.js\u2026\" 18 seconds ago Up 16 seconds mqtt-scripts 9e1c5939be6a eclipse-mosquitto \"/docker-entrypoint.\u2026\" 16 minutes ago Up 16 minutes 0 .0.0.0:1883->1883/tcp broker arm64 $ cd simulator $ docker run -d --restart = always --name = mqtt-scripts -v \" $( pwd ) :/scripts\" dersimn/mqtt-scripts:armhf --url mqtt://192.168.0.239 --dir /scripts Unable to find image 'dersimn/mqtt-scripts:armhf' locally ... 9d52b4956ebbec60dd0f93bdf9750ff915fefd8e8c58d3ce8bc7ba1429693d2b $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 13f70f88b67b dersimn/mqtt-scripts:armhf \"node /node/index.js\u2026\" 18 seconds ago Up 16 seconds mqtt-scripts 9e1c5939be6a eclipse-mosquitto \"/docker-entrypoint.\u2026\" 16 minutes ago Up 16 minutes 0 .0.0.0:1883->1883/tcp broker \u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u306e\u52d5\u4f5c\u78ba\u8a8d \u00b6 \u6700\u5f8c\u306b\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u304c\u4ed5\u69d8\u901a\u308a\u52d5\u4f5c\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u65b0\u3057\u3044\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u8d77\u52d5\u3057\u3066\u3001\u30d6\u30ed\u30fc\u30ab\u306e\u5168\u30c8\u30d4\u30c3\u30af\u3092\u8cfc\u8aad\u3059\u308b\u305f\u3081\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u65b0\u305f\u306b\u8d77\u52d5\u3057\u307e\u3059\u300215 \u79d2\u3054\u3068\u306b\u30c8\u30d4\u30c3\u30af DataTopic \u306b\u30bb\u30f3\u30b5 randfloat32 \u306e\u5024\u304c\u5c4a\u3044\u3066\u3044\u308c\u3070\u3001\u52d5\u4f5c\u306f\u6b63\u5e38\u3067\u3059\u3002\u3053\u3053\u3067\u3082\u3001 \u30b3\u30de\u30f3\u30c9\u306b MQTT \u30d6\u30ed\u30fc\u30ab\u3092\u793a\u3059 IP \u30a2\u30c9\u30ec\u30b9\u3092\u542b\u3080 \u305f\u3081\u3001\u3054\u81ea\u8eab\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066 \u9069\u5b9c\u66f8\u304d\u63db\u3048\u3066 \u304f\u3060\u3055\u3044\u3002 $ docker run --init --rm --name = client -it kurokobo/mqtt-client sub -h 192 .168.0.239 -t \"#\" -v ... DataTopic { \"name\" : \"MQ_DEVICE\" , \"cmd\" : \"randfloat32\" , \"randfloat32\" : \"27.4\" } DataTopic { \"name\" : \"MQ_DEVICE\" , \"cmd\" : \"randfloat32\" , \"randfloat32\" : \"28.6\" } \u3053\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u306f\u3001\u4eca\u5f8c\u306e\u52d5\u4f5c\u78ba\u8a8d\u306e\u305f\u3081\u306b\u3082 \u8d77\u52d5\u3055\u305b\u305f\u307e\u307e \u306b\u3057\u307e\u3059\u3002 \u7d9a\u3051\u3066\u3001\u30c7\u30d0\u30a4\u30b9\u306b\u5bfe\u3059\u308b\u64cd\u4f5c\u304c\u3067\u304d\u308b\u3053\u3068\u3082\u78ba\u8a8d\u3057\u307e\u3059\u3002\u8ffd\u52a0\u3067\u65b0\u3057\u3044\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u8d77\u52d5\u3057\u3066\u3001\u30c8\u30d4\u30c3\u30af CommandTopic \u306b\u30b3\u30de\u30f3\u30c9\u3092\u914d\u4fe1\u3057\u307e\u3059\u3002\u3053\u308c\u307e\u3067\u540c\u69d8\u3001\u3054\u81ea\u8eab\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066 \u30b3\u30de\u30f3\u30c9\u4e2d\u306e IP \u30a2\u30c9\u30ec\u30b9\u306f\u9069\u5b9c\u66f8\u304d\u63db\u3048\u3066 \u304f\u3060\u3055\u3044\u3002 \u5b9f\u884c\u3059\u308b\u3054\u3068\u306b MQTT \u3092\u8cfc\u8aad\u3057\u3066\u3044\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u898b\u308b\u3068\u3001\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u306e\u5fdc\u7b54\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u307e\u305a\u306f\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u306e\u60c5\u5831\u306e\u53d6\u5f97\u3092\u884c\u3046 get \u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ docker run --init -it --rm kurokobo/mqtt-client pub -h 192 .168.0.239 -t \"CommandTopic\" -m '{\"name\":\"MQTT_DEVICE\",\"method\":\"get\",\"cmd\":\"ping\"}' $ docker run --init -it --rm kurokobo/mqtt-client pub -h 192 .168.0.239 -t \"CommandTopic\" -m '{\"name\":\"MQTT_DEVICE\",\"method\":\"get\",\"cmd\":\"randfloat32\"}' $ docker run --init -it --rm kurokobo/mqtt-client pub -h 192 .168.0.239 -t \"CommandTopic\" -m '{\"name\":\"MQTT_DEVICE\",\"method\":\"get\",\"cmd\":\"randfloat64\"}' failed to resize tty \u5b9f\u884c\u6642\u306b failed to resize tty, using default size \u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u7121\u8996\u3057\u3066\u69cb\u3044\u307e\u305b\u3093\u3002 \u8cfc\u8aad\u3057\u3066\u3044\u308b\u5074\u3067\u306f\u3001\u547d\u4ee4\u304c CommandTopic \u306b\u5c4a\u304d\u3001\u305d\u306e\u30b3\u30de\u30f3\u30c9\u306b\u5fdc\u3058\u305f\u5fdc\u7b54\u304c ResponseTopic \u306b\u914d\u4fe1\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 ... CommandTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"ping\" } ResponseTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"ping\" , \"ping\" : \"pong\" } ... CommandTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"randfloat32\" } ResponseTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"randfloat32\" , \"randfloat32\" : \"27.6\" } ... CommandTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"randfloat64\" } ResponseTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"randfloat64\" , \"randfloat64\" : \"8.39883\" } ... \u540c\u69d8\u306b\u3001\u30c7\u30d0\u30a4\u30b9\u3092\u64cd\u4f5c\u3059\u308b set \u306e\u52d5\u4f5c\u3082\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ docker run --init -it --rm kurokobo/mqtt-client pub -h 192 .168.0.239 -t \"CommandTopic\" -m '{\"name\":\"MQTT_DEVICE\",\"method\":\"get\",\"cmd\":\"message\"}' $ docker run --init -it --rm kurokobo/mqtt-client pub -h 192 .168.0.239 -t \"CommandTopic\" -m '{\"name\":\"MQTT_DEVICE\",\"method\":\"set\",\"cmd\":\"message\",\"message\":\"modified-message\"}' $ docker run --init -it --rm kurokobo/mqtt-client pub -h 192 .168.0.239 -t \"CommandTopic\" -m '{\"name\":\"MQTT_DEVICE\",\"method\":\"get\",\"cmd\":\"message\"}' \u8cfc\u8aad\u3057\u3066\u3044\u308b\u5074\u3067\u306f\u3001 set \u306e\u5b9f\u884c\u524d\u5f8c\u3067 message \u30b3\u30de\u30f3\u30c9\u306e\u7d50\u679c\u304c\u5909\u5316\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 ... CommandTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"message\" } ResponseTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"message\" , \"message\" : \"test-message\" } ... CommandTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"set\" , \"cmd\" : \"message\" , \"message\" : \"modified-message\" } ResponseTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"set\" , \"cmd\" : \"message\" , \"message\" : \"modified-message\" } ... CommandTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"message\" } ResponseTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"message\" , \"message\" : \"modified-message\" } ... \u3053\u3053\u307e\u3067\u3067\u3001\u30c7\u30d0\u30a4\u30b9\uff08\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\uff09\u304c\u52d5\u4f5c\u3057\u3066\u3044\u308b\u72b6\u614b\u304c\u4f5c\u308c\u307e\u3057\u305f\u3002 \u3068\u306f\u3044\u3048\u73fe\u6bb5\u968e\u3067\u306f\u3001\u305f\u3060\u5358\u306b\u524d\u8ff0\u306e\u4ed5\u69d8\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u8ad6\u7406\u7684\u306b\u4f5c\u3063\u305f\u3060\u3051\u3067\u3001EdgeX Foundry \u306f\u5168\u304f\u95a2\u4fc2\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u3053\u304b\u3089\u3001\u3053\u306e\u30c7\u30d0\u30a4\u30b9\u3092 EdgeX Foundry \u306e\u5236\u5fa1\u4e0b\u306b\u7f6e\u304f\u624b\u6cd5\u3092\u5b9f\u8df5\u3057\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u69cb\u6210 \u00b6 \u5148\u307b\u3069\u4f5c\u3063\u305f\u30c7\u30d0\u30a4\u30b9\u3092\u3001EdgeX Foundry \u306e\u5236\u5fa1\u4e0b\u306b\u304a\u304f\u3053\u3068\u3092\u8003\u3048\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u6982\u5ff5 \u00b6 \u73fe\u5b9f\u4e16\u754c\u306b\u5b58\u5728\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u306f\u3001\u305d\u308c\u305e\u308c\u304c\u7570\u306a\u308b\u30bb\u30f3\u30b5\u3084\u30b9\u30a4\u30c3\u30c1\u3092\u6301\u3063\u3066\u3044\u3066\u3001\u7570\u306a\u308b\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u30a4\u30f3\u30bf\u30d5\u30a7\u30a4\u30b9\u306b\u6301\u3064\u305f\u3081\u3001\u305d\u308c\u305e\u308c\u306b\u5fdc\u3058\u305f\u9069\u5207\u306a\u65b9\u6cd5\u3067\u5024\u306e\u53d6\u5f97\u3084\u5236\u5fa1\u547d\u4ee4\u306e\u767a\u884c\u3092\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u306e\u5b9f\u614b\u3092\u8e0f\u307e\u3048\u3001EdgeX Foundry \u3067\u306f\u3001\u5b9f\u30c7\u30d0\u30a4\u30b9\u3068 EdgeX Foundry \u306e\u9593\u3092\u53d6\u308a\u6301\u3064\u5b58\u5728\u3068\u3057\u3066\u3001 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 \u3068\u3088\u3070\u308c\u308b\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f\u3001\u5178\u578b\u7684\u306b\u306f \u30d7\u30ed\u30c8\u30b3\u30eb\u3054\u3068 \u307e\u305f\u306f \u30c7\u30d0\u30a4\u30b9\u306e\u7a2e\u985e\u3054\u3068 \u306b\u7528\u610f\u3057\u307e\u3059\u3002\u3072\u3068\u3064\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3067 \u3072\u3068\u3064\u4ee5\u4e0a\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u5236\u5fa1 \u3067\u304d\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f79\u5272\u3092\u6301\u3061\u307e\u3059\u3002 \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u5bfe\u3057\u3066 REST \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u63d0\u4f9b\u3057\u3001\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u306e\u60c5\u5831\u53d6\u5f97\u3084\u30c7\u30d0\u30a4\u30b9\u3078\u306e\u5236\u5fa1\u547d\u4ee4\u306e\u767a\u884c\u3092\u884c\u3048\u308b\u3088\u3046\u306b\u3059\u308b \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u304b\u3089\u9001\u3089\u308c\u3066\u304d\u305f\u5236\u5fa1\u547d\u4ee4\u3092\u3001\u5b9f\u30c7\u30d0\u30a4\u30b9\u306b\u5408\u308f\u305b\u305f\u547d\u4ee4\u306b\u7ffb\u8a33\u3057\u3066\u5b9f\u884c\u3057\u3001\u5b9f\u30c7\u30d0\u30a4\u30b9\u3092\u5236\u5fa1\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u304b\u3089\u9001\u3089\u308c\u3066\u304d\u305f\u60c5\u5831\u3092\u3001\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u5408\u308f\u305b\u305f\u60c5\u5831\u306b\u7ffb\u8a33\u3057\u3066\u9001\u4fe1\u3059\u308b \u4e8b\u524d\u306e\u5b9a\u7fa9\u306b\u5f93\u3063\u3066\u5b9a\u671f\u7684\u306b\u30c7\u30d0\u30a4\u30b9\u306b\u5bfe\u3057\u3066\u7279\u5b9a\u306e\u51e6\u7406\u3092\u884c\u3044\u3001\u7d50\u679c\u3092\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u9001\u4fe1\u3059\u308b \u73fe\u6bb5\u968e\u3067\u306f\u3001 MQTT \u3001 BACnet \u3001 Modbus \u3001 REST API \u306a\u3069\u3001IoT \u3067\u3088\u304f\u5229\u7528\u3055\u308c\u308b\u30d7\u30ed\u30c8\u30b3\u30eb\u3054\u3068\u306b\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u53c2\u8003\u5b9f\u88c5\u304c\u63d0\u4f9b\u3055\u308c\u3066\u304a\u308a\u3001\u5b9f\u30c7\u30d0\u30a4\u30b9\u306e\u4ed5\u69d8\u306b\u3088\u3063\u3066\u306f\u305d\u306e\u307e\u307e\u6d41\u7528\u3067\u304d\u308b\u3053\u3068\u3082\u3042\u308b\u3067\u3057\u3087\u3046\u3002 \u65e2\u5b58\u306e\u5b9f\u88c5\u304c\u5229\u7528\u3067\u304d\u306a\u3044\u5834\u5408\u3067\u3082\u3001C \u8a00\u8a9e\u3084 Go \u8a00\u8a9e\u306e SDK \u304c\u63d0\u4f9b \u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u81ea\u88fd\u304c\u53ef\u80fd\u306a\u307b\u304b\u3001\u30a8\u30b3\u30b7\u30b9\u30c6\u30e0\u304c\u6210\u719f\u3059\u308c\u3070\u3001IoT \u30c7\u30d0\u30a4\u30b9\u306e\u30e1\u30fc\u30ab\u5074\u304c\u30c7\u30d0\u30a4\u30b9\u3068\u4f75\u305b\u3066 EdgeX Foundry \u7528\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u63d0\u4f9b\u3059\u308b\u3088\u3046\u306a\u53ef\u80fd\u6027\u3082\u8003\u3048\u3089\u308c\u307e\u3059\u3002 \u3044\u305a\u308c\u306b\u305b\u3088\u3001\u3059\u3079\u3066\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f\u3001\u3053\u306e SDK \u3092\u7528\u3044\u305f\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u3082\u3068\u3067\u5b9f\u88c5\u3055\u308c\u308b\u305f\u3081\u3001\u5b9f\u30c7\u30d0\u30a4\u30b9\u306e\u64cd\u4f5c\u65b9\u6cd5\u3084\u8a2d\u5b9a\u65b9\u6cd5\u306e\u5dee\u7570\u306f\u62bd\u8c61\u5316\u3055\u308c\u307e\u3059\u3002\u7d50\u679c\u7684\u306b\u3001\u3059\u3079\u3066\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u5171\u901a\u306e\u624b\u6cd5\u3067\u5236\u5fa1\u3067\u304d\u308b\u30a4\u30f3\u30bf\u30d5\u30a7\u30a4\u30b9\u3092\u81ea\u305a\u3068\u6301\u3064\u3088\u3046\u306b\u306a\u308a\u3001\u76f8\u4e92\u904b\u7528\u6027\u3092\u5927\u304d\u304f\u9ad8\u3081\u3089\u308c\u307e\u3059\u3002\u3053\u308c\u304c\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u3001\u3072\u3044\u3066\u306f EdgeX Foundry \u306e\u5927\u304d\u306a\u30e1\u30ea\u30c3\u30c8\u306e\u3072\u3068\u3064\u3067\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u69cb\u6210\u8981\u7d20 \u00b6 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u52d5\u4f5c\u306b\u306f\u3001\u4ee5\u4e0b\u306e 3 \u3064\u306e\u8981\u7d20\u3092\u8003\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb \uff08Device Profile\uff09 YAML \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u5b9a\u7fa9\u3059\u308b \u7ba1\u7406\u5bfe\u8c61\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u6301\u3064\u30ea\u30bd\u30fc\u30b9\u3084\u3001\u305d\u306e\u30ea\u30bd\u30fc\u30b9\u304c\u6301\u3064\u5024\u306e\u610f\u5473\u3001\u305d\u308c\u305e\u308c\u306e\u30ea\u30bd\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u884c\u3048\u308b\u64cd\u4f5c\u306a\u3069\u3092\u5b9a\u7fa9\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u30b3\u30f3\u30d5\u30a3\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3 \uff08Drvice Service Configuration\uff09 configuration.toml \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u5b9a\u7fa9\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3068\u5b9f\u969b\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u7d10\u3065\u3051\u3066\u3001EdgeX Foundry \u306e\u30c7\u30d0\u30a4\u30b9\u3068\u3057\u3066\u5b9a\u7fa9\u3059\u308b\u3002\u30c7\u30d0\u30a4\u30b9\u3084\u30ea\u30bd\u30fc\u30b9\u306b\u5bfe\u3059\u308b\u81ea\u52d5\u5b9f\u884c\u51e6\u7406\u306a\u3069\u3082\u5b9a\u7fa9\u3059\u308b \u305d\u306e\u4ed6\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u52d5\u4f5c\u306b\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u305d\u306e\u3082\u306e \u4eca\u56de\u306f\u30b3\u30f3\u30c6\u30ca\u3068\u3057\u3066 MQTT \u3092\u5229\u7528\u3067\u304d\u308b\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 edgex-device-mqtt \u3092\u5229\u7528\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3068\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u30b3\u30f3\u30d5\u30a3\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u8aad\u307f\u8fbc\u3093\u3067\u52d5\u4f5c\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb \u00b6 \u4eca\u56de\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u304a\u624b\u5143\u306e device-service \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306e mqtt.test.device.profile.yml \u3067\u3059\u3002\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u542b\u3093\u3067\u3044\u307e\u3059\u3002\u30a8\u30c7\u30a3\u30bf\u3067\u78ba\u8a8d\u3057\u3066\u3082\u3088\u3044\u3067\u3057\u3087\u3046\u3002 name : \"Test.Device.MQTT.Profile\" manufacturer : \"Dell\" model : \"MQTT-2\" labels : - \"test\" description : \"Test device profile\" deviceResources : - name : randfloat32 description : \"device random number with Base64 encoding\" properties : value : { type : \"Float32\" , size : \"4\" , readWrite : \"R\" , defaultValue : \"0.00\" , minimum : \"100.00\" , maximum : \"0.00\" , floatEncoding : \"Base64\" } units : { type : \"String\" , readWrite : \"R\" , defaultValue : \"\" } - name : randfloat64 description : \"device random number with e notion\" properties : value : { type : \"Float64\" , size : \"4\" , readWrite : \"R\" , defaultValue : \"0.00\" , minimum : \"100.00\" , maximum : \"0.00\" , floatEncoding : \"eNotation\" } units : { type : \"String\" , readWrite : \"R\" , defaultValue : \"\" } - name : ping description : \"device awake\" properties : value : { type : \"String\" , size : \"0\" , readWrite : \"R\" , defaultValue : \"oops\" } units : { type : \"String\" , readWrite : \"R\" , defaultValue : \"\" } - name : message description : \"device notification message\" properties : value : { type : \"String\" , size : \"0\" , readWrite : \"W\" , scale : \"\" , offset : \"\" , base : \"\" } units : { type : \"String\" , readWrite : \"R\" , defaultValue : \"\" } deviceCommands : - name : testrandfloat32 get : - { index : \"1\" , operation : \"get\" , deviceResource : \"randfloat32\" } - name : testrandfloat64 get : - { index : \"1\" , operation : \"get\" , deviceResource : \"randfloat64\" } - name : testping get : - { index : \"1\" , operation : \"get\" , deviceResource : \"ping\" } - name : testmessage get : - { index : \"1\" , operation : \"get\" , deviceResource : \"message\" } set : - { index : \"1\" , operation : \"set\" , deviceResource : \"message\" } coreCommands : - name : testrandfloat32 get : path : \"/api/v1/device/{deviceId}/testrandfloat32\" responses : - code : \"200\" description : \"get the random float32 value\" expectedValues : [ \"randfloat32\" ] - code : \"500\" description : \"internal server error\" expectedValues : [] - name : testrandfloat64 get : path : \"/api/v1/device/{deviceId}/testrandfloat64\" responses : - code : \"200\" description : \"get the random float64 value\" expectedValues : [ \"randfloat64\" ] - code : \"500\" description : \"internal server error\" expectedValues : [] - name : testping get : path : \"/api/v1/device/{deviceId}/testping\" responses : - code : \"200\" description : \"ping the device\" expectedValues : [ \"ping\" ] - code : \"500\" description : \"internal server error\" expectedValues : [] - name : testmessage get : path : \"/api/v1/device/{deviceId}/testmessage\" responses : - code : \"200\" description : \"get the message\" expectedValues : [ \"message\" ] - code : \"500\" description : \"internal server error\" expectedValues : [] put : path : \"/api/v1/device/{deviceId}/testmessage\" parameterNames : [ \"message\" ] responses : - code : \"204\" description : \"set the message.\" expectedValues : [] - code : \"500\" description : \"internal server error\" expectedValues : [] \u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u5192\u982d\u306b manufacturer \u3068 model \u304c\u3042\u308b\u3088\u3046\u306b\u3001\u5178\u578b\u7684\u306b\u306f\u30c7\u30d0\u30a4\u30b9\u306e\u30e2\u30c7\u30eb\u3084\u578b\u756a\u3054\u3068\u306b\u3072\u3068\u3064\u7528\u610f\u3057\u307e\u3059\u3002\u305d\u306e\u30e2\u30c7\u30eb\u3084\u578b\u756a\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u3001 \u3069\u306e\u3088\u3046\u306a\u30bb\u30f3\u30b5\u3084\u30a2\u30af\u30c1\u30e5\u30a8\u30fc\u30bf\u3092\u6301\u3061\u3001\u5024\u306e\u610f\u5473\u306f\u306a\u306b\u304b\uff08 deviceResources \u30bb\u30af\u30b7\u30e7\u30f3\uff09 \u305d\u308c\u305e\u308c\u306e\u30bb\u30f3\u30b5\u3084\u30a2\u30af\u30c1\u30e5\u30a8\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u3067\u304d\u308b\u64cd\u4f5c\u306f\u306a\u306b\u304b\uff08 deviceCommands \u30bb\u30af\u30b7\u30e7\u30f3\uff09 \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u305d\u308c\u3089\u306e\u64cd\u4f5c\u3092\u3069\u306e\u3088\u3046\u306b\u516c\u958b\u3059\u308b\u304b\uff08 coreCommands \u30bb\u30af\u30b7\u30e7\u30f3\uff09 \u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002 \u4eca\u56de\u306e\u4f8b\u3067\u306f\u3001 deviceResources \u30bb\u30af\u30b7\u30e7\u30f3\u3092\u898b\u308b\u3068\u3001\u4f8b\u3048\u3070\u3001 \u3053\u306e\u30c7\u30d0\u30a4\u30b9\u306b\u30ea\u30bd\u30fc\u30b9 randfloat64 \u304c\u3042\u308a \u305d\u308c\u306f 0.00 \u304b\u3089 100.00 \u306e\u7bc4\u56f2\u306e Float64 \u578b\u306e\u5024\u3092\u6301\u3064 \u3053\u3068\u306a\u3069\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001 message \u30ea\u30bd\u30fc\u30b9\u306f String \u578b\u306e\u5024\u3092\u6301\u3061\u3001\u4ed6\u306e\u30ea\u30bd\u30fc\u30b9\u3068\u9055\u3063\u3066\u66f8\u304d\u63db\u3048\u304c\u53ef\u80fd\uff08 W \uff09\u3068\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002 deviceCommands \u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u4f8b\u3048\u3070 testrandfloat64 \u30b3\u30de\u30f3\u30c9\u3092\u5b9a\u7fa9\u3057\u3001\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306e get \u30e1\u30bd\u30c3\u30c9\u3067\u306f\u3001\u5148\u306b deviecResources \u3067\u5b9a\u7fa9\u3057\u305f\u30ea\u30bd\u30fc\u30b9 randfloat64 \u304b\u3089\u306e\u5024\u306e\u8aad\u307f\u53d6\u308a\u3092\u884c\u3046\u3053\u3068\u306a\u3069\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001 testmessage \u30b3\u30de\u30f3\u30c9\u3067\u306f\u3001 message \u30ea\u30bd\u30fc\u30b9\u306b\u5bfe\u3059\u308b get \u3060\u3051\u3067\u306a\u304f\u3001 set \u30e1\u30bd\u30c3\u30c9\u3082\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002 \u8907\u6570\u30ea\u30bd\u30fc\u30b9\u306e\u540c\u6642\u64cd\u4f5c \u3053\u3053\u3067\u306f\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u3072\u3068\u3064\u306e\u30e1\u30bd\u30c3\u30c9\u306b\u8907\u6570\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u7d10\u4ed8\u3051\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\u3064\u307e\u308a\u3001\u4e00\u56de\u306e get \u64cd\u4f5c\u3067\u8907\u6570\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u5024\u3092\u540c\u6642\u306b\u53d6\u5f97\u3059\u308b\u3088\u3046\u306b\u3082\u69cb\u6210\u3067\u304d\u307e\u3059\u3002 Edge Xpert \u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u306f\u3001\u305d\u306e\u3088\u3046\u306a\u4f8b\u304c\u89e3\u8aac\u3055\u308c \u3066\u3044\u307e\u3059\u3002 coreCommands \u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u4f8b\u3048\u3070\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u304c testrandfloat64 \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u3001\u305d\u306e GET \u30ea\u30af\u30a8\u30b9\u30c8\u306f\u30d1\u30b9 /api/v1/device/{deviceId}/testrandfloat64 \u306b\u6e21\u3055\u308c\u308b\uff08\u3053\u306e\u30d1\u30b9\u306f\u3001\u5148\u306e deviceCommands \u3067\u5b9a\u7fa9\u3057\u305f testrandfloat64 \u30b3\u30de\u30f3\u30c9\u306e\u3053\u3068\u3067\u3059\uff09\u3082\u306e\u3068\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u7d50\u679c\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9 200 \u3060\u3063\u305f\u5834\u5408\u306f\u3001\u305d\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u30dc\u30c7\u30a3\u306b\u542b\u307e\u308c\u308b\u5024\u304c\u30ea\u30bd\u30fc\u30b9 randfloat32 \u306e\u5024\u3068\u3057\u3066\u53d6\u308a\u6271\u3048\u308b\u3082\u306e\u3067\u3042\u308b\u3053\u3068\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001 testmessage \u30b3\u30de\u30f3\u30c9\u3067\u306f\u3001\u307b\u304b\u306e\u30b3\u30de\u30f3\u30c9\u3068\u7570\u306a\u308a PUT \u30ea\u30af\u30a8\u30b9\u30c8\u306e\u52d5\u4f5c\u3082\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u30b3\u30f3\u30d5\u30a3\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3 \u00b6 \u4eca\u56de\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u30b3\u30f3\u30d5\u30a3\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u304a\u624b\u5143\u306e device-service \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306e configuration.toml \u3067\u3059\u3002 \u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f MQTT \u30d6\u30ed\u30fc\u30ab\u306e IP \u30a2\u30c9\u30ec\u30b9\u3092\u542b\u3080 \u306e\u3067\u3001 IP \u30a2\u30c9\u30ec\u30b9\u90e8\u5206 192.168.0.239 \u3092\u3054\u81ea\u8eab\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u4fee\u6b63\u3057\u4e0a\u66f8\u304d \u3057\u3066\u304f\u3060\u3055\u3044\u3002 # configuration.toml [Writable] LogLevel = 'DEBUG' [Service] Host = \"edgex-device-mqtt\" Port = 49982 ConnectRetries = 3 Labels = [] OpenMsg = \"device mqtt started\" Timeout = 5000 EnableAsyncReadings = true AsyncBufferSize = 16 [Registry] Host = \"edgex-core-consul\" Port = 8500 CheckInterval = \"10s\" FailLimit = 3 FailWaitTime = 10 Type = \"consul\" [Logging] EnableRemote = false File = \"./device-mqtt.log\" [Clients] [Clients.Data] Name = \"edgex-core-data\" Protocol = \"http\" Host = \"edgex-core-data\" Port = 48080 Timeout = 50000 [Clients.Metadata] Name = \"edgex-core-metadata\" Protocol = \"http\" Host = \"edgex-core-metadata\" Port = 48081 Timeout = 50000 [Clients.Logging] Name = \"edgex-support-logging\" Protocol = \"http\" Host = \"edgex-support-logging\" Port = 48061 [Device] DataTransform = true InitCmd = \"\" InitCmdArgs = \"\" MaxCmdOps = 128 MaxCmdValueLen = 256 RemoveCmd = \"\" RemoveCmdArgs = \"\" ProfilesDir = \"/custom-config\" # Pre-define Devices [[DeviceList]] Name = \"MQ_DEVICE\" Profile = \"Test.Device.MQTT.Profile\" Description = \"General MQTT device\" Labels = [ \"MQTT\"] [DeviceList.Protocols] [DeviceList.Protocols.mqtt] Schema = \"tcp\" Host = \"192.168.0.239\" Port = \"1883\" ClientId = \"CommandPublisher\" User = \"\" Password = \"\" Topic = \"CommandTopic\" [[DeviceList.AutoEvents]] Frequency = \"30s\" OnChange = false Resource = \"testrandfloat64\" # Driver configs [Driver] IncomingSchema = \"tcp\" IncomingHost = \"192.168.0.239\" IncomingPort = \"1883\" IncomingUser = \"\" IncomingPassword = \"\" IncomingQos = \"0\" IncomingKeepAlive = \"3600\" IncomingClientId = \"IncomingDataSubscriber\" IncomingTopic = \"DataTopic\" ResponseSchema = \"tcp\" ResponseHost = \"192.168.0.239\" ResponsePort = \"1883\" ResponseUser = \"\" ResponsePassword = \"\" ResponseQos = \"0\" ResponseKeepAlive = \"3600\" ResponseClientId = \"CommandResponseSubscriber\" ResponseTopic = \"ResponseTopic\" \u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001\u524d\u534a\u90e8\u5206\u3067\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u81ea\u8eab\u306e\u52d5\u4f5c\u306b\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u5f8c\u534a\u90e8\u5206\u3067\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3068\u5b9f\u969b\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u7d10\u3065\u3051\u3066\u3001EdgeX Foundry \u306e\u30c7\u30d0\u30a4\u30b9\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u90e8\u5206\u306f\u3001 [[DeviceList]] \u3067\u3059\u3002\u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb Test.Device.MQTT.Profile \u306b\u7d10\u3065\u3051\u3066\u3001\u30c7\u30d0\u30a4\u30b9 MQ_DEVICE \u306e\u5b58\u5728\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u3053\u306e\u30c7\u30d0\u30a4\u30b9\u306b\u5bfe\u3059\u308b\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u306b\u5229\u7528\u3059\u308b MQTT \u30d6\u30ed\u30fc\u30ab\u3082\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 \u3053\u3053\u306b\u542b\u307e\u308c\u308b [[DeviceList.AutoEvents]] \u306e\u90e8\u5206\u3067\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u306b\u5bfe\u3059\u308b\u30b3\u30de\u30f3\u30c9\u306e\u5b9a\u671f\u5b9f\u884c\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u4eca\u56de\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u306e\u30ea\u30bd\u30fc\u30b9 randfloat64 \u306f\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306b\u5024\u3092\u81ea\u52d5\u3067\u306f\u9001\u3089\u306a\u3044\u305f\u3081\u3001\u30c7\u30fc\u30bf\u3092\u53ce\u96c6\u3059\u308b\u306b\u306f\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u5074\u304b\u3089\u5b9a\u671f\u7684\u306b\u78ba\u8a8d\u3057\u306b\u884c\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4eca\u56de\u306f\u3001 30 \u79d2\u3054\u3068\u306b testrandfloat64 \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 \u6700\u5f8c\u306e [Driver] \u306e\u90e8\u5206\u3067\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u60c5\u5831\u3092\u53d7\u3051\u53d6\u308b\u305f\u3081\u306b\u8cfc\u8aad\u3059\u308b MQTT \u30d6\u30ed\u30fc\u30ab\u3084\u30c8\u30d4\u30c3\u30af\u540d\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 \u3042\u3068\u304b\u3089\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u8ffd\u52a0 configuration.toml \u306f\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e \u8d77\u52d5\u6642\u306e\u69cb\u6210 \u3092\u6307\u5b9a\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u8d77\u52d5\u5f8c\u306b\u30c7\u30d0\u30a4\u30b9\u3092\u8ffd\u52a0\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u306a\u304f API \u3092\u5229\u7528\u3057\u3066\u8ffd\u52a0 \u3067\u304d\u307e\u3059\u3002 \u4ed6\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u5834\u5408 \u4eca\u56de\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u3042\u304f\u307e\u3067 MQTT \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u5c02\u7528 \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306a\u306e\u3067\u3001\u5229\u7528\u3057\u305f\u3044\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u9055\u3048\u3070\u3001\u5f53\u7136\u3053\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u66f8\u304f\u3079\u304d\u5185\u5bb9\u3082\u5909\u308f\u308b\u3053\u3068\u306b\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u542b\u3093\u3060 EdgeX Foundry \u306e\u8d77\u52d5 \u00b6 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u3067\u304d\u305f\u3089\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u542b\u3080 EdgeX Foundry \u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 \u304a\u624b\u5143\u306b\u3042\u308b\u4eca\u56de\u7528\u306e docker-compose.yml \u306f\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\u3059\u308b\u305f\u3081\u306e\u8a18\u8ff0\u3068\u3057\u3066\u3001\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\u30a8\u30c7\u30a3\u30bf\u3067\u78ba\u8a8d\u3057\u3066\u3082\u3088\u3044\u3067\u3057\u3087\u3046\u3002 amd64 device-mqtt : image : edgexfoundry/docker-device-mqtt-go:1.1.1 ports : - \"49982:49982\" container_name : edgex-device-mqtt hostname : edgex-device-mqtt networks : - edgex-network volumes : - db-data:/data/db - log-data:/edgex/logs - consul-config:/consul/config - consul-data:/consul/data - ./device-service:/custom-config depends_on : - data - command entrypoint : - /device-mqtt - --registry=consul://edgex-core-consul:8500 - --confdir=/custom-config arm64 device-mqtt : image : edgexfoundry/docker-device-mqtt-go-arm64:1.1.1 ports : - \"49982:49982\" container_name : edgex-device-mqtt hostname : edgex-device-mqtt networks : - edgex-network volumes : - db-data:/data/db - log-data:/edgex/logs - consul-config:/consul/config - consul-data:/consul/data - ./device-service:/custom-config depends_on : - data - command entrypoint : - /device-mqtt - --registry=consul://edgex-core-consul:8500 - --confdir=/custom-config \u3053\u308c\u306b\u3088\u308a\u3001 edgexfoundry/docker-device-mqtt-go \u30a4\u30e1\u30fc\u30b8\u3092\u5229\u7528\u3057\u3066\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u8d77\u52d5\u3057\u307e\u3059\u3002 \u307e\u305f\u3001\u4eca\u56de\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u542b\u307e\u308c\u308b\u304a\u624b\u5143\u306e device-service \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u3001\u30b3\u30f3\u30c6\u30ca\u5185\u306e /custom-config \u306b\u30de\u30a6\u30f3\u30c8\u3057\u3001\u8d77\u52d5\u6642\u306e\u5f15\u6570\u3067 --confdir=/custom-config \u3092\u4e0e\u3048\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3067\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u8d77\u52d5\u6642\u306b\u304a\u624b\u5143\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7fa4\u304c\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u3001EdgeX Foundry \u306b\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3068\u30c7\u30d0\u30a4\u30b9\u304c\u767b\u9332\u3055\u308c\u307e\u3059\u3002 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u30de\u30a6\u30f3\u30c8 \u4eca\u56de\u306e\u624b\u6cd5\u306f\u3001\u4ed6\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u3082\u5fdc\u7528\u3067\u304d\u307e\u3059\u3002\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u542b\u3093\u3060\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u3066\u4f7f\u3046\u3053\u3068\u3082\u624b\u3067\u3059\u304c\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63\u304c\u76f8\u5f53\u306a\u624b\u9593\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u65e5\u5e38\u7684\u306b\u66f8\u304d\u63db\u3048\u3046\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u5f8c\u304b\u3089\u30de\u30a6\u30f3\u30c8\u3057\u3066\u5229\u7528\u3055\u305b\u308b\u5de5\u592b\u304c\u6709\u52b9\u3067\u3059\u3002 \u5b9f\u969b\u306b\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3057\u3066 EdgeX Foundry \u3092\u8d77\u52d5\u3055\u305b\u3001 State \u304c Up \u306b\u306a\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ docker-compose up -d $ docker-compose ps \u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u306e\u8d77\u52d5\u72b6\u614b EdgeX Foundry \u306f\u3001\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u7fa4\u306e\u72b6\u614b\u7ba1\u7406\u306b HashiCorp \u306e Consul \u3092\u5229\u7528\u3057\u3066\u304a\u308a\u3001\u5404\u30b5\u30fc\u30d3\u30b9\u306e\u8d77\u52d5\u72b6\u614b\u3084\u767b\u9332\u72b6\u614b\u306f\u3001\u3053\u306e Consul \u3092\u901a\u3058\u3066\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 Consul \u306e GUI \u306b\u306f\u3001 http://<IP \u30a2\u30c9\u30ec\u30b9>:8500/ \u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u3001\u30b5\u30fc\u30d3\u30b9\u306e\u72b6\u614b\u306e\u307b\u304b\u3001\u69cb\u6210\u60c5\u5831\uff08Key-Value \u30b9\u30c8\u30a2\u306e\u4e2d\u8eab\uff09\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 \u52d5\u4f5c\u78ba\u8a8d \u00b6 \u307e\u305a\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3084\u30c7\u30d0\u30a4\u30b9\u304c\u6b63\u5e38\u306b EdgeX Foundry \u306b\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u3001\u305d\u306e\u5f8c\u3001\u5024\u306e\u53ce\u96c6\u3084\u30b3\u30de\u30f3\u30c9\u64cd\u4f5c\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u767b\u9332\u72b6\u614b\u306e\u78ba\u8a8d \u00b6 Web GUI \u3092\u5229\u7528\u3057\u3066\u3001\u767b\u9332\u72b6\u614b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 Docker \u30db\u30b9\u30c8\u306e IP \u30a2\u30c9\u30ec\u30b9\u3092\u78ba\u8a8d\u3057\u3066\u3001 http://<IP \u30a2\u30c9\u30ec\u30b9>:4000/ \u306b\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30e6\u30fc\u30b6 admin \uff08\u30d1\u30b9\u30ef\u30fc\u30c9\u3082 admin \uff09\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 [ Gateway ] \u306b Docker \u30db\u30b9\u30c8\u3092\u767b\u9332\u3057\u3066\u9078\u629e\u72b6\u614b\u306b\u3057\u3066\u304b\u3089\u3001[ Device Service ] \u306b\u9077\u79fb\u3057\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 edgex-device-mqtt \u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 edgex-device-mqtt \u306e\u884c\u306e [ Devices ] \u30a2\u30a4\u30b3\u30f3\u3092\u5c55\u958b\u3057\u3066\u3001\u30c7\u30d0\u30a4\u30b9 MQ_DEVICE \u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9 MQ_DEVICE \u306e\u884c\u306e [ Commands ] \u30a2\u30a4\u30b3\u30f3\u3092\u5c55\u958b\u3057\u3066\u3001 testrandfloat32 \u306a\u3069\u30014 \u3064\u306e\u30b3\u30de\u30f3\u30c9\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 API \u3067\u3082\u3001\u540c\u69d8\u306e\u78ba\u8a8d\u3092\u884c\u3048\u307e\u3059\u3002API \u3067\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3084\u30c7\u30d0\u30a4\u30b9\u306e\u767b\u9332\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u5834\u5408\u306f\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306f metadata \u30b5\u30fc\u30d3\u30b9\uff08 48081 \u756a\u30dd\u30fc\u30c8\uff09\u3067\u3059\u3002 $ curl -s http://localhost: 48081 /api/v 1 /deviceservice | jq ... { \"created\" : 1588154133422 , \"modified\" : 1588154133422 , \"origin\" : 1588154133416 , \"id\" : \"e2699690-fd1f-4d95-b3ad-0053c7c03f26\" , \"name\" : \"edgex-device-mqtt\" , \"operatingState\" : \"ENABLED\" , \"addressable\" : { \"created\" : 1588154133414 , \"modified\" : 1588154133414 , \"origin\" : 1588154133411 , \"id\" : \"75d0e02f-1ab7-43f7-b1fa-d4a10858a177\" , \"name\" : \"edgex-device-mqtt\" , \"protocol\" : \"HTTP\" , \"method\" : \"POST\" , \"address\" : \"edgex-device-mqtt\" , \"port\" : 49982 , \"path\" : \"/api/v1/callback\" , \"baseURL\" : \"http://edgex-device-mqtt:49982\" , \"url\" : \"http://edgex-device-mqtt:49982/api/v1/callback\" }, \"adminState\" : \"UNLOCKED\" } ... $ curl -s http://localhost: 48081 /api/v 1 /device | jq ... { \"created\" : 1588154134502 , \"modified\" : 1588154134502 , \"origin\" : 1588154134456 , \"description\" : \"General MQTT device\" , \"id\" : \"1b715850-b4ee-420e-b4cb-bb65577fa2a4\" , \"name\" : \"MQ_DEVICE\" , \"adminState\" : \"UNLOCKED\" , \"operatingState\" : \"ENABLED\" , \"protocols\" : { \"mqtt\" : { \"ClientId\" : \"CommandPublisher\" , \"Host\" : \"192.168.0.239\" , \"Password\" : \"\" , \"Port\" : \"1883\" , \"Schema\" : \"tcp\" , \"Topic\" : \"CommandTopic\" , \"User\" : \"\" } ... \u30c7\u30d0\u30a4\u30b9\u304b\u3089\u914d\u4fe1\u3055\u308c\u305f\u5024\u306e\u84c4\u7a4d\u306e\u78ba\u8a8d \u00b6 \u4eca\u56de\u306e\u30c7\u30d0\u30a4\u30b9\u306f\u3001\u30bb\u30f3\u30b5 randfloat32 \u306e\u5024\u3092 15 \u79d2\u3054\u3068\u306b\u81ea\u52d5\u7684\u306b MQTT \u30c8\u30d4\u30c3\u30af\u306b\u914d\u4fe1\u3057\u3066\u3044\u307e\u3057\u305f\u3002\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f\u3053\u308c\u3092\u53d7\u3051\u53d6\u308c\u308b\u3088\u3046\u306b\u69cb\u6210\u3057\u305f\u306e\u3067\u3001EdgeX Foundry \u306b\u3082\u53d6\u308a\u8fbc\u307e\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002 data \u30b5\u30fc\u30d3\u30b9\u306e API \u3092\u5229\u7528\u3057\u3066\u3001\u3053\u308c\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ curl -s http://localhost: 48080 /api/v 1 /reading/name/randfloat 32 / 3 | jq [ { \"id\" : \"23fdac76-0870-4b9d-b653-561d8a7c0423\" , \"created\" : 1579707885029 , \"origin\" : 1579707885005379300 , \"modified\" : 1579707885029 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"randfloat32\" , \"value\" : \"QdpmZg==\" }, { \"id\" : \"5c086b1d-6b38-48c0-9aef-9b800f9c72ab\" , \"created\" : 1579707870018 , \"origin\" : 1579707870004742000 , \"modified\" : 1579707870018 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"randfloat32\" , \"value\" : \"QeGZmg==\" }, { \"id\" : \"de67c865-0406-408d-b238-d33de1fe1032\" , \"created\" : 1579707855022 , \"origin\" : 1579707855011006200 , \"modified\" : 1579707855022 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"randfloat32\" , \"value\" : \"Qd2Zmg==\" } ] \u6642\u523b\u306f\u30a8\u30dd\u30c3\u30af\u30df\u30ea\u79d2\uff08 origin \u306f\u30a8\u30dd\u30c3\u30af\u30ca\u30ce\u79d2\uff09\u306a\u306e\u3067\u3001 date \u30b3\u30de\u30f3\u30c9\u3067\u5909\u63db\u3059\u308b\u3068 15 \u79d2\u304a\u304d\u3067\u3042\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 $ date -d \"@1579707885.029\" Wed 22 Jan 2020 03 :44:45 PM UTC $ date -d \"@1579707870.018\" Wed 22 Jan 2020 03 :44:30 PM UTC $ date -d \"@1579707855.022\" Wed 22 Jan 2020 03 :44:15 PM UTC \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u81ea\u52d5\u5b9f\u884c\u30a4\u30d9\u30f3\u30c8\u306e\u78ba\u8a8d \u00b6 \u30bb\u30f3\u30b5 randfloat64 \u306e\u5024\u306f\u3001\u81ea\u52d5\u3067\u306f\u914d\u4fe1\u3055\u308c\u306a\u3044\u305f\u3081\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u8a2d\u5b9a\uff08 configuration.toml \uff09\u306b [[DeviceList.AutoEvents]] \u3092\u5b9a\u7fa9\u3057\u3066\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u5074\u304b\u3089 30 \u79d2\u3054\u3068\u306b\u81ea\u52d5\u3067\u53ce\u96c6\u3055\u305b\u3066\u3044\u307e\u3057\u305f\u3002 \u3053\u308c\u3082\u30c7\u30fc\u30bf\u306e\u84c4\u7a4d\u3092\u78ba\u8a8d\u3067\u304d\u308b\u306f\u305a\u3067\u3059\u3002 $ curl -s http://localhost: 48080 /api/v 1 /reading/name/randfloat 64 / 3 | jq [ { \"id\" : \"c99bd0bc-14f7-46b6-a940-ed26f7738bdb\" , \"created\" : 1579709342807 , \"origin\" : 1579709342806935600 , \"modified\" : 1579709342807 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"randfloat64\" , \"value\" : \"8.047360e+00\" }, { \"id\" : \"68c36823-ca73-4033-8f40-a2d82088f644\" , \"created\" : 1579709312695 , \"origin\" : 1579709312695223100 , \"modified\" : 1579709312695 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"randfloat64\" , \"value\" : \"2.020540e+00\" }, { \"id\" : \"b9fceb6a-6ee3-4f20-aed5-2dab8c0db9c4\" , \"created\" : 1579709282612 , \"origin\" : 1579709282611878800 , \"modified\" : 1579709282612 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"randfloat64\" , \"value\" : \"4.781700e+00\" } ] \u3053\u308c\u3082\u5909\u63db\u3059\u308b\u3068 30 \u79d2\u304a\u304d\u3067\u3042\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 $ date -d \"@1579709342.807\" Wed Jan 22 16 :09:02 UTC 2020 $ date -d \"@1579709312.695\" Wed Jan 22 16 :08:32 UTC 2020 $ date -d \"@1579709282.612\" Wed Jan 22 16 :08:02 UTC 2020 MQTT \u30d6\u30ed\u30fc\u30ab\u3092\u8cfc\u8aad\u3057\u3066\u3044\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u306f\u3001 DataTopic \u3078\u306e\u81ea\u52d5\u914d\u4fe1\u306b\u6df7\u3056\u3063\u3066\u300130 \u79d2\u3054\u3068\u306b CommandTopic \u306b\u30b3\u30de\u30f3\u30c9\u304c\u5c4a\u304d\u3001 ResponseTopic \u306b\u5fdc\u7b54\u304c\u8fd4\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u89b3\u5bdf\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u3002 $ docker run --init --rm --name = client -it kurokobo/mqtt-client sub -h 192 .168.0.239 -t \"#\" -v ... CommandTopic { \"cmd\" : \"randfloat64\" , \"method\" : \"get\" , \"uuid\" : \"5ea957f9b8dd790001fce499\" } ResponseTopic { \"cmd\" : \"randfloat64\" , \"method\" : \"get\" , \"uuid\" : \"5ea957f9b8dd790001fce499\" , \"randfloat64\" : \"4.17029\" } ... CommandTopic { \"cmd\" : \"randfloat64\" , \"method\" : \"get\" , \"uuid\" : \"5ea95817b8dd790001fce49a\" } ResponseTopic { \"cmd\" : \"randfloat64\" , \"method\" : \"get\" , \"uuid\" : \"5ea95817b8dd790001fce49a\" , \"randfloat64\" : \"7.36756\" } ... \u30c7\u30d0\u30a4\u30b9\u3078\u306e\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u306e\u78ba\u8a8d \u00b6 \u3053\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u30ea\u30bd\u30fc\u30b9 message \u306e\u5024\u306f\u3001EdgeX Foundry \u304b\u3089\u5236\u5fa1\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3067\u3082 PUT \u30ea\u30af\u30a8\u30b9\u30c8\u306e\u6319\u52d5\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3057\u305f\u3002\u3053\u3053\u3067\u306f\u3001\u3053\u306e\u64cd\u4f5c\u304c\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3067\u5b9a\u7fa9\u3057\u305f\u5404\u30b3\u30de\u30f3\u30c9\u306f\u3001 command \u30b5\u30fc\u30d3\u30b9\u7d4c\u7531\u3067\u5229\u7528\u3067\u304d\u307e\u3059\u3002\u5b9f\u884c\u7528\u306e URL \u306f\u3001 command \u30b5\u30fc\u30d3\u30b9\u306e API \u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 command \u30b5\u30fc\u30d3\u30b9\uff08 48082 \u756a\u30dd\u30fc\u30c8\uff09\u306b\u30c7\u30d0\u30a4\u30b9\u306e\u60c5\u5831\u3092\u554f\u3044\u5408\u308f\u305b\u308b\u3068\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e URL \u304c\u542b\u307e\u308c\u307e\u3059\u3002\u7d50\u679c\u304b\u3089\u3001 testmessage \u30b3\u30de\u30f3\u30c9\u306e\u60c5\u5831\u3092\u7279\u5b9a\u3057\u3001 get \u3068 put \u306e url \u3092\u63a2\u3057\u307e\u3059\u3002 $ curl -s http://localhost: 48082 /api/v 1 /device/name/MQ_DEVICE | jq ... \"id\" : \"77fccbb8-f33b-42d8-bf21-6d55cdde2068\" , \"name\" : \"MQ_DEVICE\" , ... \"commands\" : [ ... \"name\" : \"testmessage\" , ... \"get\" : { \"path\" : \"/api/v1/device/{deviceId}/testmessage\" , ... \"url\" : \"http://edgex-core-command:48082/api/v1/device/77fccbb8-f33b-42d8-bf21-6d55cdde2068/command/4daa4148-7c0e-4cfd-81cc-b2b740bb4de4\" }, \"put\" : { \"path\" : \"/api/v1/device/{deviceId}/testmessage\" , ... \"url\" : \"http://edgex-core-command:48082/api/v1/device/77fccbb8-f33b-42d8-bf21-6d55cdde2068/command/4daa4148-7c0e-4cfd-81cc-b2b740bb4de4\" , ... EdgeX Foundry \u304c\u30c7\u30d0\u30a4\u30b9\u306b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u304d\u306f\u3001\u5185\u90e8\u3067\u306f\u3053\u306e URL \u306b\u5bfe\u3057\u3066 GET \u3084 PUT \u304c\u884c\u308f\u308c\u307e\u3059\u3002URL \u306e\u3068\u304a\u308a\u3001 command \u30b5\u30fc\u30d3\u30b9\u304c\u30db\u30b9\u30c8\u3067\u3059\u3002 command \u30b5\u30fc\u30d3\u30b9\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u53d6\u308b\u3068\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6e21\u3057\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f\u305d\u308c\u3092\u53d7\u3051\u53d6\u3063\u3066\u4e8b\u524d\u306e\u8a2d\u5b9a\u306b\u5f93\u3063\u3066\u30c7\u30d0\u30a4\u30b9\u306b\u4f5c\u7528\u3057\u3001\u5fdc\u7b54\u304c\u8fd4\u3063\u3066\u304f\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u5b9f\u969b\u306b\u3001\u78ba\u8a8d\u3067\u304d\u305f URL \u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3057\u307e\u3059\u3002\u5916\u90e8\u304b\u3089\u3053\u306e URL \u3092\u76f4\u63a5\u53e9\u304f\u3068\u304d\u306f\u3001 \u30db\u30b9\u30c8\u540d\u90e8\u5206\u3092\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u66f8\u304d\u63db\u3048 \u305f\u3046\u3048\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002 \u307e\u305a\u306f\u3001\u73fe\u5728\u5024\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 get \u30b3\u30de\u30f3\u30c9\u306e URL \u306e\u30db\u30b9\u30c8\u540d\u3092 localhost \u306b\u4fee\u6b63\u3057\u3066\u3001 GET \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u308a\u307e\u3059\u3002 $ curl -s http://localhost:48082/api/v1/device/77fccbb8-f33b-42d8-bf21-6d55cdde2068/command/4daa4148-7c0e-4cfd-81cc-b2b740bb4de4 | jq { \"device\" : \"MQ_DEVICE\" , \"origin\" : 1579710432121478400 , \"readings\" : [ { \"origin\" : 1579710432109675800 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"message\" , \"value\" : \"modified-message\" } ] , \"EncodedEvent\" : null } \u307e\u3060\u4f55\u3082\u5909\u66f4\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u521d\u671f\u5024\uff08 mqtt-script.js \u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\uff09\u304b\u3001\u307e\u305f\u306f\u52d5\u4f5c\u78ba\u8a8d\u3067\u5909\u66f4\u3057\u305f\u3042\u3068\u306e\u6587\u5b57\u5217\uff08\u4e0a\u8a18\u3067\u306f modified-message \uff09\u304c\u8fd4\u3063\u3066\u304d\u307e\u3057\u305f\u3002 \u3053\u3053\u3067\u3001\u5909\u66f4\u3059\u308b\u305f\u3081\u306e PUT \u3092\u6295\u3052\u307e\u3059\u3002\u5148\u307b\u3069\u78ba\u8a8d\u3057\u305f put \u306e URL\uff08\u5b9f\u306f get \u3068\u540c\u3058\u3067\u3059\u304c\uff09\u306e\u30db\u30b9\u30c8\u540d\u3092 localhost \u306b\u4fee\u6b63\u3057\u3066\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30dc\u30c7\u30a3\u306b JSON \u3092\u542b\u3081\u3066 PUT \u3057\u307e\u3059\u3002 $ curl -s -X PUT -d '{\"message\":\"control-from-edgex\"}' http://localhost:48082/api/v1/device/77fccbb8-f33b-42d8-bf21-6d55cdde2068/command/4daa4148-7c0e-4cfd-81cc-b2b740bb4de4 \u30a8\u30e9\u30fc\u304c\u306a\u3051\u308c\u3070\u3001\u518d\u5ea6 GET \u3059\u308b\u3068\u3001\u5024\u304c\u5909\u308f\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 $ curl -s http://localhost:48082/api/v1/device/77fccbb8-f33b-42d8-bf21-6d55cdde2068/command/4daa4148-7c0e-4cfd-81cc-b2b740bb4de4 | jq { \"device\" : \"MQ_DEVICE\" , \"origin\" : 1579710963293832000 , \"readings\" : [ { \"origin\" : 1579710963283338200 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"message\" , \"value\" : \"control-from-edgex\" } ] , \"EncodedEvent\" : null } \u306a\u304a\u3001\u3053\u306e\u3088\u3046\u306a GET \u3084 PUT \u306b\u76f8\u5f53\u3059\u308b\u64cd\u4f5c\u306f\u3001GUI \u304b\u3089\u3082\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002 GUI \u304b\u3089\u306e\u64cd\u4f5c GUI \u304b\u3089\u306e get \u3084 set \u64cd\u4f5c\u306f\u3001\u305f\u307e\u306b\u3046\u307e\u304f\u52d5\u304b\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u307b\u3068\u3093\u3069\u306e\u5834\u5408\u3001\u30d6\u30e9\u30a6\u30b6\u3092\u30ea\u30ed\u30fc\u30c9\u3057\u3066\u518d\u8a66\u884c\u3059\u308b\u3068\u6210\u529f\u3057\u307e\u3059\u3002 \u74b0\u5883\u306e\u505c\u6b62 \u00b6 \u5f8c\u7d9a\u306e\u30e9\u30dc\u3067\u306f\u3001\u73fe\u5728\u5229\u7528\u3057\u3066\u3044\u308b\u3082\u306e\u3068\u306f\u5225\u306e docker-compose.yml \u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3057\u307e\u3059\u306e\u3067\u3001\u4eca\u56de\u306e\u3053\u306e\u74b0\u5883\u306f\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002 \u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u4f5c\u6210\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u3068\u3001\u81ea\u52d5\u3067\u4f5c\u6210\u3055\u308c\u305f\u6c38\u7d9a\u30dc\u30ea\u30e5\u30fc\u30e0\u9818\u57df\u3092\u524a\u9664\u3057\u307e\u3059\u3002 $ docker-compose down --volumes Stopping edgex-ui-go ... done ... Removing image portainer/portainer \u307e\u305f\u3001\u52d5\u4f5c\u3055\u305b\u3066\u3044\u308b MQTT \u30d6\u30ed\u30fc\u30ab\u3068\u30c7\u30d0\u30a4\u30b9\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3082\u505c\u6b62\u3055\u305b\u307e\u3059\u3002MQTT \u30c8\u30d4\u30c3\u30af\u3092\u8cfc\u8aad\u3057\u3066\u3044\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u304c\u6b8b\u3063\u3066\u3044\u308c\u3070\u3001 Ctrl + C \u3067\u7d42\u4e86\u3057\u307e\u3059\u3002 $ docker stop broker $ docker rm -f mqtt-scripts \u4e0d\u8981\u306a\u30b3\u30f3\u30c6\u30ca\u304c\u6b8b\u3063\u3066\u3044\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES \u307e\u3068\u3081 \u00b6 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001\u4ee5\u4e0b\u3092\u53d6\u308a\u6271\u3044\u307e\u3057\u305f\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u6982\u8981\u3068\u3001\u305d\u306e\u69cb\u6210\u8981\u7d20\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u7528\u3044\u3066\u3001MQTT \u3092\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u3092 EdgeX Foundry \u306e\u5236\u5fa1\u4e0b\u306b\u7f6e\u304f\u624b\u6cd5\u3092\u5b9f\u8df5\u3057\u307e\u3057\u305f \u5b9f\u969b\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3067\u306f\u3001\u672c\u5f53\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u672c\u5f53\u306e\u4ed5\u69d8\u306b\u5408\u308f\u305b\u3066\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3084\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7fa4\u3092\u69cb\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u5834\u5408\u306b\u3088\u3063\u3066\u306f\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u305d\u308c\u81ea\u4f53\u306e\u5b9f\u88c5\u3092\u542b\u3081\u3066\u958b\u767a\u304c\u5fc5\u8981\u306b\u306a\u308b\u53ef\u80fd\u6027\u3082\u3042\u308a\u307e\u3059\u304c\u3001SDK \u3092\u4f7f\u3063\u3066\u30bc\u30ed\u304b\u3089\u958b\u767a\u3059\u308b\u307b\u304b\u3001\u65e2\u5b58\u306e\u5404\u30d7\u30ed\u30c8\u30b3\u30eb\u7528\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u5b9f\u88c5\u3082\u53c2\u8003\u306b\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u3002 \u306a\u304a\u3001\u3053\u306e\u30e9\u30dc\u3067\u306f MQTT \u7528\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u53d6\u308a\u4e0a\u3052\u307e\u3057\u305f\u304c\u3001\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u306f \u4ed6\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u7528\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb \u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u5404\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e Git \u30ea\u30dd\u30b8\u30c8\u30ea\uff08 MQTT \u3001 BACnet \u3001 Modbus \u3001 REST API \u306a\u3069\uff09\u306b\u542b\u307e\u308c\u308b README.md \u3082\u53c2\u8003\u306b\u3067\u304d\u307e\u3059\u3002","title":"Lab 3 - \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u8ffd\u52a0\uff08MQTT\uff09"},{"location":"fuji/lab-device-service-mqtt/#lab-3-mqtt","text":"\u3053\u306e\u30e9\u30dc\u3067\u306f\u3001EdgeX Foundry \u306e\u5236\u5fa1\u4e0b\u306b\u4efb\u610f\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u624b\u6cd5\u3092\u5b9f\u8df5\u3057\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001MQTT \u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\uff08\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\uff09\u3092\u7528\u610f\u3057\u3001\u3053\u308c\u3092\u5236\u5fa1\u3059\u308b\u305f\u3081\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u69cb\u6210\u3059\u308b\u3053\u3068\u3067\u3001\u4e0b\u56f3\u306e\u3088\u3046\u306b EdgeX Foundry \u304c\u305d\u306e\u30c7\u30d0\u30a4\u30b9\u3068\u5b9f\u969b\u306b\uff08MQTT \u30d6\u30ed\u30fc\u30ab\u3092\u4ecb\u3057\u3066\uff09\u30a4\u30f3\u30bf\u30e9\u30af\u30b7\u30e7\u30f3\u3067\u304d\u308b\u72b6\u614b\u3092\u69cb\u6210\u3057\u307e\u3059\u3002","title":"Lab 3 - \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u8ffd\u52a0\uff08MQTT\uff09"},{"location":"fuji/lab-device-service-mqtt/#_1","text":"\u3053\u306e\u30e9\u30dc\u306e\u76ee\u7684\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u6982\u8981\u3092\u7406\u89e3\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u7528\u3044\u3066\u4efb\u610f\u306e\u30c7\u30d0\u30a4\u30b9\u3092 EdgeX Foundry \u306e\u5236\u5fa1\u4e0b\u306b\u7f6e\u304f\u624b\u6cd5\u3092\u7406\u89e3\u3059\u308b \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001Docker Compose \u3092\u5229\u7528\u3057\u3066\u3001Ubuntu \u4e0a\u306e Docker \u30b3\u30f3\u30c6\u30ca\u7fa4\u3068\u3057\u3066 EdgeX Foundry \u3092\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002\u307e\u305f\u3001\u30c7\u30d0\u30a4\u30b9\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3068 MQTT \u306e\u30d6\u30ed\u30fc\u30ab\u3082 Docker \u30b3\u30f3\u30c6\u30ca\u3068\u3057\u3066\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002","title":"\u3053\u306e\u30e9\u30dc\u306e\u30b4\u30fc\u30eb\u3068\u69cb\u6210"},{"location":"fuji/lab-device-service-mqtt/#_2","text":"\u30e9\u30dc\u306b\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u524d\u306e\u30e9\u30dc\u3067\u30af\u30ed\u30fc\u30f3\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u30af\u30ed\u30fc\u30f3\u3092\u5b9f\u65bd\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001Ubuntu \u4e0a\u3067\u30af\u30ed\u30fc\u30f3\u3057\u3001CPU \u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u5fdc\u3058\u3066\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u79fb\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002 amd64 git clone https://github.com/kurokobo/edgex-hol-fuji.git cd edgex-hol-fuji cd amd64 arm64 git clone https://github.com/kurokobo/edgex-hol-fuji.git cd edgex-hol-fuji cd arm64 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001 lab-device-service-mqtt \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u8eab\u3092\u5229\u7528\u3057\u307e\u3059\u3002 cd lab-device-service-mqtt ls -l \u30d5\u30a1\u30a4\u30eb docker-compose.yml \u3068\u3001\u30c7\u30a3\u30ec\u30af\u30c8\u30ea device-service \u3001 simulator \u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002","title":"\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306e\u7528\u610f"},{"location":"fuji/lab-device-service-mqtt/#_3","text":"\u307e\u305a\u306f\u3001\u4eca\u56de\u65b0\u3057\u304f EdgeX Foundry \u306e\u5236\u5fa1\u4e0b\u306b\u304a\u304d\u305f\u3044\u30c7\u30d0\u30a4\u30b9\u306e\u4ed5\u69d8\u3092\u6574\u7406\u3057\u307e\u3059\u3002\u305d\u306e\u5f8c\u3001\u5b9f\u969b\u306b\u305d\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3092\u52d5\u4f5c\u3055\u305b\u3001\u4ed5\u69d8\u901a\u308a\u306b\u52d5\u304f\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002","title":"\u65b0\u3057\u3044\u30c7\u30d0\u30a4\u30b9\u306e\u4ed5\u69d8\u3068\u52d5\u4f5c\u78ba\u8a8d"},{"location":"fuji/lab-device-service-mqtt/#_4","text":"\u4eca\u56de\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u4ed5\u69d8\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u5b58\u5728\u3059\u308b\u3082\u306e\u3068\u3057\u3066\u3001\u3053\u308c\u3092 EdgeX Foundry \u306e\u5236\u5fa1\u4e0b\u306b\u7f6e\u304f\u3053\u3068\u3092\u8003\u3048\u307e\u3059\u3002 \u4e8c\u7a2e\u985e\u306e\u30bb\u30f3\u30b5\u3092\u6301\u3064 randfloat32 randfloat64 \u4e8c\u7a2e\u985e\u306e\u6587\u5b57\u5217\u60c5\u5831\u3092\u6301\u3064 ping message MQTT \u306e\u30c8\u30d4\u30c3\u30af DataTopic \u306b\u30bb\u30f3\u30b5 randfloat32 \u306e\u5024\u3092 15 \u79d2\u3054\u3068\u306b\u914d\u4fe1\u3059\u308b {\"name\":\"MQ_DEVICE\",\"cmd\":\"randfloat32\",\"randfloat32\":\"<\u5024>\"} \u306e\u5f62\u5f0f\u3067\u914d\u4fe1\u3059\u308b MQTT \u306e\u30c8\u30d4\u30c3\u30af CommandTopic \u3092\u8cfc\u8aad\u3057\u3066\u3001\u5916\u90e8\u304b\u3089\u306e\u30b3\u30de\u30f3\u30c9\u3092\u5f85\u3061\u53d7\u3051\u308b {\"name\":\"MQTT_DEVICE\",\"method\":\"<get \u307e\u305f\u306f set>\",\"cmd\":\"<\u30b3\u30de\u30f3\u30c9\u540d>\"} \u306e\u5f62\u5f0f\u306e\u30b3\u30de\u30f3\u30c9\u3092\u53d7\u3051\u53d6\u308b \u5916\u90e8\u304b\u3089\u306e\u30b3\u30de\u30f3\u30c9\u3092\u53d7\u3051\u53d6\u3063\u305f\u3089\u3001\u30b3\u30de\u30f3\u30c9\u5fdc\u3058\u3066\u51e6\u7406\u3092\u5b9f\u884c\u3057\u3001\u7d50\u679c\u3092 MQTT \u306e\u30c8\u30d4\u30c3\u30af ResponseTopic \u306b\u914d\u4fe1\u3059\u308b \u30b3\u30de\u30f3\u30c9\u306e\u30e1\u30bd\u30c3\u30c9\u304c set \u3060\u3063\u305f\u5834\u5408\u306f\u3001\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b message \u3092\u66f8\u304d\u63db\u3048\u308b \u30b3\u30de\u30f3\u30c9\u304c ping \u3060\u3063\u305f\u5834\u5408\u306f\u3001 pong \u3092\u8fd4\u3059 \u30b3\u30de\u30f3\u30c9\u304c message \u3060\u3063\u305f\u5834\u5408\u306f\u3001\u4fdd\u5b58\u3055\u308c\u3066\u3044\u308b message \u3092\u8fd4\u3059 \u30b3\u30de\u30f3\u30c9\u304c randfloat32 \u307e\u305f\u306f randfloat64 \u3060\u3063\u305f\u5834\u5408\u306f\u3001\u305d\u308c\u305e\u308c\u5bfe\u5fdc\u3059\u308b\u30bb\u30f3\u30b5\u306e\u5024\u3092\u8fd4\u3059 \u7d50\u679c\u306f {\"name\":\"MQ_DEVICE\",\"method\":\"<\u30e1\u30bd\u30c3\u30c9>\",\"cmd\":\"<\u30b3\u30de\u30f3\u30c9\u540d>\",\"<\u30b3\u30de\u30f3\u30c9\u540d>\":\"<\u5024>\"} \u306e\u5f62\u5f0f\u3067\u914d\u4fe1\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u5074\u304c\u5b9a\u671f\u7684\u306b\u30c7\u30fc\u30bf\u3092\u914d\u4fe1\u3059\u308b\u3060\u3051\u3067\u306a\u304f\u3001\u5916\u90e8\u304b\u3089\u306e\u30b3\u30de\u30f3\u30c9\u64cd\u4f5c\u3082\u53d7\u3051\u4ed8\u3051\u308b\u3088\u3046\u306a\u30c7\u30d0\u30a4\u30b9\u3067\u3059\u3002\u305f\u3060\u3057\u3001\u4e8c\u3064\u3042\u308b\u30bb\u30f3\u30b5\u306e\u3046\u3061\u306e\u3072\u3068\u3064 randfloat64 \u306f\u3001\u5024\u306e\u5b9a\u671f\u7684\u306a\u81ea\u52d5\u3067\u306e\u914d\u4fe1\u306f\u3057\u3066\u304f\u308c\u307e\u305b\u3093\u3002","title":"\u65b0\u3057\u3044\u30c7\u30d0\u30a4\u30b9\u306e\u4ed5\u69d8\u306e\u6574\u7406"},{"location":"fuji/lab-device-service-mqtt/#_5","text":"MQTT \u3092\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u3092 EdgeX Foundry \u3067\u7ba1\u7406\u3059\u308b\u5834\u5408\u3001\u5178\u578b\u7684\u306b\u306f\u3001EdgeX Foundry \u306e\u30db\u30b9\u30c8\u3068\u306f\u5225\u306b\u3001MQTT \u30d6\u30ed\u30fc\u30ab\u3068\u5b9f\u969b\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u5b58\u5728\u3059\u308b\u3068\u8003\u3048\u3089\u308c\u307e\u3059\u3002 \u305f\u3060\u3057\u3001\u4eca\u56de\u306f\u30e9\u30dc\u306a\u306e\u3067\u3001\u3059\u3079\u3066\u3092\u30e9\u30dc\u7528\u306e Ubuntu \u30db\u30b9\u30c8\u4e0a\u3067 Docker \u30b3\u30f3\u30c6\u30ca\u3068\u3057\u3066\u52d5\u4f5c\u3055\u305b\u3066\u3057\u307e\u3044\u307e\u3059\u3002\u672c\u6765\u306e\u59ff\u3068\u306f\u82e5\u5e72\u306e\u4e56\u96e2\u304c\u3042\u308b\u70b9\u3092\u7406\u89e3\u3057\u305f\u4e0a\u3067\u9032\u3081\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u30e9\u30dc\u3068\u3057\u3066\u306e\u69cb\u6210"},{"location":"fuji/lab-device-service-mqtt/#_6","text":"\u3053\u306e\u30e9\u30dc\u3067\u306f\u3001\u524d\u8ff0\u306e\u4ed5\u69d8\u306b\u6cbf\u3063\u305f\u30c7\u30d0\u30a4\u30b9\u3092\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3092\u4f7f\u3063\u3066 Docker \u30b3\u30f3\u30c6\u30ca\u3068\u3057\u3066\u7528\u610f\u3057\u307e\u3059\u3002 \u307e\u305a\u306f\u3001MQTT \u3092\u6271\u3046\u306b\u306f MQTT \u30d6\u30ed\u30fc\u30ab\u304c\u4e0d\u53ef\u6b20\u306a\u306e\u3067\u3001\u3053\u308c\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002\u8d77\u52d5\u5f8c\u3001 docker ps \u3067 STATUS \u304c Up \u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 $ docker run -d --rm --name broker -p 1883 :1883 eclipse-mosquitto 9e1c5939be6a9c6366c2cbdad5eae5ab5c1665062125d0a8971aa030d2116a8d $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 9e1c5939be6a eclipse-mosquitto \"/docker-entrypoint.\u2026\" 6 seconds ago Up 3 seconds 0 .0.0.0:1883->1883/tcp broker \u7d9a\u3051\u3066\u3001\u5b9f\u30c7\u30d0\u30a4\u30b9\uff08\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\uff09\u306e\u7528\u610f\u3067\u3059\u3002 \u3053\u3053\u3067\u306f\u3001Node.js \u3067 MQTT \u3092\u6271\u3048\u308b\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8 dersimn/mqtt-scripts \u3092\u5229\u7528\u3057\u3066\u3001\u6b21\u306e\u3088\u3046\u306a\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u8d77\u52d5\u3055\u305b\u308b\u3053\u3068\u3067\u3001\u524d\u8ff0\u306e\u4ed5\u69d8\u901a\u308a\u306b\u52d5\u304f\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3068\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u30b9\u30af\u30ea\u30d7\u30c8\u306f\u3001\u304a\u624b\u5143\u306e simulator \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306e mock-device.js \u3068\u3057\u3066\u4fdd\u5b58\u3055\u308c\u3066\u3044\u307e\u3059\u306e\u3067\u3001\u30a8\u30c7\u30a3\u30bf\u3067\u78ba\u8a8d\u3057\u3066\u3082\u3088\u3044\u3067\u3057\u3087\u3046\u3002 function getRandomFloat ( min , max ) { return Math . random () * ( max - min ) + min ; } const deviceName = \"MQ_DEVICE\" ; let message = \"test-message\" ; // 1. Publish random number every 15 seconds schedule ( '*/15 * * * * *' , () => { let body = { \"name\" : deviceName , \"cmd\" : \"randfloat32\" , \"randfloat32\" : getRandomFloat ( 25 , 29 ). toFixed ( 1 ) }; publish ( 'DataTopic' , JSON . stringify ( body )); }); // 2. Receive the reading request, then return the response // 3. Receive the put request, then change the device value subscribe ( \"CommandTopic\" , ( topic , val ) => { var data = val ; if ( data . method == \"set\" ) { message = data [ data . cmd ] } else { switch ( data . cmd ) { case \"ping\" : data . ping = \"pong\" ; break ; case \"message\" : data . message = message ; break ; case \"randfloat32\" : data . randfloat32 = getRandomFloat ( 25 , 29 ). toFixed ( 1 ); break ; case \"randfloat64\" : data . randfloat64 = getRandomFloat ( 10 , 1 ). toFixed ( 5 ); break ; } } publish ( \"ResponseTopic\" , JSON . stringify ( data )); }); \u3053\u308c\u3092\u8d77\u52d5\u3059\u308b\u306b\u306f\u3001\u6b21\u306e\u3088\u3046\u306b\u4f5c\u696d\u3057\u307e\u3059\u3002 \u30b3\u30de\u30f3\u30c9\u306b MQTT \u30d6\u30ed\u30fc\u30ab\u3092\u793a\u3059 IP \u30a2\u30c9\u30ec\u30b9\u3092\u542b\u3080 \u305f\u3081\u3001\u3054\u81ea\u8eab\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066 \u9069\u5b9c\u66f8\u304d\u63db\u3048\u3066 \u304f\u3060\u3055\u3044\u3002\u30ac\u30a4\u30c9\u901a\u308a\u306b EdgeX Foundry \u3068\u540c\u3058\u30db\u30b9\u30c8\u3067 MQTT \u30d6\u30ed\u30fc\u30ab\u3092\u52d5\u4f5c\u3055\u305b\u305f\u5834\u5408\u306f\u3001EdgeX Foundry \u306e IP \u30a2\u30c9\u30ec\u30b9\u3068\u540c\u4e00\u3067\u3059\u3002 \u307e\u305f\u3001CPU \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u3088\u3063\u3066\u5229\u7528\u3059\u308b\u30a4\u30e1\u30fc\u30b8\u304c\u7570\u306a\u308a\u307e\u3059\u3002\u8d77\u52d5\u5f8c\u3001 docker ps \u3067 STATUS \u304c Up \u3067\u3042\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 amd64 $ cd simulator $ docker run -d --restart = always --name = mqtt-scripts -v \" $( pwd ) :/scripts\" dersimn/mqtt-scripts --url mqtt://192.168.0.239 --dir /scripts Unable to find image 'dersimn/mqtt-scripts:latest' locally ... 9d52b4956ebbec60dd0f93bdf9750ff915fefd8e8c58d3ce8bc7ba1429693d2b $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 13f70f88b67b dersimn/mqtt-scripts \"node /node/index.js\u2026\" 18 seconds ago Up 16 seconds mqtt-scripts 9e1c5939be6a eclipse-mosquitto \"/docker-entrypoint.\u2026\" 16 minutes ago Up 16 minutes 0 .0.0.0:1883->1883/tcp broker arm64 $ cd simulator $ docker run -d --restart = always --name = mqtt-scripts -v \" $( pwd ) :/scripts\" dersimn/mqtt-scripts:armhf --url mqtt://192.168.0.239 --dir /scripts Unable to find image 'dersimn/mqtt-scripts:armhf' locally ... 9d52b4956ebbec60dd0f93bdf9750ff915fefd8e8c58d3ce8bc7ba1429693d2b $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 13f70f88b67b dersimn/mqtt-scripts:armhf \"node /node/index.js\u2026\" 18 seconds ago Up 16 seconds mqtt-scripts 9e1c5939be6a eclipse-mosquitto \"/docker-entrypoint.\u2026\" 16 minutes ago Up 16 minutes 0 .0.0.0:1883->1883/tcp broker","title":"\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u306e\u8d77\u52d5"},{"location":"fuji/lab-device-service-mqtt/#_7","text":"\u6700\u5f8c\u306b\u3001\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u304c\u4ed5\u69d8\u901a\u308a\u52d5\u4f5c\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u65b0\u3057\u3044\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u8d77\u52d5\u3057\u3066\u3001\u30d6\u30ed\u30fc\u30ab\u306e\u5168\u30c8\u30d4\u30c3\u30af\u3092\u8cfc\u8aad\u3059\u308b\u305f\u3081\u306e\u30b3\u30f3\u30c6\u30ca\u3092\u65b0\u305f\u306b\u8d77\u52d5\u3057\u307e\u3059\u300215 \u79d2\u3054\u3068\u306b\u30c8\u30d4\u30c3\u30af DataTopic \u306b\u30bb\u30f3\u30b5 randfloat32 \u306e\u5024\u304c\u5c4a\u3044\u3066\u3044\u308c\u3070\u3001\u52d5\u4f5c\u306f\u6b63\u5e38\u3067\u3059\u3002\u3053\u3053\u3067\u3082\u3001 \u30b3\u30de\u30f3\u30c9\u306b MQTT \u30d6\u30ed\u30fc\u30ab\u3092\u793a\u3059 IP \u30a2\u30c9\u30ec\u30b9\u3092\u542b\u3080 \u305f\u3081\u3001\u3054\u81ea\u8eab\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066 \u9069\u5b9c\u66f8\u304d\u63db\u3048\u3066 \u304f\u3060\u3055\u3044\u3002 $ docker run --init --rm --name = client -it kurokobo/mqtt-client sub -h 192 .168.0.239 -t \"#\" -v ... DataTopic { \"name\" : \"MQ_DEVICE\" , \"cmd\" : \"randfloat32\" , \"randfloat32\" : \"27.4\" } DataTopic { \"name\" : \"MQ_DEVICE\" , \"cmd\" : \"randfloat32\" , \"randfloat32\" : \"28.6\" } \u3053\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u306f\u3001\u4eca\u5f8c\u306e\u52d5\u4f5c\u78ba\u8a8d\u306e\u305f\u3081\u306b\u3082 \u8d77\u52d5\u3055\u305b\u305f\u307e\u307e \u306b\u3057\u307e\u3059\u3002 \u7d9a\u3051\u3066\u3001\u30c7\u30d0\u30a4\u30b9\u306b\u5bfe\u3059\u308b\u64cd\u4f5c\u304c\u3067\u304d\u308b\u3053\u3068\u3082\u78ba\u8a8d\u3057\u307e\u3059\u3002\u8ffd\u52a0\u3067\u65b0\u3057\u3044\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u8d77\u52d5\u3057\u3066\u3001\u30c8\u30d4\u30c3\u30af CommandTopic \u306b\u30b3\u30de\u30f3\u30c9\u3092\u914d\u4fe1\u3057\u307e\u3059\u3002\u3053\u308c\u307e\u3067\u540c\u69d8\u3001\u3054\u81ea\u8eab\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066 \u30b3\u30de\u30f3\u30c9\u4e2d\u306e IP \u30a2\u30c9\u30ec\u30b9\u306f\u9069\u5b9c\u66f8\u304d\u63db\u3048\u3066 \u304f\u3060\u3055\u3044\u3002 \u5b9f\u884c\u3059\u308b\u3054\u3068\u306b MQTT \u3092\u8cfc\u8aad\u3057\u3066\u3044\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u898b\u308b\u3068\u3001\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u306e\u5fdc\u7b54\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u307e\u305a\u306f\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u306e\u60c5\u5831\u306e\u53d6\u5f97\u3092\u884c\u3046 get \u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ docker run --init -it --rm kurokobo/mqtt-client pub -h 192 .168.0.239 -t \"CommandTopic\" -m '{\"name\":\"MQTT_DEVICE\",\"method\":\"get\",\"cmd\":\"ping\"}' $ docker run --init -it --rm kurokobo/mqtt-client pub -h 192 .168.0.239 -t \"CommandTopic\" -m '{\"name\":\"MQTT_DEVICE\",\"method\":\"get\",\"cmd\":\"randfloat32\"}' $ docker run --init -it --rm kurokobo/mqtt-client pub -h 192 .168.0.239 -t \"CommandTopic\" -m '{\"name\":\"MQTT_DEVICE\",\"method\":\"get\",\"cmd\":\"randfloat64\"}' failed to resize tty \u5b9f\u884c\u6642\u306b failed to resize tty, using default size \u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u7121\u8996\u3057\u3066\u69cb\u3044\u307e\u305b\u3093\u3002 \u8cfc\u8aad\u3057\u3066\u3044\u308b\u5074\u3067\u306f\u3001\u547d\u4ee4\u304c CommandTopic \u306b\u5c4a\u304d\u3001\u305d\u306e\u30b3\u30de\u30f3\u30c9\u306b\u5fdc\u3058\u305f\u5fdc\u7b54\u304c ResponseTopic \u306b\u914d\u4fe1\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 ... CommandTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"ping\" } ResponseTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"ping\" , \"ping\" : \"pong\" } ... CommandTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"randfloat32\" } ResponseTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"randfloat32\" , \"randfloat32\" : \"27.6\" } ... CommandTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"randfloat64\" } ResponseTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"randfloat64\" , \"randfloat64\" : \"8.39883\" } ... \u540c\u69d8\u306b\u3001\u30c7\u30d0\u30a4\u30b9\u3092\u64cd\u4f5c\u3059\u308b set \u306e\u52d5\u4f5c\u3082\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ docker run --init -it --rm kurokobo/mqtt-client pub -h 192 .168.0.239 -t \"CommandTopic\" -m '{\"name\":\"MQTT_DEVICE\",\"method\":\"get\",\"cmd\":\"message\"}' $ docker run --init -it --rm kurokobo/mqtt-client pub -h 192 .168.0.239 -t \"CommandTopic\" -m '{\"name\":\"MQTT_DEVICE\",\"method\":\"set\",\"cmd\":\"message\",\"message\":\"modified-message\"}' $ docker run --init -it --rm kurokobo/mqtt-client pub -h 192 .168.0.239 -t \"CommandTopic\" -m '{\"name\":\"MQTT_DEVICE\",\"method\":\"get\",\"cmd\":\"message\"}' \u8cfc\u8aad\u3057\u3066\u3044\u308b\u5074\u3067\u306f\u3001 set \u306e\u5b9f\u884c\u524d\u5f8c\u3067 message \u30b3\u30de\u30f3\u30c9\u306e\u7d50\u679c\u304c\u5909\u5316\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 ... CommandTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"message\" } ResponseTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"message\" , \"message\" : \"test-message\" } ... CommandTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"set\" , \"cmd\" : \"message\" , \"message\" : \"modified-message\" } ResponseTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"set\" , \"cmd\" : \"message\" , \"message\" : \"modified-message\" } ... CommandTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"message\" } ResponseTopic { \"name\" : \"MQTT_DEVICE\" , \"method\" : \"get\" , \"cmd\" : \"message\" , \"message\" : \"modified-message\" } ... \u3053\u3053\u307e\u3067\u3067\u3001\u30c7\u30d0\u30a4\u30b9\uff08\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\uff09\u304c\u52d5\u4f5c\u3057\u3066\u3044\u308b\u72b6\u614b\u304c\u4f5c\u308c\u307e\u3057\u305f\u3002 \u3068\u306f\u3044\u3048\u73fe\u6bb5\u968e\u3067\u306f\u3001\u305f\u3060\u5358\u306b\u524d\u8ff0\u306e\u4ed5\u69d8\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u8ad6\u7406\u7684\u306b\u4f5c\u3063\u305f\u3060\u3051\u3067\u3001EdgeX Foundry \u306f\u5168\u304f\u95a2\u4fc2\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u3053\u304b\u3089\u3001\u3053\u306e\u30c7\u30d0\u30a4\u30b9\u3092 EdgeX Foundry \u306e\u5236\u5fa1\u4e0b\u306b\u7f6e\u304f\u624b\u6cd5\u3092\u5b9f\u8df5\u3057\u307e\u3059\u3002","title":"\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u306e\u52d5\u4f5c\u78ba\u8a8d"},{"location":"fuji/lab-device-service-mqtt/#_8","text":"\u5148\u307b\u3069\u4f5c\u3063\u305f\u30c7\u30d0\u30a4\u30b9\u3092\u3001EdgeX Foundry \u306e\u5236\u5fa1\u4e0b\u306b\u304a\u304f\u3053\u3068\u3092\u8003\u3048\u307e\u3059\u3002","title":"\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u69cb\u6210"},{"location":"fuji/lab-device-service-mqtt/#_9","text":"\u73fe\u5b9f\u4e16\u754c\u306b\u5b58\u5728\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u306f\u3001\u305d\u308c\u305e\u308c\u304c\u7570\u306a\u308b\u30bb\u30f3\u30b5\u3084\u30b9\u30a4\u30c3\u30c1\u3092\u6301\u3063\u3066\u3044\u3066\u3001\u7570\u306a\u308b\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u30a4\u30f3\u30bf\u30d5\u30a7\u30a4\u30b9\u306b\u6301\u3064\u305f\u3081\u3001\u305d\u308c\u305e\u308c\u306b\u5fdc\u3058\u305f\u9069\u5207\u306a\u65b9\u6cd5\u3067\u5024\u306e\u53d6\u5f97\u3084\u5236\u5fa1\u547d\u4ee4\u306e\u767a\u884c\u3092\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u3053\u306e\u5b9f\u614b\u3092\u8e0f\u307e\u3048\u3001EdgeX Foundry \u3067\u306f\u3001\u5b9f\u30c7\u30d0\u30a4\u30b9\u3068 EdgeX Foundry \u306e\u9593\u3092\u53d6\u308a\u6301\u3064\u5b58\u5728\u3068\u3057\u3066\u3001 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 \u3068\u3088\u3070\u308c\u308b\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f\u3001\u5178\u578b\u7684\u306b\u306f \u30d7\u30ed\u30c8\u30b3\u30eb\u3054\u3068 \u307e\u305f\u306f \u30c7\u30d0\u30a4\u30b9\u306e\u7a2e\u985e\u3054\u3068 \u306b\u7528\u610f\u3057\u307e\u3059\u3002\u3072\u3068\u3064\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3067 \u3072\u3068\u3064\u4ee5\u4e0a\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u5236\u5fa1 \u3067\u304d\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u5f79\u5272\u3092\u6301\u3061\u307e\u3059\u3002 \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u5bfe\u3057\u3066 REST \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u63d0\u4f9b\u3057\u3001\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u306e\u60c5\u5831\u53d6\u5f97\u3084\u30c7\u30d0\u30a4\u30b9\u3078\u306e\u5236\u5fa1\u547d\u4ee4\u306e\u767a\u884c\u3092\u884c\u3048\u308b\u3088\u3046\u306b\u3059\u308b \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u304b\u3089\u9001\u3089\u308c\u3066\u304d\u305f\u5236\u5fa1\u547d\u4ee4\u3092\u3001\u5b9f\u30c7\u30d0\u30a4\u30b9\u306b\u5408\u308f\u305b\u305f\u547d\u4ee4\u306b\u7ffb\u8a33\u3057\u3066\u5b9f\u884c\u3057\u3001\u5b9f\u30c7\u30d0\u30a4\u30b9\u3092\u5236\u5fa1\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u304b\u3089\u9001\u3089\u308c\u3066\u304d\u305f\u60c5\u5831\u3092\u3001\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u5408\u308f\u305b\u305f\u60c5\u5831\u306b\u7ffb\u8a33\u3057\u3066\u9001\u4fe1\u3059\u308b \u4e8b\u524d\u306e\u5b9a\u7fa9\u306b\u5f93\u3063\u3066\u5b9a\u671f\u7684\u306b\u30c7\u30d0\u30a4\u30b9\u306b\u5bfe\u3057\u3066\u7279\u5b9a\u306e\u51e6\u7406\u3092\u884c\u3044\u3001\u7d50\u679c\u3092\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u9001\u4fe1\u3059\u308b \u73fe\u6bb5\u968e\u3067\u306f\u3001 MQTT \u3001 BACnet \u3001 Modbus \u3001 REST API \u306a\u3069\u3001IoT \u3067\u3088\u304f\u5229\u7528\u3055\u308c\u308b\u30d7\u30ed\u30c8\u30b3\u30eb\u3054\u3068\u306b\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u53c2\u8003\u5b9f\u88c5\u304c\u63d0\u4f9b\u3055\u308c\u3066\u304a\u308a\u3001\u5b9f\u30c7\u30d0\u30a4\u30b9\u306e\u4ed5\u69d8\u306b\u3088\u3063\u3066\u306f\u305d\u306e\u307e\u307e\u6d41\u7528\u3067\u304d\u308b\u3053\u3068\u3082\u3042\u308b\u3067\u3057\u3087\u3046\u3002 \u65e2\u5b58\u306e\u5b9f\u88c5\u304c\u5229\u7528\u3067\u304d\u306a\u3044\u5834\u5408\u3067\u3082\u3001C \u8a00\u8a9e\u3084 Go \u8a00\u8a9e\u306e SDK \u304c\u63d0\u4f9b \u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u81ea\u88fd\u304c\u53ef\u80fd\u306a\u307b\u304b\u3001\u30a8\u30b3\u30b7\u30b9\u30c6\u30e0\u304c\u6210\u719f\u3059\u308c\u3070\u3001IoT \u30c7\u30d0\u30a4\u30b9\u306e\u30e1\u30fc\u30ab\u5074\u304c\u30c7\u30d0\u30a4\u30b9\u3068\u4f75\u305b\u3066 EdgeX Foundry \u7528\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u63d0\u4f9b\u3059\u308b\u3088\u3046\u306a\u53ef\u80fd\u6027\u3082\u8003\u3048\u3089\u308c\u307e\u3059\u3002 \u3044\u305a\u308c\u306b\u305b\u3088\u3001\u3059\u3079\u3066\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f\u3001\u3053\u306e SDK \u3092\u7528\u3044\u305f\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u3082\u3068\u3067\u5b9f\u88c5\u3055\u308c\u308b\u305f\u3081\u3001\u5b9f\u30c7\u30d0\u30a4\u30b9\u306e\u64cd\u4f5c\u65b9\u6cd5\u3084\u8a2d\u5b9a\u65b9\u6cd5\u306e\u5dee\u7570\u306f\u62bd\u8c61\u5316\u3055\u308c\u307e\u3059\u3002\u7d50\u679c\u7684\u306b\u3001\u3059\u3079\u3066\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u5171\u901a\u306e\u624b\u6cd5\u3067\u5236\u5fa1\u3067\u304d\u308b\u30a4\u30f3\u30bf\u30d5\u30a7\u30a4\u30b9\u3092\u81ea\u305a\u3068\u6301\u3064\u3088\u3046\u306b\u306a\u308a\u3001\u76f8\u4e92\u904b\u7528\u6027\u3092\u5927\u304d\u304f\u9ad8\u3081\u3089\u308c\u307e\u3059\u3002\u3053\u308c\u304c\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u3001\u3072\u3044\u3066\u306f EdgeX Foundry \u306e\u5927\u304d\u306a\u30e1\u30ea\u30c3\u30c8\u306e\u3072\u3068\u3064\u3067\u3059\u3002","title":"\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u6982\u5ff5"},{"location":"fuji/lab-device-service-mqtt/#_10","text":"\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u52d5\u4f5c\u306b\u306f\u3001\u4ee5\u4e0b\u306e 3 \u3064\u306e\u8981\u7d20\u3092\u8003\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb \uff08Device Profile\uff09 YAML \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u5b9a\u7fa9\u3059\u308b \u7ba1\u7406\u5bfe\u8c61\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u6301\u3064\u30ea\u30bd\u30fc\u30b9\u3084\u3001\u305d\u306e\u30ea\u30bd\u30fc\u30b9\u304c\u6301\u3064\u5024\u306e\u610f\u5473\u3001\u305d\u308c\u305e\u308c\u306e\u30ea\u30bd\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u884c\u3048\u308b\u64cd\u4f5c\u306a\u3069\u3092\u5b9a\u7fa9\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u30b3\u30f3\u30d5\u30a3\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3 \uff08Drvice Service Configuration\uff09 configuration.toml \u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u5b9a\u7fa9\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3068\u5b9f\u969b\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u7d10\u3065\u3051\u3066\u3001EdgeX Foundry \u306e\u30c7\u30d0\u30a4\u30b9\u3068\u3057\u3066\u5b9a\u7fa9\u3059\u308b\u3002\u30c7\u30d0\u30a4\u30b9\u3084\u30ea\u30bd\u30fc\u30b9\u306b\u5bfe\u3059\u308b\u81ea\u52d5\u5b9f\u884c\u51e6\u7406\u306a\u3069\u3082\u5b9a\u7fa9\u3059\u308b \u305d\u306e\u4ed6\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u52d5\u4f5c\u306b\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u305d\u306e\u3082\u306e \u4eca\u56de\u306f\u30b3\u30f3\u30c6\u30ca\u3068\u3057\u3066 MQTT \u3092\u5229\u7528\u3067\u304d\u308b\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 edgex-device-mqtt \u3092\u5229\u7528\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3068\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u30b3\u30f3\u30d5\u30a3\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u3092\u8aad\u307f\u8fbc\u3093\u3067\u52d5\u4f5c\u3059\u308b","title":"\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u69cb\u6210\u8981\u7d20"},{"location":"fuji/lab-device-service-mqtt/#_11","text":"\u4eca\u56de\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u304a\u624b\u5143\u306e device-service \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306e mqtt.test.device.profile.yml \u3067\u3059\u3002\u4ee5\u4e0b\u306e\u5185\u5bb9\u3092\u542b\u3093\u3067\u3044\u307e\u3059\u3002\u30a8\u30c7\u30a3\u30bf\u3067\u78ba\u8a8d\u3057\u3066\u3082\u3088\u3044\u3067\u3057\u3087\u3046\u3002 name : \"Test.Device.MQTT.Profile\" manufacturer : \"Dell\" model : \"MQTT-2\" labels : - \"test\" description : \"Test device profile\" deviceResources : - name : randfloat32 description : \"device random number with Base64 encoding\" properties : value : { type : \"Float32\" , size : \"4\" , readWrite : \"R\" , defaultValue : \"0.00\" , minimum : \"100.00\" , maximum : \"0.00\" , floatEncoding : \"Base64\" } units : { type : \"String\" , readWrite : \"R\" , defaultValue : \"\" } - name : randfloat64 description : \"device random number with e notion\" properties : value : { type : \"Float64\" , size : \"4\" , readWrite : \"R\" , defaultValue : \"0.00\" , minimum : \"100.00\" , maximum : \"0.00\" , floatEncoding : \"eNotation\" } units : { type : \"String\" , readWrite : \"R\" , defaultValue : \"\" } - name : ping description : \"device awake\" properties : value : { type : \"String\" , size : \"0\" , readWrite : \"R\" , defaultValue : \"oops\" } units : { type : \"String\" , readWrite : \"R\" , defaultValue : \"\" } - name : message description : \"device notification message\" properties : value : { type : \"String\" , size : \"0\" , readWrite : \"W\" , scale : \"\" , offset : \"\" , base : \"\" } units : { type : \"String\" , readWrite : \"R\" , defaultValue : \"\" } deviceCommands : - name : testrandfloat32 get : - { index : \"1\" , operation : \"get\" , deviceResource : \"randfloat32\" } - name : testrandfloat64 get : - { index : \"1\" , operation : \"get\" , deviceResource : \"randfloat64\" } - name : testping get : - { index : \"1\" , operation : \"get\" , deviceResource : \"ping\" } - name : testmessage get : - { index : \"1\" , operation : \"get\" , deviceResource : \"message\" } set : - { index : \"1\" , operation : \"set\" , deviceResource : \"message\" } coreCommands : - name : testrandfloat32 get : path : \"/api/v1/device/{deviceId}/testrandfloat32\" responses : - code : \"200\" description : \"get the random float32 value\" expectedValues : [ \"randfloat32\" ] - code : \"500\" description : \"internal server error\" expectedValues : [] - name : testrandfloat64 get : path : \"/api/v1/device/{deviceId}/testrandfloat64\" responses : - code : \"200\" description : \"get the random float64 value\" expectedValues : [ \"randfloat64\" ] - code : \"500\" description : \"internal server error\" expectedValues : [] - name : testping get : path : \"/api/v1/device/{deviceId}/testping\" responses : - code : \"200\" description : \"ping the device\" expectedValues : [ \"ping\" ] - code : \"500\" description : \"internal server error\" expectedValues : [] - name : testmessage get : path : \"/api/v1/device/{deviceId}/testmessage\" responses : - code : \"200\" description : \"get the message\" expectedValues : [ \"message\" ] - code : \"500\" description : \"internal server error\" expectedValues : [] put : path : \"/api/v1/device/{deviceId}/testmessage\" parameterNames : [ \"message\" ] responses : - code : \"204\" description : \"set the message.\" expectedValues : [] - code : \"500\" description : \"internal server error\" expectedValues : [] \u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u5192\u982d\u306b manufacturer \u3068 model \u304c\u3042\u308b\u3088\u3046\u306b\u3001\u5178\u578b\u7684\u306b\u306f\u30c7\u30d0\u30a4\u30b9\u306e\u30e2\u30c7\u30eb\u3084\u578b\u756a\u3054\u3068\u306b\u3072\u3068\u3064\u7528\u610f\u3057\u307e\u3059\u3002\u305d\u306e\u30e2\u30c7\u30eb\u3084\u578b\u756a\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u3001 \u3069\u306e\u3088\u3046\u306a\u30bb\u30f3\u30b5\u3084\u30a2\u30af\u30c1\u30e5\u30a8\u30fc\u30bf\u3092\u6301\u3061\u3001\u5024\u306e\u610f\u5473\u306f\u306a\u306b\u304b\uff08 deviceResources \u30bb\u30af\u30b7\u30e7\u30f3\uff09 \u305d\u308c\u305e\u308c\u306e\u30bb\u30f3\u30b5\u3084\u30a2\u30af\u30c1\u30e5\u30a8\u30fc\u30bf\u306b\u5bfe\u3057\u3066\u3067\u304d\u308b\u64cd\u4f5c\u306f\u306a\u306b\u304b\uff08 deviceCommands \u30bb\u30af\u30b7\u30e7\u30f3\uff09 \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u305d\u308c\u3089\u306e\u64cd\u4f5c\u3092\u3069\u306e\u3088\u3046\u306b\u516c\u958b\u3059\u308b\u304b\uff08 coreCommands \u30bb\u30af\u30b7\u30e7\u30f3\uff09 \u3092\u5b9a\u7fa9\u3057\u307e\u3059\u3002 \u4eca\u56de\u306e\u4f8b\u3067\u306f\u3001 deviceResources \u30bb\u30af\u30b7\u30e7\u30f3\u3092\u898b\u308b\u3068\u3001\u4f8b\u3048\u3070\u3001 \u3053\u306e\u30c7\u30d0\u30a4\u30b9\u306b\u30ea\u30bd\u30fc\u30b9 randfloat64 \u304c\u3042\u308a \u305d\u308c\u306f 0.00 \u304b\u3089 100.00 \u306e\u7bc4\u56f2\u306e Float64 \u578b\u306e\u5024\u3092\u6301\u3064 \u3053\u3068\u306a\u3069\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001 message \u30ea\u30bd\u30fc\u30b9\u306f String \u578b\u306e\u5024\u3092\u6301\u3061\u3001\u4ed6\u306e\u30ea\u30bd\u30fc\u30b9\u3068\u9055\u3063\u3066\u66f8\u304d\u63db\u3048\u304c\u53ef\u80fd\uff08 W \uff09\u3068\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002 deviceCommands \u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u4f8b\u3048\u3070 testrandfloat64 \u30b3\u30de\u30f3\u30c9\u3092\u5b9a\u7fa9\u3057\u3001\u3053\u306e\u30b3\u30de\u30f3\u30c9\u306e get \u30e1\u30bd\u30c3\u30c9\u3067\u306f\u3001\u5148\u306b deviecResources \u3067\u5b9a\u7fa9\u3057\u305f\u30ea\u30bd\u30fc\u30b9 randfloat64 \u304b\u3089\u306e\u5024\u306e\u8aad\u307f\u53d6\u308a\u3092\u884c\u3046\u3053\u3068\u306a\u3069\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001 testmessage \u30b3\u30de\u30f3\u30c9\u3067\u306f\u3001 message \u30ea\u30bd\u30fc\u30b9\u306b\u5bfe\u3059\u308b get \u3060\u3051\u3067\u306a\u304f\u3001 set \u30e1\u30bd\u30c3\u30c9\u3082\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002 \u8907\u6570\u30ea\u30bd\u30fc\u30b9\u306e\u540c\u6642\u64cd\u4f5c \u3053\u3053\u3067\u306f\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u3072\u3068\u3064\u306e\u30e1\u30bd\u30c3\u30c9\u306b\u8907\u6570\u306e\u30ea\u30bd\u30fc\u30b9\u3092\u7d10\u4ed8\u3051\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\u3064\u307e\u308a\u3001\u4e00\u56de\u306e get \u64cd\u4f5c\u3067\u8907\u6570\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u5024\u3092\u540c\u6642\u306b\u53d6\u5f97\u3059\u308b\u3088\u3046\u306b\u3082\u69cb\u6210\u3067\u304d\u307e\u3059\u3002 Edge Xpert \u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u306f\u3001\u305d\u306e\u3088\u3046\u306a\u4f8b\u304c\u89e3\u8aac\u3055\u308c \u3066\u3044\u307e\u3059\u3002 coreCommands \u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001\u4f8b\u3048\u3070\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u304c testrandfloat64 \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3067\u304d\u3001\u305d\u306e GET \u30ea\u30af\u30a8\u30b9\u30c8\u306f\u30d1\u30b9 /api/v1/device/{deviceId}/testrandfloat64 \u306b\u6e21\u3055\u308c\u308b\uff08\u3053\u306e\u30d1\u30b9\u306f\u3001\u5148\u306e deviceCommands \u3067\u5b9a\u7fa9\u3057\u305f testrandfloat64 \u30b3\u30de\u30f3\u30c9\u306e\u3053\u3068\u3067\u3059\uff09\u3082\u306e\u3068\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u305d\u3057\u3066\u3001\u7d50\u679c\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u30b3\u30fc\u30c9 200 \u3060\u3063\u305f\u5834\u5408\u306f\u3001\u305d\u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u306e\u30dc\u30c7\u30a3\u306b\u542b\u307e\u308c\u308b\u5024\u304c\u30ea\u30bd\u30fc\u30b9 randfloat32 \u306e\u5024\u3068\u3057\u3066\u53d6\u308a\u6271\u3048\u308b\u3082\u306e\u3067\u3042\u308b\u3053\u3068\u304c\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001 testmessage \u30b3\u30de\u30f3\u30c9\u3067\u306f\u3001\u307b\u304b\u306e\u30b3\u30de\u30f3\u30c9\u3068\u7570\u306a\u308a PUT \u30ea\u30af\u30a8\u30b9\u30c8\u306e\u52d5\u4f5c\u3082\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u307e\u3059\u3002","title":"\u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb"},{"location":"fuji/lab-device-service-mqtt/#_12","text":"\u4eca\u56de\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u30b3\u30f3\u30d5\u30a3\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u304a\u624b\u5143\u306e device-service \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306e configuration.toml \u3067\u3059\u3002 \u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306f MQTT \u30d6\u30ed\u30fc\u30ab\u306e IP \u30a2\u30c9\u30ec\u30b9\u3092\u542b\u3080 \u306e\u3067\u3001 IP \u30a2\u30c9\u30ec\u30b9\u90e8\u5206 192.168.0.239 \u3092\u3054\u81ea\u8eab\u306e\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u4fee\u6b63\u3057\u4e0a\u66f8\u304d \u3057\u3066\u304f\u3060\u3055\u3044\u3002 # configuration.toml [Writable] LogLevel = 'DEBUG' [Service] Host = \"edgex-device-mqtt\" Port = 49982 ConnectRetries = 3 Labels = [] OpenMsg = \"device mqtt started\" Timeout = 5000 EnableAsyncReadings = true AsyncBufferSize = 16 [Registry] Host = \"edgex-core-consul\" Port = 8500 CheckInterval = \"10s\" FailLimit = 3 FailWaitTime = 10 Type = \"consul\" [Logging] EnableRemote = false File = \"./device-mqtt.log\" [Clients] [Clients.Data] Name = \"edgex-core-data\" Protocol = \"http\" Host = \"edgex-core-data\" Port = 48080 Timeout = 50000 [Clients.Metadata] Name = \"edgex-core-metadata\" Protocol = \"http\" Host = \"edgex-core-metadata\" Port = 48081 Timeout = 50000 [Clients.Logging] Name = \"edgex-support-logging\" Protocol = \"http\" Host = \"edgex-support-logging\" Port = 48061 [Device] DataTransform = true InitCmd = \"\" InitCmdArgs = \"\" MaxCmdOps = 128 MaxCmdValueLen = 256 RemoveCmd = \"\" RemoveCmdArgs = \"\" ProfilesDir = \"/custom-config\" # Pre-define Devices [[DeviceList]] Name = \"MQ_DEVICE\" Profile = \"Test.Device.MQTT.Profile\" Description = \"General MQTT device\" Labels = [ \"MQTT\"] [DeviceList.Protocols] [DeviceList.Protocols.mqtt] Schema = \"tcp\" Host = \"192.168.0.239\" Port = \"1883\" ClientId = \"CommandPublisher\" User = \"\" Password = \"\" Topic = \"CommandTopic\" [[DeviceList.AutoEvents]] Frequency = \"30s\" OnChange = false Resource = \"testrandfloat64\" # Driver configs [Driver] IncomingSchema = \"tcp\" IncomingHost = \"192.168.0.239\" IncomingPort = \"1883\" IncomingUser = \"\" IncomingPassword = \"\" IncomingQos = \"0\" IncomingKeepAlive = \"3600\" IncomingClientId = \"IncomingDataSubscriber\" IncomingTopic = \"DataTopic\" ResponseSchema = \"tcp\" ResponseHost = \"192.168.0.239\" ResponsePort = \"1883\" ResponseUser = \"\" ResponsePassword = \"\" ResponseQos = \"0\" ResponseKeepAlive = \"3600\" ResponseClientId = \"CommandResponseSubscriber\" ResponseTopic = \"ResponseTopic\" \u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u3001\u524d\u534a\u90e8\u5206\u3067\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u81ea\u8eab\u306e\u52d5\u4f5c\u306b\u5fc5\u8981\u306a\u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u5f8c\u534a\u90e8\u5206\u3067\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3068\u5b9f\u969b\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u7d10\u3065\u3051\u3066\u3001EdgeX Foundry \u306e\u30c7\u30d0\u30a4\u30b9\u3068\u3057\u3066\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u308b\u90e8\u5206\u306f\u3001 [[DeviceList]] \u3067\u3059\u3002\u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb Test.Device.MQTT.Profile \u306b\u7d10\u3065\u3051\u3066\u3001\u30c7\u30d0\u30a4\u30b9 MQ_DEVICE \u306e\u5b58\u5728\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u3053\u306e\u30c7\u30d0\u30a4\u30b9\u306b\u5bfe\u3059\u308b\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u306b\u5229\u7528\u3059\u308b MQTT \u30d6\u30ed\u30fc\u30ab\u3082\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 \u3053\u3053\u306b\u542b\u307e\u308c\u308b [[DeviceList.AutoEvents]] \u306e\u90e8\u5206\u3067\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u306b\u5bfe\u3059\u308b\u30b3\u30de\u30f3\u30c9\u306e\u5b9a\u671f\u5b9f\u884c\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u4eca\u56de\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u306e\u30ea\u30bd\u30fc\u30b9 randfloat64 \u306f\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306b\u5024\u3092\u81ea\u52d5\u3067\u306f\u9001\u3089\u306a\u3044\u305f\u3081\u3001\u30c7\u30fc\u30bf\u3092\u53ce\u96c6\u3059\u308b\u306b\u306f\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u5074\u304b\u3089\u5b9a\u671f\u7684\u306b\u78ba\u8a8d\u3057\u306b\u884c\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4eca\u56de\u306f\u3001 30 \u79d2\u3054\u3068\u306b testrandfloat64 \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 \u6700\u5f8c\u306e [Driver] \u306e\u90e8\u5206\u3067\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u60c5\u5831\u3092\u53d7\u3051\u53d6\u308b\u305f\u3081\u306b\u8cfc\u8aad\u3059\u308b MQTT \u30d6\u30ed\u30fc\u30ab\u3084\u30c8\u30d4\u30c3\u30af\u540d\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 \u3042\u3068\u304b\u3089\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u8ffd\u52a0 configuration.toml \u306f\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e \u8d77\u52d5\u6642\u306e\u69cb\u6210 \u3092\u6307\u5b9a\u3059\u308b\u3082\u306e\u3067\u3059\u3002\u8d77\u52d5\u5f8c\u306b\u30c7\u30d0\u30a4\u30b9\u3092\u8ffd\u52a0\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3067\u306f\u306a\u304f API \u3092\u5229\u7528\u3057\u3066\u8ffd\u52a0 \u3067\u304d\u307e\u3059\u3002 \u4ed6\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u5834\u5408 \u4eca\u56de\u306e\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u3042\u304f\u307e\u3067 MQTT \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u5c02\u7528 \u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306a\u306e\u3067\u3001\u5229\u7528\u3057\u305f\u3044\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u9055\u3048\u3070\u3001\u5f53\u7136\u3053\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u66f8\u304f\u3079\u304d\u5185\u5bb9\u3082\u5909\u308f\u308b\u3053\u3068\u306b\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002","title":"\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u30b3\u30f3\u30d5\u30a3\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3"},{"location":"fuji/lab-device-service-mqtt/#edgex-foundry","text":"\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u3067\u304d\u305f\u3089\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u542b\u3080 EdgeX Foundry \u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 \u304a\u624b\u5143\u306b\u3042\u308b\u4eca\u56de\u7528\u306e docker-compose.yml \u306f\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u8d77\u52d5\u3059\u308b\u305f\u3081\u306e\u8a18\u8ff0\u3068\u3057\u3066\u3001\u4ee5\u4e0b\u3092\u8ffd\u52a0\u3057\u3066\u3044\u307e\u3059\u3002\u30a8\u30c7\u30a3\u30bf\u3067\u78ba\u8a8d\u3057\u3066\u3082\u3088\u3044\u3067\u3057\u3087\u3046\u3002 amd64 device-mqtt : image : edgexfoundry/docker-device-mqtt-go:1.1.1 ports : - \"49982:49982\" container_name : edgex-device-mqtt hostname : edgex-device-mqtt networks : - edgex-network volumes : - db-data:/data/db - log-data:/edgex/logs - consul-config:/consul/config - consul-data:/consul/data - ./device-service:/custom-config depends_on : - data - command entrypoint : - /device-mqtt - --registry=consul://edgex-core-consul:8500 - --confdir=/custom-config arm64 device-mqtt : image : edgexfoundry/docker-device-mqtt-go-arm64:1.1.1 ports : - \"49982:49982\" container_name : edgex-device-mqtt hostname : edgex-device-mqtt networks : - edgex-network volumes : - db-data:/data/db - log-data:/edgex/logs - consul-config:/consul/config - consul-data:/consul/data - ./device-service:/custom-config depends_on : - data - command entrypoint : - /device-mqtt - --registry=consul://edgex-core-consul:8500 - --confdir=/custom-config \u3053\u308c\u306b\u3088\u308a\u3001 edgexfoundry/docker-device-mqtt-go \u30a4\u30e1\u30fc\u30b8\u3092\u5229\u7528\u3057\u3066\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u8d77\u52d5\u3057\u307e\u3059\u3002 \u307e\u305f\u3001\u4eca\u56de\u7528\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u542b\u307e\u308c\u308b\u304a\u624b\u5143\u306e device-service \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u3001\u30b3\u30f3\u30c6\u30ca\u5185\u306e /custom-config \u306b\u30de\u30a6\u30f3\u30c8\u3057\u3001\u8d77\u52d5\u6642\u306e\u5f15\u6570\u3067 --confdir=/custom-config \u3092\u4e0e\u3048\u3066\u3044\u307e\u3059\u3002\u3053\u308c\u3067\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u8d77\u52d5\u6642\u306b\u304a\u624b\u5143\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7fa4\u304c\u8aad\u307f\u8fbc\u307e\u308c\u308b\u3088\u3046\u306b\u306a\u308a\u3001EdgeX Foundry \u306b\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3068\u30c7\u30d0\u30a4\u30b9\u304c\u767b\u9332\u3055\u308c\u307e\u3059\u3002 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u30de\u30a6\u30f3\u30c8 \u4eca\u56de\u306e\u624b\u6cd5\u306f\u3001\u4ed6\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u3082\u5fdc\u7528\u3067\u304d\u307e\u3059\u3002\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u542b\u3093\u3060\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u30d3\u30eb\u30c9\u3057\u3066\u4f7f\u3046\u3053\u3068\u3082\u624b\u3067\u3059\u304c\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u4fee\u6b63\u304c\u76f8\u5f53\u306a\u624b\u9593\u306b\u306a\u3063\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u65e5\u5e38\u7684\u306b\u66f8\u304d\u63db\u3048\u3046\u308b\u30d5\u30a1\u30a4\u30eb\u306f\u5f8c\u304b\u3089\u30de\u30a6\u30f3\u30c8\u3057\u3066\u5229\u7528\u3055\u305b\u308b\u5de5\u592b\u304c\u6709\u52b9\u3067\u3059\u3002 \u5b9f\u969b\u306b\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3057\u3066 EdgeX Foundry \u3092\u8d77\u52d5\u3055\u305b\u3001 State \u304c Up \u306b\u306a\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ docker-compose up -d $ docker-compose ps \u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u306e\u8d77\u52d5\u72b6\u614b EdgeX Foundry \u306f\u3001\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u7fa4\u306e\u72b6\u614b\u7ba1\u7406\u306b HashiCorp \u306e Consul \u3092\u5229\u7528\u3057\u3066\u304a\u308a\u3001\u5404\u30b5\u30fc\u30d3\u30b9\u306e\u8d77\u52d5\u72b6\u614b\u3084\u767b\u9332\u72b6\u614b\u306f\u3001\u3053\u306e Consul \u3092\u901a\u3058\u3066\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 Consul \u306e GUI \u306b\u306f\u3001 http://<IP \u30a2\u30c9\u30ec\u30b9>:8500/ \u3067\u30a2\u30af\u30bb\u30b9\u3067\u304d\u3001\u30b5\u30fc\u30d3\u30b9\u306e\u72b6\u614b\u306e\u307b\u304b\u3001\u69cb\u6210\u60c5\u5831\uff08Key-Value \u30b9\u30c8\u30a2\u306e\u4e2d\u8eab\uff09\u3082\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002","title":"\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u542b\u3093\u3060 EdgeX Foundry \u306e\u8d77\u52d5"},{"location":"fuji/lab-device-service-mqtt/#_13","text":"\u307e\u305a\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3084\u30c7\u30d0\u30a4\u30b9\u304c\u6b63\u5e38\u306b EdgeX Foundry \u306b\u8a8d\u8b58\u3055\u308c\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u3001\u305d\u306e\u5f8c\u3001\u5024\u306e\u53ce\u96c6\u3084\u30b3\u30de\u30f3\u30c9\u64cd\u4f5c\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002","title":"\u52d5\u4f5c\u78ba\u8a8d"},{"location":"fuji/lab-device-service-mqtt/#_14","text":"Web GUI \u3092\u5229\u7528\u3057\u3066\u3001\u767b\u9332\u72b6\u614b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 Docker \u30db\u30b9\u30c8\u306e IP \u30a2\u30c9\u30ec\u30b9\u3092\u78ba\u8a8d\u3057\u3066\u3001 http://<IP \u30a2\u30c9\u30ec\u30b9>:4000/ \u306b\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30e6\u30fc\u30b6 admin \uff08\u30d1\u30b9\u30ef\u30fc\u30c9\u3082 admin \uff09\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 [ Gateway ] \u306b Docker \u30db\u30b9\u30c8\u3092\u767b\u9332\u3057\u3066\u9078\u629e\u72b6\u614b\u306b\u3057\u3066\u304b\u3089\u3001[ Device Service ] \u306b\u9077\u79fb\u3057\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 edgex-device-mqtt \u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 edgex-device-mqtt \u306e\u884c\u306e [ Devices ] \u30a2\u30a4\u30b3\u30f3\u3092\u5c55\u958b\u3057\u3066\u3001\u30c7\u30d0\u30a4\u30b9 MQ_DEVICE \u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9 MQ_DEVICE \u306e\u884c\u306e [ Commands ] \u30a2\u30a4\u30b3\u30f3\u3092\u5c55\u958b\u3057\u3066\u3001 testrandfloat32 \u306a\u3069\u30014 \u3064\u306e\u30b3\u30de\u30f3\u30c9\u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 API \u3067\u3082\u3001\u540c\u69d8\u306e\u78ba\u8a8d\u3092\u884c\u3048\u307e\u3059\u3002API \u3067\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3084\u30c7\u30d0\u30a4\u30b9\u306e\u767b\u9332\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u5834\u5408\u306f\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306f metadata \u30b5\u30fc\u30d3\u30b9\uff08 48081 \u756a\u30dd\u30fc\u30c8\uff09\u3067\u3059\u3002 $ curl -s http://localhost: 48081 /api/v 1 /deviceservice | jq ... { \"created\" : 1588154133422 , \"modified\" : 1588154133422 , \"origin\" : 1588154133416 , \"id\" : \"e2699690-fd1f-4d95-b3ad-0053c7c03f26\" , \"name\" : \"edgex-device-mqtt\" , \"operatingState\" : \"ENABLED\" , \"addressable\" : { \"created\" : 1588154133414 , \"modified\" : 1588154133414 , \"origin\" : 1588154133411 , \"id\" : \"75d0e02f-1ab7-43f7-b1fa-d4a10858a177\" , \"name\" : \"edgex-device-mqtt\" , \"protocol\" : \"HTTP\" , \"method\" : \"POST\" , \"address\" : \"edgex-device-mqtt\" , \"port\" : 49982 , \"path\" : \"/api/v1/callback\" , \"baseURL\" : \"http://edgex-device-mqtt:49982\" , \"url\" : \"http://edgex-device-mqtt:49982/api/v1/callback\" }, \"adminState\" : \"UNLOCKED\" } ... $ curl -s http://localhost: 48081 /api/v 1 /device | jq ... { \"created\" : 1588154134502 , \"modified\" : 1588154134502 , \"origin\" : 1588154134456 , \"description\" : \"General MQTT device\" , \"id\" : \"1b715850-b4ee-420e-b4cb-bb65577fa2a4\" , \"name\" : \"MQ_DEVICE\" , \"adminState\" : \"UNLOCKED\" , \"operatingState\" : \"ENABLED\" , \"protocols\" : { \"mqtt\" : { \"ClientId\" : \"CommandPublisher\" , \"Host\" : \"192.168.0.239\" , \"Password\" : \"\" , \"Port\" : \"1883\" , \"Schema\" : \"tcp\" , \"Topic\" : \"CommandTopic\" , \"User\" : \"\" } ...","title":"\u767b\u9332\u72b6\u614b\u306e\u78ba\u8a8d"},{"location":"fuji/lab-device-service-mqtt/#_15","text":"\u4eca\u56de\u306e\u30c7\u30d0\u30a4\u30b9\u306f\u3001\u30bb\u30f3\u30b5 randfloat32 \u306e\u5024\u3092 15 \u79d2\u3054\u3068\u306b\u81ea\u52d5\u7684\u306b MQTT \u30c8\u30d4\u30c3\u30af\u306b\u914d\u4fe1\u3057\u3066\u3044\u307e\u3057\u305f\u3002\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f\u3053\u308c\u3092\u53d7\u3051\u53d6\u308c\u308b\u3088\u3046\u306b\u69cb\u6210\u3057\u305f\u306e\u3067\u3001EdgeX Foundry \u306b\u3082\u53d6\u308a\u8fbc\u307e\u308c\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002 data \u30b5\u30fc\u30d3\u30b9\u306e API \u3092\u5229\u7528\u3057\u3066\u3001\u3053\u308c\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ curl -s http://localhost: 48080 /api/v 1 /reading/name/randfloat 32 / 3 | jq [ { \"id\" : \"23fdac76-0870-4b9d-b653-561d8a7c0423\" , \"created\" : 1579707885029 , \"origin\" : 1579707885005379300 , \"modified\" : 1579707885029 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"randfloat32\" , \"value\" : \"QdpmZg==\" }, { \"id\" : \"5c086b1d-6b38-48c0-9aef-9b800f9c72ab\" , \"created\" : 1579707870018 , \"origin\" : 1579707870004742000 , \"modified\" : 1579707870018 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"randfloat32\" , \"value\" : \"QeGZmg==\" }, { \"id\" : \"de67c865-0406-408d-b238-d33de1fe1032\" , \"created\" : 1579707855022 , \"origin\" : 1579707855011006200 , \"modified\" : 1579707855022 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"randfloat32\" , \"value\" : \"Qd2Zmg==\" } ] \u6642\u523b\u306f\u30a8\u30dd\u30c3\u30af\u30df\u30ea\u79d2\uff08 origin \u306f\u30a8\u30dd\u30c3\u30af\u30ca\u30ce\u79d2\uff09\u306a\u306e\u3067\u3001 date \u30b3\u30de\u30f3\u30c9\u3067\u5909\u63db\u3059\u308b\u3068 15 \u79d2\u304a\u304d\u3067\u3042\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 $ date -d \"@1579707885.029\" Wed 22 Jan 2020 03 :44:45 PM UTC $ date -d \"@1579707870.018\" Wed 22 Jan 2020 03 :44:30 PM UTC $ date -d \"@1579707855.022\" Wed 22 Jan 2020 03 :44:15 PM UTC","title":"\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u914d\u4fe1\u3055\u308c\u305f\u5024\u306e\u84c4\u7a4d\u306e\u78ba\u8a8d"},{"location":"fuji/lab-device-service-mqtt/#_16","text":"\u30bb\u30f3\u30b5 randfloat64 \u306e\u5024\u306f\u3001\u81ea\u52d5\u3067\u306f\u914d\u4fe1\u3055\u308c\u306a\u3044\u305f\u3081\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u8a2d\u5b9a\uff08 configuration.toml \uff09\u306b [[DeviceList.AutoEvents]] \u3092\u5b9a\u7fa9\u3057\u3066\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u5074\u304b\u3089 30 \u79d2\u3054\u3068\u306b\u81ea\u52d5\u3067\u53ce\u96c6\u3055\u305b\u3066\u3044\u307e\u3057\u305f\u3002 \u3053\u308c\u3082\u30c7\u30fc\u30bf\u306e\u84c4\u7a4d\u3092\u78ba\u8a8d\u3067\u304d\u308b\u306f\u305a\u3067\u3059\u3002 $ curl -s http://localhost: 48080 /api/v 1 /reading/name/randfloat 64 / 3 | jq [ { \"id\" : \"c99bd0bc-14f7-46b6-a940-ed26f7738bdb\" , \"created\" : 1579709342807 , \"origin\" : 1579709342806935600 , \"modified\" : 1579709342807 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"randfloat64\" , \"value\" : \"8.047360e+00\" }, { \"id\" : \"68c36823-ca73-4033-8f40-a2d82088f644\" , \"created\" : 1579709312695 , \"origin\" : 1579709312695223100 , \"modified\" : 1579709312695 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"randfloat64\" , \"value\" : \"2.020540e+00\" }, { \"id\" : \"b9fceb6a-6ee3-4f20-aed5-2dab8c0db9c4\" , \"created\" : 1579709282612 , \"origin\" : 1579709282611878800 , \"modified\" : 1579709282612 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"randfloat64\" , \"value\" : \"4.781700e+00\" } ] \u3053\u308c\u3082\u5909\u63db\u3059\u308b\u3068 30 \u79d2\u304a\u304d\u3067\u3042\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 $ date -d \"@1579709342.807\" Wed Jan 22 16 :09:02 UTC 2020 $ date -d \"@1579709312.695\" Wed Jan 22 16 :08:32 UTC 2020 $ date -d \"@1579709282.612\" Wed Jan 22 16 :08:02 UTC 2020 MQTT \u30d6\u30ed\u30fc\u30ab\u3092\u8cfc\u8aad\u3057\u3066\u3044\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u3067\u306f\u3001 DataTopic \u3078\u306e\u81ea\u52d5\u914d\u4fe1\u306b\u6df7\u3056\u3063\u3066\u300130 \u79d2\u3054\u3068\u306b CommandTopic \u306b\u30b3\u30de\u30f3\u30c9\u304c\u5c4a\u304d\u3001 ResponseTopic \u306b\u5fdc\u7b54\u304c\u8fd4\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u89b3\u5bdf\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u3002 $ docker run --init --rm --name = client -it kurokobo/mqtt-client sub -h 192 .168.0.239 -t \"#\" -v ... CommandTopic { \"cmd\" : \"randfloat64\" , \"method\" : \"get\" , \"uuid\" : \"5ea957f9b8dd790001fce499\" } ResponseTopic { \"cmd\" : \"randfloat64\" , \"method\" : \"get\" , \"uuid\" : \"5ea957f9b8dd790001fce499\" , \"randfloat64\" : \"4.17029\" } ... CommandTopic { \"cmd\" : \"randfloat64\" , \"method\" : \"get\" , \"uuid\" : \"5ea95817b8dd790001fce49a\" } ResponseTopic { \"cmd\" : \"randfloat64\" , \"method\" : \"get\" , \"uuid\" : \"5ea95817b8dd790001fce49a\" , \"randfloat64\" : \"7.36756\" } ...","title":"\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u81ea\u52d5\u5b9f\u884c\u30a4\u30d9\u30f3\u30c8\u306e\u78ba\u8a8d"},{"location":"fuji/lab-device-service-mqtt/#_17","text":"\u3053\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u30ea\u30bd\u30fc\u30b9 message \u306e\u5024\u306f\u3001EdgeX Foundry \u304b\u3089\u5236\u5fa1\u3067\u304d\u308b\u3088\u3046\u306b\u3001\u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3067\u3082 PUT \u30ea\u30af\u30a8\u30b9\u30c8\u306e\u6319\u52d5\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3057\u305f\u3002\u3053\u3053\u3067\u306f\u3001\u3053\u306e\u64cd\u4f5c\u304c\u3067\u304d\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u3067\u5b9a\u7fa9\u3057\u305f\u5404\u30b3\u30de\u30f3\u30c9\u306f\u3001 command \u30b5\u30fc\u30d3\u30b9\u7d4c\u7531\u3067\u5229\u7528\u3067\u304d\u307e\u3059\u3002\u5b9f\u884c\u7528\u306e URL \u306f\u3001 command \u30b5\u30fc\u30d3\u30b9\u306e API \u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 command \u30b5\u30fc\u30d3\u30b9\uff08 48082 \u756a\u30dd\u30fc\u30c8\uff09\u306b\u30c7\u30d0\u30a4\u30b9\u306e\u60c5\u5831\u3092\u554f\u3044\u5408\u308f\u305b\u308b\u3068\u3001\u30ec\u30b9\u30dd\u30f3\u30b9\u306b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u305f\u3081\u306e URL \u304c\u542b\u307e\u308c\u307e\u3059\u3002\u7d50\u679c\u304b\u3089\u3001 testmessage \u30b3\u30de\u30f3\u30c9\u306e\u60c5\u5831\u3092\u7279\u5b9a\u3057\u3001 get \u3068 put \u306e url \u3092\u63a2\u3057\u307e\u3059\u3002 $ curl -s http://localhost: 48082 /api/v 1 /device/name/MQ_DEVICE | jq ... \"id\" : \"77fccbb8-f33b-42d8-bf21-6d55cdde2068\" , \"name\" : \"MQ_DEVICE\" , ... \"commands\" : [ ... \"name\" : \"testmessage\" , ... \"get\" : { \"path\" : \"/api/v1/device/{deviceId}/testmessage\" , ... \"url\" : \"http://edgex-core-command:48082/api/v1/device/77fccbb8-f33b-42d8-bf21-6d55cdde2068/command/4daa4148-7c0e-4cfd-81cc-b2b740bb4de4\" }, \"put\" : { \"path\" : \"/api/v1/device/{deviceId}/testmessage\" , ... \"url\" : \"http://edgex-core-command:48082/api/v1/device/77fccbb8-f33b-42d8-bf21-6d55cdde2068/command/4daa4148-7c0e-4cfd-81cc-b2b740bb4de4\" , ... EdgeX Foundry \u304c\u30c7\u30d0\u30a4\u30b9\u306b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u304d\u306f\u3001\u5185\u90e8\u3067\u306f\u3053\u306e URL \u306b\u5bfe\u3057\u3066 GET \u3084 PUT \u304c\u884c\u308f\u308c\u307e\u3059\u3002URL \u306e\u3068\u304a\u308a\u3001 command \u30b5\u30fc\u30d3\u30b9\u304c\u30db\u30b9\u30c8\u3067\u3059\u3002 command \u30b5\u30fc\u30d3\u30b9\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u53d6\u308b\u3068\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6e21\u3057\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f\u305d\u308c\u3092\u53d7\u3051\u53d6\u3063\u3066\u4e8b\u524d\u306e\u8a2d\u5b9a\u306b\u5f93\u3063\u3066\u30c7\u30d0\u30a4\u30b9\u306b\u4f5c\u7528\u3057\u3001\u5fdc\u7b54\u304c\u8fd4\u3063\u3066\u304f\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u5b9f\u969b\u306b\u3001\u78ba\u8a8d\u3067\u304d\u305f URL \u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3057\u307e\u3059\u3002\u5916\u90e8\u304b\u3089\u3053\u306e URL \u3092\u76f4\u63a5\u53e9\u304f\u3068\u304d\u306f\u3001 \u30db\u30b9\u30c8\u540d\u90e8\u5206\u3092\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u66f8\u304d\u63db\u3048 \u305f\u3046\u3048\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002 \u307e\u305a\u306f\u3001\u73fe\u5728\u5024\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 get \u30b3\u30de\u30f3\u30c9\u306e URL \u306e\u30db\u30b9\u30c8\u540d\u3092 localhost \u306b\u4fee\u6b63\u3057\u3066\u3001 GET \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9001\u308a\u307e\u3059\u3002 $ curl -s http://localhost:48082/api/v1/device/77fccbb8-f33b-42d8-bf21-6d55cdde2068/command/4daa4148-7c0e-4cfd-81cc-b2b740bb4de4 | jq { \"device\" : \"MQ_DEVICE\" , \"origin\" : 1579710432121478400 , \"readings\" : [ { \"origin\" : 1579710432109675800 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"message\" , \"value\" : \"modified-message\" } ] , \"EncodedEvent\" : null } \u307e\u3060\u4f55\u3082\u5909\u66f4\u3057\u3066\u3044\u306a\u3044\u306e\u3067\u3001\u521d\u671f\u5024\uff08 mqtt-script.js \u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\uff09\u304b\u3001\u307e\u305f\u306f\u52d5\u4f5c\u78ba\u8a8d\u3067\u5909\u66f4\u3057\u305f\u3042\u3068\u306e\u6587\u5b57\u5217\uff08\u4e0a\u8a18\u3067\u306f modified-message \uff09\u304c\u8fd4\u3063\u3066\u304d\u307e\u3057\u305f\u3002 \u3053\u3053\u3067\u3001\u5909\u66f4\u3059\u308b\u305f\u3081\u306e PUT \u3092\u6295\u3052\u307e\u3059\u3002\u5148\u307b\u3069\u78ba\u8a8d\u3057\u305f put \u306e URL\uff08\u5b9f\u306f get \u3068\u540c\u3058\u3067\u3059\u304c\uff09\u306e\u30db\u30b9\u30c8\u540d\u3092 localhost \u306b\u4fee\u6b63\u3057\u3066\u3001\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30dc\u30c7\u30a3\u306b JSON \u3092\u542b\u3081\u3066 PUT \u3057\u307e\u3059\u3002 $ curl -s -X PUT -d '{\"message\":\"control-from-edgex\"}' http://localhost:48082/api/v1/device/77fccbb8-f33b-42d8-bf21-6d55cdde2068/command/4daa4148-7c0e-4cfd-81cc-b2b740bb4de4 \u30a8\u30e9\u30fc\u304c\u306a\u3051\u308c\u3070\u3001\u518d\u5ea6 GET \u3059\u308b\u3068\u3001\u5024\u304c\u5909\u308f\u3063\u3066\u3044\u308b\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 $ curl -s http://localhost:48082/api/v1/device/77fccbb8-f33b-42d8-bf21-6d55cdde2068/command/4daa4148-7c0e-4cfd-81cc-b2b740bb4de4 | jq { \"device\" : \"MQ_DEVICE\" , \"origin\" : 1579710963293832000 , \"readings\" : [ { \"origin\" : 1579710963283338200 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"message\" , \"value\" : \"control-from-edgex\" } ] , \"EncodedEvent\" : null } \u306a\u304a\u3001\u3053\u306e\u3088\u3046\u306a GET \u3084 PUT \u306b\u76f8\u5f53\u3059\u308b\u64cd\u4f5c\u306f\u3001GUI \u304b\u3089\u3082\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002 GUI \u304b\u3089\u306e\u64cd\u4f5c GUI \u304b\u3089\u306e get \u3084 set \u64cd\u4f5c\u306f\u3001\u305f\u307e\u306b\u3046\u307e\u304f\u52d5\u304b\u306a\u3044\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u307b\u3068\u3093\u3069\u306e\u5834\u5408\u3001\u30d6\u30e9\u30a6\u30b6\u3092\u30ea\u30ed\u30fc\u30c9\u3057\u3066\u518d\u8a66\u884c\u3059\u308b\u3068\u6210\u529f\u3057\u307e\u3059\u3002","title":"\u30c7\u30d0\u30a4\u30b9\u3078\u306e\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u306e\u78ba\u8a8d"},{"location":"fuji/lab-device-service-mqtt/#_18","text":"\u5f8c\u7d9a\u306e\u30e9\u30dc\u3067\u306f\u3001\u73fe\u5728\u5229\u7528\u3057\u3066\u3044\u308b\u3082\u306e\u3068\u306f\u5225\u306e docker-compose.yml \u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3057\u307e\u3059\u306e\u3067\u3001\u4eca\u56de\u306e\u3053\u306e\u74b0\u5883\u306f\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002 \u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u4f5c\u6210\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u3068\u3001\u81ea\u52d5\u3067\u4f5c\u6210\u3055\u308c\u305f\u6c38\u7d9a\u30dc\u30ea\u30e5\u30fc\u30e0\u9818\u57df\u3092\u524a\u9664\u3057\u307e\u3059\u3002 $ docker-compose down --volumes Stopping edgex-ui-go ... done ... Removing image portainer/portainer \u307e\u305f\u3001\u52d5\u4f5c\u3055\u305b\u3066\u3044\u308b MQTT \u30d6\u30ed\u30fc\u30ab\u3068\u30c7\u30d0\u30a4\u30b9\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3082\u505c\u6b62\u3055\u305b\u307e\u3059\u3002MQTT \u30c8\u30d4\u30c3\u30af\u3092\u8cfc\u8aad\u3057\u3066\u3044\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u304c\u6b8b\u3063\u3066\u3044\u308c\u3070\u3001 Ctrl + C \u3067\u7d42\u4e86\u3057\u307e\u3059\u3002 $ docker stop broker $ docker rm -f mqtt-scripts \u4e0d\u8981\u306a\u30b3\u30f3\u30c6\u30ca\u304c\u6b8b\u3063\u3066\u3044\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES","title":"\u74b0\u5883\u306e\u505c\u6b62"},{"location":"fuji/lab-device-service-mqtt/#_19","text":"\u3053\u306e\u30e9\u30dc\u3067\u306f\u3001\u4ee5\u4e0b\u3092\u53d6\u308a\u6271\u3044\u307e\u3057\u305f\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u6982\u8981\u3068\u3001\u305d\u306e\u69cb\u6210\u8981\u7d20\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u7528\u3044\u3066\u3001MQTT \u3092\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u3092 EdgeX Foundry \u306e\u5236\u5fa1\u4e0b\u306b\u7f6e\u304f\u624b\u6cd5\u3092\u5b9f\u8df5\u3057\u307e\u3057\u305f \u5b9f\u969b\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3067\u306f\u3001\u672c\u5f53\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u672c\u5f53\u306e\u4ed5\u69d8\u306b\u5408\u308f\u305b\u3066\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3084\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u7fa4\u3092\u69cb\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u5834\u5408\u306b\u3088\u3063\u3066\u306f\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u305d\u308c\u81ea\u4f53\u306e\u5b9f\u88c5\u3092\u542b\u3081\u3066\u958b\u767a\u304c\u5fc5\u8981\u306b\u306a\u308b\u53ef\u80fd\u6027\u3082\u3042\u308a\u307e\u3059\u304c\u3001SDK \u3092\u4f7f\u3063\u3066\u30bc\u30ed\u304b\u3089\u958b\u767a\u3059\u308b\u307b\u304b\u3001\u65e2\u5b58\u306e\u5404\u30d7\u30ed\u30c8\u30b3\u30eb\u7528\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u5b9f\u88c5\u3082\u53c2\u8003\u306b\u3067\u304d\u308b\u3067\u3057\u3087\u3046\u3002 \u306a\u304a\u3001\u3053\u306e\u30e9\u30dc\u3067\u306f MQTT \u7528\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u53d6\u308a\u4e0a\u3052\u307e\u3057\u305f\u304c\u3001\u516c\u5f0f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u306f \u4ed6\u306e\u30d7\u30ed\u30c8\u30b3\u30eb\u7528\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb \u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u307e\u305f\u3001\u5404\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e Git \u30ea\u30dd\u30b8\u30c8\u30ea\uff08 MQTT \u3001 BACnet \u3001 Modbus \u3001 REST API \u306a\u3069\uff09\u306b\u542b\u307e\u308c\u308b README.md \u3082\u53c2\u8003\u306b\u3067\u304d\u307e\u3059\u3002","title":"\u307e\u3068\u3081"},{"location":"fuji/lab-getting-started/","text":"Lab 2 - \u5c0e\u5165\u3068\u30c7\u30fc\u30bf\u306e\u78ba\u8a8d \u00b6 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001EdgeX Foundry \u3092\u30b7\u30f3\u30d7\u30eb\u306a\u69cb\u6210\u3067\u52d5\u4f5c\u3055\u305b\u3001\u30c6\u30b9\u30c8\u7528\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u30c7\u30fc\u30bf\u304c\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u84c4\u7a4d\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u3053\u306e\u30e9\u30dc\u306e\u30b4\u30fc\u30eb\u3068\u69cb\u6210 \u00b6 \u3053\u306e\u30e9\u30dc\u306e\u76ee\u7684\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002 Docker Compose \u3092\u5229\u7528\u3057\u305f EdgeX Foundry \u306e\u8d77\u52d5\u65b9\u6cd5\u3068\u505c\u6b62\u65b9\u6cd5\u3092\u7406\u89e3\u3059\u308b EdgeX Foundry \u306e\u5927\u307e\u304b\u306a\u69cb\u6210\u3068\u3001\u30c7\u30d0\u30a4\u30b9\u3092\u5236\u5fa1\u3059\u308b\u8003\u3048\u65b9\u306e\u6982\u8981\u3092\u7406\u89e3\u3059\u308b GUI \u3068 API \u306e\u64cd\u4f5c\u65b9\u6cd5\u3092\u7406\u89e3\u3059\u308b \u30c7\u30fc\u30bf\u306e\u78ba\u8a8d\u65b9\u6cd5\u3092\u7406\u89e3\u3059\u308b \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001Docker Compose \u3092\u5229\u7528\u3057\u3066\u3001Ubuntu \u4e0a\u306e Docker \u30b3\u30f3\u30c6\u30ca\u7fa4\u3068\u3057\u3066 EdgeX Foundry \u3092\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002 \u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306e\u7528\u610f \u00b6 \u30e9\u30dc\u306b\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306f\u3001GitHub \u4e0a\u306b\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u3002Ubuntu \u4e0a\u3067\u30af\u30ed\u30fc\u30f3\u3057\u3001CPU \u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u5fdc\u3058\u3066\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u79fb\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002 amd64 git clone https://github.com/kurokobo/edgex-hol-fuji.git cd edgex-hol-fuji cd amd64 arm64 git clone https://github.com/kurokobo/edgex-hol-fuji.git cd edgex-hol-fuji cd arm64 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001 lab-getting-started \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u8eab\u3092\u5229\u7528\u3057\u307e\u3059\u3002 cd lab-getting-started ls -l \u30d5\u30a1\u30a4\u30eb docker-compose.yml \u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002 CPU \u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 Ubuntu \u3092 Raspberry Pi \u3067\u52d5\u4f5c\u3055\u305b\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306f arm64 \u306b\u76f8\u5f53\u3057\u307e\u3059\u3002\u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u306f\u3001\u901a\u5e38\u306f amd64 \u3067\u3059\u3002 EdgeX Foundry \u306e\u8d77\u52d5 \u00b6 \u624b\u8efd\u306b\u8d77\u52d5\u3067\u304d\u308b\u3088\u3046\u3001Docker Compose \u7528\u306e YAML \u30d5\u30a1\u30a4\u30eb\u304c\u3001 EdgeX Foundry \u306e developer-scripts \u30ea\u30dd\u30b8\u30c8\u30ea \u3067\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3053\u306e\u30e9\u30dc\u3067\u5229\u7528\u3059\u308b docker-compose.yml \u306f\u3001\u3053\u306e\u3046\u3061 docker-compose-fuji-no-secty.yml \u3092\u30ea\u30cd\u30fc\u30e0\u3057\u305f\u3082\u306e\u3067\u3059\u3002\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u3044\u3066\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u306e\u3082\u3088\u3044\u3067\u3057\u3087\u3046\u3002 no-secty \u3068\u306f EdgeX Foundry \u306b\u306f\u3001\u6a5f\u5fae\u60c5\u5831\u3092\u6697\u53f7\u5316\u3057\u3066\u4fdd\u6301\u3059\u308b\u305f\u3081\u306e\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30b9\u30c8\u30a2\u3084\u3001API \u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u3068\u3057\u3066\u6a5f\u80fd\u3059\u308b\u30d7\u30ed\u30ad\u30b7\u306a\u3069\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u95a2\u4fc2\u306e\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u304c\u5b58\u5728\u3057\u3066\u3044\u307e\u3059\u3002\u672c\u756a\u74b0\u5883\u3067\u306f\u91cd\u8981\u306a\u6a5f\u80fd\u3067\u3059\u304c\u3001\u69cb\u6210\u304c\u8907\u96d1\u306b\u306a\u308b\u305f\u3081\u3001\u4eca\u56de\u306f\u3053\u308c\u3089\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u95a2\u4fc2\u306e\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u3092\u542b\u307e\u306a\u3044\u72b6\u614b\u3067\u8d77\u52d5\u3067\u304d\u308b YAML \u30d5\u30a1\u30a4\u30eb *-no-secty.yml \u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002 \u307e\u305a\u306f\u3001\u5229\u7528\u3055\u308c\u3066\u3044\u308b\u30a4\u30e1\u30fc\u30b8\u3092 Docker Hub \u304b\u3089\u30d7\u30eb\u3057\u307e\u3059\u3002 $ docker-compose pull Pulling volume ... done Pulling consul ... done Pulling config-seed ... done Pulling mongo ... done Pulling logging ... done Pulling system ... done Pulling notifications ... done Pulling metadata ... done Pulling data ... done Pulling command ... done Pulling scheduler ... done Pulling app-service-rules ... done Pulling rulesengine ... done Pulling device-virtual ... done Pulling ui ... done Pulling portainer ... done \u30d7\u30eb\u3067\u304d\u305f\u3089\u3001\u30c7\u30bf\u30c3\u30c1\u30e2\u30fc\u30c9\u3067\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002 $ docker-compose up -d Creating network \"lab-getting-started_edgex-network\" with driver \"bridge\" Creating network \"lab-getting-started_default\" with the default driver Creating volume \"lab-getting-started_db-data\" with default driver Creating volume \"lab-getting-started_log-data\" with default driver Creating volume \"lab-getting-started_consul-config\" with default driver Creating volume \"lab-getting-started_consul-data\" with default driver Creating volume \"lab-getting-started_portainer_data\" with default driver Creating edgex-files ... done Creating edgex-core-consul ... done Creating lab-getting-started_portainer_1 ... done Creating edgex-mongo ... done Creating edgex-config-seed ... done Creating edgex-support-logging ... done Creating edgex-core-data ... done Creating edgex-support-notifications ... done Creating edgex-sys-mgmt-agent ... done Creating edgex-core-metadata ... done Creating edgex-core-command ... done Creating edgex-support-scheduler ... done Creating edgex-app-service-configurable-rules ... done Creating edgex-device-virtual ... done Creating edgex-ui-go ... done Creating edgex-support-rulesengine ... done \u3059\u3079\u3066\u304c done \u3067\u5b8c\u4e86\u3057\u305f\u3089\u3001\u8d77\u52d5\u72b6\u614b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ docker-compose ps Name Command State Ports ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- edgex-app-service-configurable-rules /app-service-configurable ... Up 48095 /tcp, 0 .0.0.0:48100->48100/tcp edgex-config-seed /edgex/cmd/config-seed/con ... Exit 0 edgex-core-command /core-command --registry - ... Up 0 .0.0.0:48082->48082/tcp edgex-core-consul docker-entrypoint.sh agent ... Up 8300 /tcp, 8301 /tcp, 8301 /udp, 8302 /tcp, 8302 /udp, 0 .0.0.0:8400->8400/tcp, 0 .0.0.0:8500->8500/tcp, 8600 /tcp, 8600 /udp edgex-core-data /core-data --registry --pr ... Up 0 .0.0.0:48080->48080/tcp, 0 .0.0.0:5563->5563/tcp edgex-core-metadata /core-metadata --registry ... Up 0 .0.0.0:48081->48081/tcp, 48082 /tcp edgex-device-virtual /device-virtual --profile = ... Up 0 .0.0.0:49990->49990/tcp edgex-files /bin/sh -c /usr/bin/tail - ... Up edgex-mongo /edgex-mongo/bin/edgex-mon ... Up 0 .0.0.0:27017->27017/tcp edgex-support-logging /support-logging --registr ... Up 0 .0.0.0:48061->48061/tcp edgex-support-notifications /support-notifications --r ... Up 0 .0.0.0:48060->48060/tcp edgex-support-rulesengine /bin/sh -c java -jar -Djav ... Up 0 .0.0.0:48075->48075/tcp edgex-support-scheduler /support-scheduler --regis ... Up 0 .0.0.0:48085->48085/tcp edgex-sys-mgmt-agent /sys-mgmt-agent --registry ... Up 0 .0.0.0:48090->48090/tcp edgex-ui-go ./edgex-ui-server Up 0 .0.0.0:4000->4000/tcp lab-getting-started_portainer_1 /portainer -H unix:///var/ ... Up 0 .0.0.0:9000->9000/tcp \u6b63\u5e38\u306b\u8d77\u52d5\u3067\u304d\u3066\u3044\u308c\u3070\u3001 edgex-config-seed \u304c Exit 0 \u3067\u7d42\u4e86\u3057\u3066\u3044\u308b\u4ee5\u5916\u306f\u3001\u3059\u3079\u3066\u306e State \u306f Up \u306b\u9077\u79fb\u3057\u307e\u3059\u3002 \u8d77\u52d5\u3067\u304d\u306a\u3044\u5834\u5408 \u505c\u6b62\u3057\u3066\u3057\u307e\u3063\u305f\u30b3\u30f3\u30c6\u30ca\u306e\u30ed\u30b0\u3092 docker logs <\u30b3\u30f3\u30c6\u30ca\u540d> \u306a\u3069\u3067\u78ba\u8a8d\u3057\u3001\u539f\u56e0\u3092\u7279\u5b9a\u3057\u307e\u3059\u3002 docker-compose down --volumes \u3067\u505c\u6b62\u30fb\u524a\u9664\u3057\u3001\u539f\u56e0\u3092\u53d6\u308a\u9664\u3044\u3066\u304b\u3089\u518d\u8a66\u884c\u3057\u307e\u3059\u3002\u30ed\u30b0\u306b exec format error \u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001CPU \u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u304c\u7570\u306a\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002 \u69cb\u6210\u306e\u78ba\u8a8d \u00b6 \u8d77\u52d5\u51e6\u7406\u306f\u3001\u5927\u307e\u304b\u306b\u306f\u4ee5\u4e0b\u306e\u9806\u5e8f\u3067\u884c\u308f\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u8d77\u52d5\u9806\u5e8f\u306f\u3001 docker-compose.yml \u4e2d\u3067\u5404\u30b5\u30fc\u30d3\u30b9\u306b depends_on \u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u5236\u5fa1\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u5404\u30b5\u30fc\u30d3\u30b9\u7528\u306e\u6c38\u7d9a\u30dc\u30ea\u30e5\u30fc\u30e0\u304c\u7528\u610f\u3055\u308c\u3001 edgex-files \u304c\u8d77\u52d5\u3057\u3066\u5fc5\u8981\u306a\u521d\u671f\u30c7\u30fc\u30bf\u3092\u914d\u7f6e\u3059\u308b \u5404\u30b5\u30fc\u30d3\u30b9\u306e\u69cb\u6210\u60c5\u5831\u3092\u63d0\u4f9b\u3059\u308b\u30ec\u30b8\u30b9\u30c8\u30ea\u3067\u3042\u308b Consul\uff08 edgex-core-consul \uff09\u3092\u8d77\u52d5\u3059\u308b \u5404\u30b5\u30fc\u30d3\u30b9\u306e\u8ecc\u9053\u306b\u5fc5\u8981\u306a\u69cb\u6210\u60c5\u5831\u3092\u30ec\u30b8\u30b9\u30c8\u30ea\uff08Consul\uff09\u306b\u767b\u9332\u3059\u308b edgex-config-seed \u3092\u8d77\u52d5\u3059\u308b\uff08\u767b\u9332\u304c\u7d42\u308f\u3063\u305f\u3089\u7d42\u4e86\u3059\u308b\u305f\u3081\u3001 Exit 0 \u306b\u9077\u79fb\u3059\u308b\uff09 \u6b8b\u308a\u306e\u5404\u30b5\u30fc\u30d3\u30b9\u304c\u3001\u81ea\u8eab\u306e\u69cb\u6210\u60c5\u5831\u3092 Consul \u304b\u3089\u53d6\u5f97\u3057\u305f\u3046\u3048\u3067\u3001\u4f9d\u5b58\u95a2\u4fc2\u306e\u3042\u308b\u9806\u756a\u901a\u308a\u306b\u8d77\u52d5\u3059\u308b \u8d77\u52d5\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d3\u30b9 \u00b6 \u4eca\u56de\u306e docker-compose.yml \u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u3092\u3001\u30ec\u30a4\u30e4\u3092\u8e0f\u307e\u3048\u3066\u6574\u7406\u3057\u307e\u3059\u3002\u7c21\u5358\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u3068\u4e0b\u56f3\u306e\u901a\u308a\u3067\u3059\u3002 \u30b5\u30fc\u30d3\u30b9\u540d \u30b3\u30f3\u30c6\u30ca\u540d \u5f79\u5272 app-service-rules edgex-app-service-configurable-rules \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\uff08\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\uff09\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306b\u30c7\u30fc\u30bf\u3092\u914d\u9001\u3057\u307e\u3059\u3002 rulesengine edgex-support-rulesengine \u30b5\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u3067\u3059\u3002 logging edgex-support-logging \u30b5\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u5404\u30b5\u30fc\u30d3\u30b9\u304b\u3089\u30ed\u30b0\u3092\u53d7\u3051\u53d6\u308a\u307e\u3059\u3002 notifications edgex-support-notifications \u30b5\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u30a2\u30e9\u30fc\u30c8\u3084\u901a\u77e5\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002 scheduler edgex-support-scheduler \u30b5\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u30c7\u30fc\u30bf\u306e\u30af\u30ea\u30fc\u30cb\u30f3\u30b0\u306a\u3069\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002 command edgex-core-command \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u30c7\u30d0\u30a4\u30b9\u3078\u306e\u30b3\u30de\u30f3\u30c9\u767a\u884c\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002 consul edgex-core-consul \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u5404\u30b5\u30fc\u30d3\u30b9\u306e\u69cb\u6210\u60c5\u5831\u3092\u4fdd\u6301\u30fb\u63d0\u4f9b\u3059\u308b\u30ec\u30b8\u30b9\u30c8\u30ea\u3067\u3059\u3002 data edgex-core-data \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u30c7\u30fc\u30bf\u306e\u53ce\u96c6\u3068\u6c38\u7d9a\u5316\u3092\u884c\u3044\u307e\u3059\u3002 mongo edgex-mongo \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u6c38\u7d9a\u5316\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306e\u914d\u7f6e\u5834\u6240\u3067\u3059\u3002 metadata edgex-core-metadata \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002EdgeX Foundry \u914d\u4e0b\u306e\u30c7\u30d0\u30a4\u30b9\u306a\u3069\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u7fa4\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u7ba1\u7406\u3057\u307e\u3059\u3002 device-virtual edgex-device-virtual \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3068\u305d\u308c\u7528\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002 ui edgex-ui-go Web GUI \u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002 config-seed edgex-config-seed EdgeX Foundry \u306e\u8d77\u52d5\u6642\u306b\u3001\u4ed6\u306e\u30b5\u30fc\u30d3\u30b9\u306e\u8d77\u52d5\u306b\u5fc5\u8981\u306a\u521d\u671f\u30c7\u30fc\u30bf\u3092\u30ec\u30b8\u30b9\u30c8\u30ea\uff08Consul\uff09\u306b\u767b\u9332\u3057\u307e\u3059\u3002 volume edgex-files \u6c38\u7d9a\u30dc\u30ea\u30e5\u30fc\u30e0\u306b\u521d\u671f\u30c7\u30fc\u30bf\u3092\u914d\u7f6e\u3057\u307e\u3059\u3002 system edgex-sys-mgmt-agent EdgeX Foundry \u81ea\u4f53\u3092\u7ba1\u7406\u3059\u308b API \u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002 portainer portainer Docker \u74b0\u5883\u81ea\u4f53\u306e\u7ba1\u7406\u30c4\u30fc\u30eb\u3067\u3059\u3002 \u5fc5\u8981\u306a\u30b5\u30fc\u30d3\u30b9\u306e\u3044\u308d\u3044\u308d \u4eca\u56de\u306f\u3001Docker Compose \u3092\u5229\u7528\u3057\u3066\u8d77\u52d5\u3055\u305b\u3066\u3044\u308b\u305f\u3081\u3001 volume \u3084 portainer \u306a\u3069 Docker \u74b0\u5883\u306a\u3089\u3067\u306f\u306e\u30b5\u30fc\u30d3\u30b9\u3082\u8d77\u52d5\u3057\u3066\u3044\u307e\u3059\u304c\u3001Docker \u3092\u5229\u7528\u3057\u306a\u3044\u5834\u5408\u306a\u3069\u3001\u69cb\u6210\u6b21\u7b2c\u3067\u306f\u3001\u5fc5\u8981\u306a\u30b5\u30fc\u30d3\u30b9\u3084\u8d77\u52d5\u9806\u5e8f\u306f\u5909\u5316\u3057\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u306e\u53d6\u308a\u6271\u3044 \u00b6 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001EdgeX Foundry \u306e\u6700\u3082\u57fa\u672c\u7684\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3068\u306a\u308b\u3001 \u30c7\u30d0\u30a4\u30b9\u304b\u3089\u306e\u30c7\u30fc\u30bf\u53ce\u96c6 \u30c7\u30d0\u30a4\u30b9\u306e\u5236\u5fa1 \u306b\u6ce8\u76ee\u3057\u3066\u3001\u7279\u306b\u3001\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306e\u3046\u3061 \u30c7\u30fc\u30bf\u30b5\u30fc\u30d3\u30b9 \u3068 \u30b3\u30de\u30f3\u30c9\u30b5\u30fc\u30d3\u30b9 \u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u3046\u3061 \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 \u3092\u53d6\u308a\u4e0a\u3052\u307e\u3059\u3002\u3053\u308c\u4ee5\u5916\u306e\u30b5\u30fc\u30d3\u30b9\u306b\u3064\u3044\u3066\u3082\u3001\u5f8c\u7d9a\u306e\u30e9\u30dc\u3067\u53d6\u308a\u4e0a\u3052\u3066\u3044\u304d\u307e\u3059\u3002 \u672c\u6765\u306e\u4f7f\u3044\u65b9\u3067\u306f\u3001EdgeX Foundry \u3067\u30c7\u30fc\u30bf\u3092\u53ce\u96c6\u3057\u305f\u3044\u3001\u3042\u308b\u3044\u306f EdgeX Foundry \u304b\u3089\u5236\u5fa1\u3057\u305f\u3044\u4f55\u3089\u304b\u306e\u7269\u7406\u7684\u306a\u30c7\u30d0\u30a4\u30b9\u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u304c\u3001\u3053\u306e\u30e9\u30dc\u3067\u306f\u5b58\u5728\u3057\u307e\u305b\u3093\u3002\u305d\u306e\u4ee3\u308f\u308a\u3053\u306e\u30e9\u30dc\u3067\u306f\u3001\u30c6\u30b9\u30c8\u7528\u306b\u6a19\u6e96\u3067\u7528\u610f\u3055\u308c\u3066\u3044\u308b \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9 \u3092\u5229\u7528\u3057\u307e\u3059\u3002 \u8a73\u7d30\u306f\u5f8c\u7d9a\u306e\u30e9\u30dc\u3067\u53d6\u308a\u4e0a\u3052\u307e\u3059\u304c\u3001\u3053\u306e\u6bb5\u968e\u3067\u306f\u3001 EdgeX Foundry \u3067 \u4f55\u3089\u304b\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u6271\u3046\u306b\u306f \u305d\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u53d6\u308a\u6271\u3046\u305f\u3081\u306e \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u5fc5\u8981\u3067\u3042\u308b \u3053\u3068\u3092\u304a\u3055\u3048\u3066\u304f\u3060\u3055\u3044\u3002\u3064\u307e\u308a\u3001\u3053\u306e\u30e9\u30dc\u3067\u306f\u3001 \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u305d\u306e\u3082\u306e \u3068\u3001 \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3092\u53d6\u308a\u6271\u3046\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 \u306e\u4e8c\u3064\u306e\u6982\u5ff5\u304c\u767b\u5834\u3057\u307e\u3059\u3002 \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u306e\u5b9f\u88c5 \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u306b\u9650\u3063\u3066\u306f\u3001\u3072\u3068\u3064\u306e\u30b5\u30fc\u30d3\u30b9 device-virtual \u306e\u4e2d\u306b\u3001\u30c7\u30d0\u30a4\u30b9\u305d\u306e\u3082\u306e\u3068\u305d\u308c\u7528\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u4e21\u65b9\u306e\u5b9f\u88c5\u304c\u5185\u5305\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3092\u7528\u3044\u305f\u4eca\u56de\u306e\u30e9\u30dc\u3067\u306f\u3001\u5927\u307e\u304b\u306b\u306f\u6b21\u306e\u3088\u3046\u306a\u69cb\u6210\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9 \u30e9\u30f3\u30c0\u30e0\u306a\u5024\u3092\u751f\u6210\u3057\u7d9a\u3051\u308b\u3060\u3051\u306e \u30c7\u30d0\u30a4\u30b9 \u3067\u3059 \u3072\u3068\u3064\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u8907\u6570\u306e \u30ea\u30bd\u30fc\u30b9 \u3092\u6301\u3063\u3066\u3044\u307e\u3059 \u30ea\u30bd\u30fc\u30b9\u3068\u306f\u3001\u7269\u7406\u7684\u306a\u30c7\u30d0\u30a4\u30b9\u3067\u306f\u3001\u30bb\u30f3\u30b5\u3084\u30a2\u30af\u30c1\u30e5\u30a8\u30fc\u30bf\u3072\u3068\u3064\u3072\u3068\u3064\u306b\u76f8\u5f53\u3059\u308b\u3082\u306e\u3067\u3001\u30c7\u30fc\u30bf\u53ce\u96c6\u3084\u5236\u5fa1\u306e\u5b9f\u884c\u5358\u4f4d\u3067\u3059 \u6307\u5b9a\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u306e\u73fe\u5728\u306e\u30e9\u30f3\u30c0\u30e0\u5024\u3092\u3001\u5916\u90e8\u304b\u3089\u8aad\u307f\u53d6\u308c\u307e\u3059 \u6307\u5b9a\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u306e\u6570\u5024\u3084\u751f\u6210\u30ed\u30b8\u30c3\u30af\u3092\u3001\u5916\u90e8\u304b\u3089\u6307\u5b9a\u3067\u304d\u307e\u3059 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 4 \u3064\u306e\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30d5\u30a7\u30a4\u30b9\u3068\u3057\u3066\u6a5f\u80fd\u3057\u307e\u3059 \u4e8b\u524d\u306b\u5b9a\u7fa9\u3055\u308c\u305f\u9593\u9694\u3067\u3001\u30c7\u30d0\u30a4\u30b9\u3054\u3068\u30fb\u30ea\u30bd\u30fc\u30b9\u3054\u3068\u306b\u305d\u306e\u73fe\u5728\u306e\u5024\u3092\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u53d6\u5f97\u3057\u3066\u3001\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\uff08 data \uff09\u306b\u9001\u308a\u307e\u3059 \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\uff08 commnad \uff09\u304b\u3089\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u547d\u4ee4\u3092\u53d7\u3051\u53d6\u3063\u3066\u3001\u6307\u5b9a\u3055\u308c\u305f\u30c7\u30d0\u30a4\u30b9\u306e\u6307\u5b9a\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u3001\u5b9f\u969b\u306e\u64cd\u4f5c\uff08\u73fe\u5728\u5024\u306e\u53d6\u5f97\u3001\u307e\u305f\u306f\u5024\u306e\u8a2d\u5b9a\u306a\u3069\uff09\u3092\u884c\u3044\u307e\u3059 \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304b\u3089\u9001\u3089\u308c\u305f\u5024\u3092\u84c4\u7a4d\u3057\u307e\u3059\uff08 data \uff09 \u30c7\u30d0\u30a4\u30b9\u306b\u5bfe\u3059\u308b\u64cd\u4f5c\u306e\u5b9f\u884c\u3092\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306b\u6307\u793a\u3057\u307e\u3059\uff08 command \uff09 \u5b9f\u969b\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3067\u306f\u3001EdgeX Foundry \u3067\u5236\u5fa1\u3057\u305f\u3044\u7269\u7406\u7684\u306a\u30c7\u30d0\u30a4\u30b9\u306f\u3001\u305d\u306e\u30c7\u30d0\u30a4\u30b9\u3054\u3068\u30fb\u30ea\u30bd\u30fc\u30b9\u3054\u3068\u306b\u3055\u307e\u3056\u307e\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u3084\u624b\u9806\u3067\u60c5\u5831\u3092\u53d6\u5f97\u3057\u305f\u308a\u5236\u5fa1\u3057\u305f\u308a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f\u3001\u305d\u3046\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u3054\u3068\u306e\u304a\u4f5c\u6cd5\u306e\u5dee\u7570\u3092\u62bd\u8c61\u5316\u3059\u308b\u3053\u3068\u3067\u3001\u7570\u306a\u308b\u30c7\u30d0\u30a4\u30b9\u306b\u5bfe\u3057\u3066\u3082\u7d71\u4e00\u3055\u308c\u305f\u64cd\u4f5c\u4f53\u7cfb\u3068\u7ba1\u7406\u624b\u6bb5\u3092\u63d0\u4f9b\u3059\u308b\u30a4\u30f3\u30bf\u30d5\u30a7\u30a4\u30b9\u3068\u3057\u3066\u6a5f\u80fd\u3057\u3066\u3044\u307e\u3059\u3002 \u64cd\u4f5c\u624b\u6bb5 \u00b6 \u7ba1\u7406\u8005\u304c EdgeX Foundry \u306b\u5bfe\u3057\u3066\u64cd\u4f5c\u3092\u884c\u3044\u305f\u3044\u5834\u5408\u306f\u3001Web GUI \u304b REST API\u3001CLI \u3092\u5229\u7528\u3057\u307e\u3059\u3002\u305f\u3060\u3057\u3001GUI \u3082 CLI \u3082\u73fe\u6642\u70b9\u3067\u306f \u5b9f\u884c\u3067\u304d\u308b\u6a5f\u80fd\u306f\u9650\u5b9a\u7684 \u3067\u3042\u308a\u3001\u7d30\u304b\u306a\u5236\u5fa1\u306b\u306f \u5f8c\u8ff0\u306e API \u306e\u5229\u7528\u304c\u5fc5\u9808 \u3068\u306a\u308b\u70b9\u306b\u306f\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002 \u624b\u52d5\u3067\u306e\u64cd\u4f5c\u306e\u5fc5\u8981\u6027 \u5024\u306e\u78ba\u8a8d\u3060\u3051\u3067\u306a\u304f\u3001\u5404\u7a2e\u8a2d\u5b9a\u306e\u5909\u66f4\u3084\u65b0\u898f\u30c7\u30d0\u30a4\u30b9\u306e\u8ffd\u52a0\u306a\u3069\u3082\u3001API \u3092\u5229\u7528\u3057\u3066\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\u3068\u306f\u3044\u3048\u3001\u8d77\u52d5\u5f8c\u306b\u4f55\u3089\u304b\u306e\u69cb\u6210\u5909\u66f4\u3092\u52a0\u3048\u308b\u3088\u308a\u306f\u3001\u7406\u60f3\u7684\u306b\u306f\u3001\u8d77\u52d5\u3059\u308b\u3060\u3051\u3067\u5fc5\u8981\u306a\u69cb\u6210\u304c\u3059\u3079\u3066\u3067\u304d\u3042\u304c\u3063\u305f\u72b6\u614b\u306b\u306a\u308b\u3088\u3046\u306b\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u3059\u3079\u3066\u4e8b\u524d\u306b\u7528\u610f\u3057\u3001 docker-compose.yml \u3067\u305d\u308c\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b\u5b9a\u7fa9\u3092\u3042\u3089\u304b\u3058\u3081\u5165\u308c\u3066\u304a\u304f\u306a\u3069\u306e\u5de5\u592b\u3092\u3059\u3079\u304d\u3067\u3059\u3002\u305d\u3046\u3059\u308c\u3070\u3001\u3059\u3079\u3066\u306e\u69cb\u6210\u3092\u30c6\u30ad\u30b9\u30c8\u30d9\u30fc\u30b9\u3067\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u7ba1\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u3001\u3044\u308f\u3086\u308b IaC \u306e\u5b9f\u73fe\u306b\u3082\u3064\u306a\u3052\u3089\u308c\u307e\u3059\u3002 GUI \u3067\u306e\u64cd\u4f5c \u00b6 ui \u30b5\u30fc\u30d3\u30b9\uff08 edgex-ui-go \u30b3\u30f3\u30c6\u30ca\uff09\u304c\u3001\u6a19\u6e96\u306e Web GUI \u3067\u3059\u3002 Docker \u30db\u30b9\u30c8\u306e IP \u30a2\u30c9\u30ec\u30b9\u3092\u78ba\u8a8d\u3057\u3066\u3001 http://<IP \u30a2\u30c9\u30ec\u30b9>:4000/ \u306b\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30e6\u30fc\u30b6 admin \uff08\u30d1\u30b9\u30ef\u30fc\u30c9\u3082 admin \uff09\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002 \u3053\u306e GUI \u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001\u307e\u305a\u306f\u3053\u306e GUI \u3067\u64cd\u4f5c\u3059\u308b\u5bfe\u8c61\u3092\u767b\u9332\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u5de6\u30da\u30a4\u30f3\u306e [ Gateway ] \u306b\u9077\u79fb\u3057\u3001\u53f3\u30da\u30a4\u30f3\u306e [ Add ] \u30dc\u30bf\u30f3\u3067\u3001[ Address ] \u306b Docker \u30db\u30b9\u30c8\u306e IP \u30a2\u30c9\u30ec\u30b9\u3092\u767b\u9332\u3057\u307e\u3059\u3002[ Name ] \u3068 [ Description ] \u306f\u4efb\u610f\u306e\u6587\u5b57\u5217\u3092\u5165\u529b\u3057\u3067\u3059\u3002 \u30b2\u30fc\u30c8\u30a6\u30a7\u30a4 GUI \u3092\u64cd\u4f5c\u3059\u308b\u3068\u3001 edgex-ui-go \u304c\u5404\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u3078\u306e REST API \u306e\u5b9f\u884c\u3092\u80a9\u4ee3\u308f\u308a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u3053\u3053\u3067\u306e \u30b2\u30fc\u30c8\u30a6\u30a7\u30a4 \u306f\u3001\u3053\u306e API \u306e\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306e IP \u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002\u3088\u3063\u3066\u3001\u3082\u3057\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u304c\u8907\u6570\u306e\u30ce\u30fc\u30c9\u306b\u5206\u6563\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u64cd\u4f5c\u3054\u3068\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306e IP \u30a2\u30c9\u30ec\u30b9\u3092\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u73fe\u5728\u306e\u5b9f\u88c5\u3067\u306f\u56f0\u96e3\u3067\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b5\u30fc\u30d3\u30b9\uff08\u3053\u306e\u672c\u30ac\u30a4\u30c9\u3067\u306f\u53d6\u308a\u6271\u3044\u307e\u305b\u3093\uff09\u306b\u542b\u307e\u308c\u308b\u30d7\u30ed\u30ad\u30b7\u3092 API \u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u69cb\u6210\u3092\u691c\u8a0e\u3057\u307e\u3059\u3002 \u767b\u9332\u3057\u305f\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u3092\u9078\u629e\u3057\u305f\u72b6\u614b\u3067\u5de6\u30da\u30a4\u30f3\u304b\u3089 [ Device Service ] \u306b\u9077\u79fb\u3059\u308b\u3068\u3001\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3092\u5236\u5fa1\u3057\u3066\u3044\u308b\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3067\u3042\u308b device-virtual \u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u69d8\u5b50\u304c\u898b\u3048\u308b\u306f\u305a\u3067\u3059\u3002 \u3055\u3089\u306b\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 device-virtual \u306e [ Devices ] \u30a2\u30a4\u30b3\u30f3\u3092\u5c55\u958b\u3059\u308b\u3068\u3001\u3053\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3067\u7ba1\u7406\u3057\u3066\u3044\u308b\u914d\u4e0b\u306e\u30c7\u30d0\u30a4\u30b9\uff08\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\uff09\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 \u3055\u3089\u306b\u30c7\u30d0\u30a4\u30b9\u3054\u3068\u306e [ Commands ] \u3092\u5c55\u958b\u3059\u308b\u3068\u3001\u30c7\u30d0\u30a4\u30b9\u3054\u3068\u306e\u5404\u30ea\u30bd\u30fc\u30b9\u304b\u3089\u306e\u60c5\u5831\u306e\u53d6\u5f97\uff08 get \uff09\u3084\u3001\u5236\u5fa1\u547d\u4ee4\u306e\u5b9f\u884c\uff08 set \uff09\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u5225\u306e GUI \u5225\u306e GUI \u304c\u6b32\u3057\u3044\u5834\u5408\u3001 edgex-ui-closure \u3068\u3044\u3046\u3001Edge Xpert\uff08EdgeX Foundry \u306e\u5546\u7528\u7248\uff09\u306e GUI \u306e\u30d9\u30fc\u30b9\u306b\u306a\u3063\u305f\u3082\u306e\u3082\u5b58\u5728\u3057\u3066\u3044\u307e\u3059\u3002\u898b\u305f\u76ee\u3082\u304d\u308c\u3044\u3067\u6700\u4f4e\u9650\u306e\u52d5\u4f5c\u3082\u3057\u307e\u3059\u304c\u3001\u958b\u767a\u306f\u3042\u307e\u308a\u6d3b\u767a\u3067\u306f\u306a\u3044\u3088\u3046\u3067\u3059\u3002\u7c21\u5358\u306a\u69cb\u6210\u65b9\u6cd5\u306f\u3001 \u3053\u3061\u3089\u306e\u30d6\u30ed\u30b0\u30a8\u30f3\u30c8\u30ea\uff08\u65e5\u672c\u8a9e\uff09 \u3067\u3082\u7d39\u4ecb\u3057\u3066\u3044\u307e\u3059\uff08\u60c5\u5831\u304c\u53e4\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\uff09\u3002 API \u3067\u306e\u64cd\u4f5c \u00b6 \u5404\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u306f REST API \u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002cURL \u3084 Postman \u306a\u3069\u306e\u30c4\u30fc\u30eb\u3092\u7528\u3044\u3066\u3001 GET \u3084 POST \u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3059\u308b\u3053\u3068\u3067\u3001\u69d8\u3005\u306a\u64cd\u4f5c\u3092\u884c\u3048\u307e\u3059\u3002 \u516c\u5f0f\u306e\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9 \u306e\u307b\u304b\u3001\u4f7f\u3044\u65b9\u306e\u4f8b\u306f API \u306e\u30a6\u30a9\u30fc\u30af\u30b9\u30eb\u30fc \u3082\u53c2\u8003\u306b\u3067\u304d\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001\u5b58\u5728\u3057\u3066\u3044\u308b\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3084\u3001\u305d\u3053\u3067\u7ba1\u7406\u3055\u308c\u3066\u3044\u308b\u30c7\u30d0\u30a4\u30b9\u7fa4\u3092\u78ba\u8a8d\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b GET \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6295\u3052\u308b\u3068 JSON \u3067\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u4e00\u89a7 http://<IP \u30a2\u30c9\u30ec\u30b9>:48081/api/v1/deviceservice \u5404\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u8a73\u7d30 http://<IP \u30a2\u30c9\u30ec\u30b9>:48081/api/v1/deviceservice/name/<\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u540d> http://<IP \u30a2\u30c9\u30ec\u30b9>:48081/api/v1/deviceservice/<\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 ID> \u30c7\u30d0\u30a4\u30b9\u306e\u4e00\u89a7 http://<IP \u30a2\u30c9\u30ec\u30b9>:48081/api/v1/device \u5404\u30c7\u30d0\u30a4\u30b9\u306e\u8a73\u7d30 http://<IP \u30a2\u30c9\u30ec\u30b9>:48081/api/v1/device/name/<\u30c7\u30d0\u30a4\u30b9\u540d> http://<IP \u30a2\u30c9\u30ec\u30b9>:48081/api/v1/device/<\u30c7\u30d0\u30a4\u30b9 ID> \u30dd\u30fc\u30c8\u756a\u53f7 \u3053\u306e\u30e9\u30dc\u306e\u3088\u3046\u306b EdgeX Foundry \u3092 Docker Compose \u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u5916\u90e8\u304b\u3089\u306f\u3059\u3079\u3066\u306e\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u306e API \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u304c\u540c\u3058 IP \u30a2\u30c9\u30ec\u30b9\u3067\u30db\u30b9\u30c8\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3002\u305f\u3060\u3057\u3001IP \u30a2\u30c9\u30ec\u30b9\u304c\u540c\u3058\u3067\u3082\u3001\u5404\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u306e\u30b3\u30f3\u30c6\u30ca\u306f\u305d\u308c\u305e\u308c\u304c\u7570\u306a\u308b\u30dd\u30fc\u30c8\u756a\u53f7\u3067\u5f85\u3061\u53d7\u3051\u3066\u3044\u308b\u306e\u3067\u3001\u76ee\u7684\u306e\u64cd\u4f5c\u306b\u5fdc\u3058\u3066\u9069\u5207\u306a\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u4e0a\u8a18\u306e 48081 \u756a\u30dd\u30fc\u30c8\u306f\u3001 metadata \u30b5\u30fc\u30d3\u30b9\u306e\u5f85\u3061\u53d7\u3051\u30dd\u30fc\u30c8\u3067\u3059\u3002 CLI \u3067\u306e\u64cd\u4f5c \u00b6 CLI \u3068\u3057\u3066\u3001\u73fe\u6642\u70b9\u3067\u306f\u307e\u3060 GA \u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001 edgex-cli \u3068\u3044\u3046\u30d7\u30ed\u30b8\u30a7\u30af\u30c8 \u3067\u958b\u767a\u304c\u9032\u3081\u3089\u308c\u3066\u3044\u307e\u3059\u3002 \u958b\u767a\u9014\u4e2d\u3067\u3042\u308a\u4ed5\u69d8\u304c\u5927\u304d\u304f\u5909\u66f4\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u3053\u3068\u304b\u3089\u3001\u672c\u30ac\u30a4\u30c9\u3067\u306f\u53d6\u308a\u6271\u3044\u307e\u305b\u3093\u304c\u3001 \u30ea\u30dd\u30b8\u30c8\u30ea\u306e README.md \u306e\u5c0e\u5165\u624b\u9806\u306b\u5f93\u3046\u3068\u5229\u7528\u3067\u304d\u307e\u3059\u3002 \u3053\u3061\u3089\u306e\u30d6\u30ed\u30b0\u30a8\u30f3\u30c8\u30ea\uff08\u65e5\u672c\u8a9e\uff09 \u3067\u306f\u3001\u30b3\u30f3\u30c6\u30ca\u3092\u5229\u7528\u3057\u3066\u52d5\u4f5c\u3055\u305b\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u3066\u3044\u307e\u3059\uff08\u60c5\u5831\u304c\u53e4\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\uff09\u3002 \u84c4\u7a4d\u30c7\u30fc\u30bf\u306e\u78ba\u8a8d \u00b6 \u4eca\u56de\u5229\u7528\u3057\u3066\u3044\u308b\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f\u3001\u4e8b\u524d\u306b\u69cb\u6210\u3055\u308c\u305f\u8a2d\u5b9a\u306b\u5f93\u3063\u3066\u3001\u8d77\u52d5\u3059\u308b\u3068\u81ea\u52d5\u7684\u306b\u52d5\u4f5c\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3067\u306f\u30e9\u30f3\u30c0\u30e0\u306a\u6570\u5024\u304c\u751f\u6210\u3055\u308c\u3001\u305d\u306e\u5024\u306f\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 virtual-device \u3092\u901a\u3058\u3066\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u3059\u3067\u306b\u84c4\u7a4d\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u5b9f\u969b\u306b\u84c4\u7a4d\u3055\u308c\u305f\u5024\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u84c4\u7a4d\u30c7\u30fc\u30bf\u306e\u69cb\u9020 \u00b6 EdgeX Foundry \u3067\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u53d6\u5f97\u3057\u305f\u3072\u3068\u3064\u306e\u30c7\u30fc\u30bf\u306f Reading \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u53d6\u308a\u6271\u308f\u308c\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u4e00\u56de\u306e\u51e6\u7406\u3067\u53d6\u5f97\u3057\u305f Reading \u306e\u96c6\u5408\u304c\u3001\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b Event \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u9001\u4fe1\u3055\u308c\u3001\u84c4\u7a4d\u3055\u308c\u3066\u3044\u304d\u307e\u3059\u3002 Reading \u5358\u4e00\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u5358\u4e00\u306e\u30ea\u30bd\u30fc\u30b9\u304b\u3089\u53d6\u5f97\u3057\u305f\u3072\u3068\u3064\u306e\u5024\u3068\u3001\u305d\u306e\u53d6\u5f97\u6642\u9593\u306a\u3069\u306e\u30e1\u30bf\u60c5\u5831\u3092\u542b\u3080\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 Event \u3042\u308b\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u3001\u4e00\u56de\u306e\u51e6\u7406\u3067\u53d6\u5f97\u3057\u305f\u4e00\u3064\u4ee5\u4e0a\u306e Reading \u306e\u96c6\u5408 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u30c7\u30fc\u30bf\u3092\u9001\u308b\uff08 data \u30b5\u30fc\u30d3\u30b9\u306e API \u306b POST \u3059\u308b\uff09\u5358\u4f4d \u4f8b\u3048\u3070\u3001\u3042\u308b\u30c7\u30d0\u30a4\u30b9\u3067 \u6e29\u5ea6\u3068\u6e7f\u5ea6\u3092\u30bb\u30c3\u30c8\u3067 get \u3067\u304d\u308b \u3088\u3046\u306b\u69cb\u6210\u3057\u305f\u5834\u5408\u306f\u3001\u3072\u3068\u3064\u306e Event \u306b\u4e8c\u3064\u306e Reading \u304c\u542b\u307e\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002 \u84c4\u7a4d\u30c7\u30fc\u30bf\u306e\u78ba\u8a8d \u00b6 Event \u3092\u53d6\u5f97\u3059\u308b data \u30b5\u30fc\u30d3\u30b9\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b GET \u3059\u308b\u3068\u3001 Reading \u3092\u542b\u3080 Event \u60c5\u5831\u304c\u5f97\u3089\u308c\u307e\u3059\u3002\u4eca\u56de\u306e\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3067\u306f\u3001\u3072\u3068\u3064\u306e Event \u306b\u306f\u3072\u3068\u3064\u306e Reading \u304c\u542b\u307e\u308c\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001Docker \u30db\u30b9\u30c8\u4e0a\u3067 curl \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u3001 \u30c7\u30d0\u30a4\u30b9 Random-Float-Device \u306e \u76f4\u8fd1\u306e Event \u3092 2 \u3064 \u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002URL \u306b\u3053\u306e\u60c5\u5831\u3092\u542b\u3081\u3066 GET \u3057\u307e\u3059\u3002 $ curl -s http://localhost:48080/api/v1/event/device/Random-Float-Device/2 | jq [ { \"id\" : \"4949fc7f-069b-49b1-bc52-f905c5109692\" , \"device\" : \"Random-Float-Device\" , \"created\" : 1579419158139 , \"modified\" : 1579419158139 , \"origin\" : 1579419158137800200 , \"readings\" : [ { \"id\" : \"6dcac272-28ad-4755-972f-ad58b02aa000\" , \"created\" : 1579419158138 , \"origin\" : 1579419158124917000 , \"modified\" : 1579419158138 , \"device\" : \"Random-Float-Device\" , \"name\" : \"Float32\" , \"value\" : \"fvU+Nw==\" } ] } , { \"id\" : \"f4f62305-ce8c-4f19-960b-ba2977ab0b2b\" , \"device\" : \"Random-Float-Device\" , \"created\" : 1579419157643 , \"modified\" : 1579419157643 , \"origin\" : 1579419157642273800 , \"readings\" : [ { \"id\" : \"227aa868-6dbe-4e53-af27-c773075eac85\" , \"created\" : 1579419157642 , \"origin\" : 1579419157630999000 , \"modified\" : 1579419157642 , \"device\" : \"Random-Float-Device\" , \"name\" : \"Float64\" , \"value\" : \"1.258607e+308\" } ] } ] Event \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u4e8c\u3064\u8fd4\u308a\u3001\u305d\u308c\u305e\u308c\u306b Reading \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u8aad\u307f\u53d6\u308c\u307e\u3059\u3002 \u4e8c\u7a2e\u985e\u306e\u30ea\u30bd\u30fc\u30b9 \u30c7\u30d0\u30a4\u30b9 Random-Float-Device \u306b\u306f\u4e8c\u3064\u306e\u30ea\u30bd\u30fc\u30b9 Float32 \u3068 Float64 \u304c\u5b58\u5728\u3057\u3066\u304a\u308a\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u5185\u3067\u306f\u3053\u306e\u4e8c\u3064\u304b\u3089\u306e\u5024\u306e\u53d6\u5f97\u306f\u307b\u307c\u540c\u6642\u306b\u30c8\u30ea\u30ac\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u76f4\u8fd1\u306e\u4e8c\u3064\u3092\u6307\u5b9a\u3057\u305f\u4eca\u56de\u306e\u64cd\u4f5c\u306e\u7d50\u679c\u306b\u306f\u3001\u3053\u306e\u4e21\u65b9\u306e\u5024\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002 jq \u30b3\u30de\u30f3\u30c9 JSON \u3092\u6271\u3046\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\u591a\u304f\u306e\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3\uff08Ubuntu \u3067\u3042\u308c\u3070 apt install jq \uff09\u3092\u7528\u3044\u3066\u3067\u5c0e\u5165\u3067\u304d\u307e\u3059\u3002Windows \u7528\u306e\u30d0\u30a4\u30ca\u30ea\u3082\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u8a73\u7d30\u306f \u516c\u5f0f\u30b5\u30a4\u30c8 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u3053\u3067\u306f\u3001REST API \u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u6574\u5f62\u3057\u3066\u8868\u793a\u3059\u308b\u305f\u3081\u306b\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002 \u7279\u5b9a\u306e\u30ea\u30bd\u30fc\u30b9\u3067\u8aad\u307f\u53d6\u3063\u305f\u60c5\u5831\u3060\u3051\u3092\u5f97\u305f\u3044\u5834\u5408\u306f\u3001 Reading \u3092\u64cd\u4f5c\u3059\u308b\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u30ea\u30bd\u30fc\u30b9\u540d\u3092\u6307\u5b9a\u3057\u3066 GET \u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 \u30ea\u30bd\u30fc\u30b9 Float64 \u306e \u76f4\u8fd1\u306e Reading \u3092 2 \u3064 \u3067\u3042\u308c\u3070\u3001\u6b21\u306e\u901a\u308a\u3067\u3059\u3002 $ curl -s http://localhost:48080/api/v1/reading/name/Float64/2 | jq [ { \"id\" : \"e1e950c0-7533-4664-a606-91c97e8dbb85\" , \"created\" : 1579419397777 , \"origin\" : 1579419397752820200 , \"modified\" : 1579419397777 , \"device\" : \"Random-Float-Device\" , \"name\" : \"Float64\" , \"value\" : \"8.073392e+305\" } , { \"id\" : \"2b30bdf3-cb3e-4bac-bd20-87653e9259f2\" , \"created\" : 1579419367748 , \"origin\" : 1579419367735956200 , \"modified\" : 1579419367748 , \"device\" : \"Random-Float-Device\" , \"name\" : \"Float64\" , \"value\" : \"-3.105079e+307\" } ] \u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u305f\u6570\u5024\u306e\u30c7\u30b3\u30fc\u30c9 \u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3057\u305f\u969b\u3001 Float32 \u306e\u5024\u304c /oyN8A== \u306e\u3088\u3046\u306b\u6587\u5b57\u5217\u3067\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u3001\u5185\u90e8\u3067\u306f\u3053\u306e\u578b\u306e\u6570\u5024\uff08\u3092\u8868\u3059\u30d0\u30a4\u30c8\u5217\uff09\u3092 Base64 \u3067\u30a8\u30f3\u30b3\u30fc\u30c9\u3057\u3066\u4fdd\u6301\u3057\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002 \u6570\u5024\u3092\u4fdd\u6301\u3059\u308b\u969b\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u6709\u7121\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u3068\u304d\u306b\u4f5c\u6210\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\uff08\u5f8c\u7d9a\u306e\u30e9\u30dc\u3067\u53d6\u308a\u6271\u3044\u307e\u3059\uff09\u306e\u4e2d\u3067\u6307\u5b9a\u3067\u304d\u307e\u3059\u304c\u3001\u4eca\u56de\u306f\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u306e\u307e\u307e\u5229\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u306b\u5f93\u3063\u3066\u3053\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u7c21\u5358\u306a\u7d39\u4ecb\u306e\u307f\u306b\u3068\u3069\u3081\u307e\u3059\u304c\u3001\u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u305f\u6570\u5024\u306f\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u3068\u6570\u5024\u306b\u623b\u305b\u307e\u3059\u3002 \u975e\u5e38\u306b\u7c21\u5358\u306a\u30c7\u30b3\u30fc\u30c0\u3092\u516c\u958b\u3057\u3066\u3044\u308b \u306e\u3067\u3001Go \u8a00\u8a9e\u304c\u52d5\u304f\u74b0\u5883\u304c\u3042\u308c\u3070\u5229\u7528\u3067\u304d\u307e\u3059\u3002 $ git clone https://github.com/kurokobo/edgex-decode-base64.git $ cd edgex-decode-base64/ $ go run main.go /eOKAw == 8 .163255e-37 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u78ba\u8a8d \u00b6 \u78ba\u8a8d\u3057\u305f Event \u3084 Reading \u306a\u3069\u306e\u30c7\u30fc\u30bf\u306f\u3001\u30a4\u30f3\u30bf\u30d5\u30a7\u30a4\u30b9\u3053\u305d data \u30b5\u30fc\u30d3\u30b9\u306e API \u3067\u3057\u305f\u304c\u3001\u5b9f\u969b\u306b\u306f MongoDB \u306b\u4fdd\u7ba1\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u901a\u5e38\u306f\u884c\u308f\u306a\u3044\u64cd\u4f5c\u3067\u3059\u304c\u3001MongoDB \u306b\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3067\u3082\u3001\u5b9f\u969b\u306e\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 Geneva \u30ea\u30ea\u30fc\u30b9\u3067\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9 Geneva \u30ea\u30ea\u30fc\u30b9\u304b\u3089\u306f\u3001\u6a19\u6e96\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c MongoDB \u304b\u3089 Redis \u306b\u5909\u66f4\u3055\u308c\u307e\u3059\u3002 \u5916\u90e8\u304b\u3089 MongoDB Compass \u306a\u3069\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5834\u5408\u306f\u3001Docker \u30db\u30b9\u30c8\u306e\u30dd\u30fc\u30c8 27017 \u306b\u30e6\u30fc\u30b6\u540d core \u3001\u30d1\u30b9\u30ef\u30fc\u30c9 password \u3067\u8a8d\u8a3c\u3067\u304d\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u30b3\u30f3\u30c6\u30ca\u306e\u30b7\u30a7\u30eb\u306b\u5165\u3063\u3066\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u4eca\u56de\u306e\u69cb\u6210\u3067\u306f\u3001 edgex-mongo \u304cMongoDB \u306e\u5b9f\u4f53\u306e\u30b3\u30f3\u30c6\u30ca\u3067\u3059\u3002Docker \u30db\u30b9\u30c8\u304b\u3089\u3053\u308c\u306e\u30b7\u30a7\u30eb\u3092\u53d6\u3063\u3066\u3001MongoDB \u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u5165\u308a\u307e\u3059\u3002\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002 $ docker exec -it edgex-mongo bash # mongo MongoDB shell version v4.2.0 ... > show databases admin 0.000GB application-service 0.000GB config 0.000GB coredata 0.011GB exportclient 0.000GB local 0.000GB logging 0.006GB metadata 0.000GB notifications 0.000GB scheduler 0.000GB Event \u3068 Reading \u306e\u5024\u306f\u3001 coredata \u5185\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306b\u4fdd\u6301\u3055\u308c\u3066\u3044\u307e\u3059\u3002 > use coredata switched to db coredata > show collections event reading valueDescriptor \u3042\u3068\u306f MongoDB \u3068\u3057\u3066\u64cd\u4f5c\u3059\u308c\u3070\u3088\u304f\u3001\u4f8b\u3048\u3070 find() \u306a\u3069\u3092\u53e9\u3051\u3070\u30c7\u30fc\u30bf\u3092\u53c2\u7167\u3067\u304d\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f exit \u3057\u307e\u3059\u3002 > db.reading.find().limit(5) { \"_id\" : ObjectId(\"5e2471bb0e360800014be635\"), \"created\" : NumberLong(\"1579446715833\"), \"modified\" : NumberLong(\"1579446715833\"), \"origin\" : NumberLong(\"1579446715806322700\"), \"uuid\" : \"e0af3c99-be57-4cec-a59a-2af2da976d41\", \"pushed\" : NumberLong(0), \"device\" : \"Random-Boolean-Device\", \"name\" : \"Bool\", \"value\" : \"true\" } { \"_id\" : ObjectId(\"5e2471bb0e360800014be637\"), \"created\" : NumberLong(\"1579446715857\"), \"modified\" : NumberLong(\"1579446715857\"), \"origin\" : NumberLong(\"1579446715831613700\"), \"uuid\" : \"c336b11e-8e91-4007-bd3f-1ee63d80e45b\", \"pushed\" : NumberLong(0), \"device\" : \"Random-Boolean-Device\", \"name\" : \"Bool\", \"value\" : \"false\" } { \"_id\" : ObjectId(\"5e2471c00e360800014be639\"), \"created\" : NumberLong(\"1579446720829\"), \"modified\" : NumberLong(\"1579446720829\"), \"origin\" : NumberLong(\"1579446720815333700\"), \"uuid\" : \"2ae4befc-1fee-48ab-b621-b4d56747a446\", \"pushed\" : NumberLong(0), \"device\" : \"Random-Integer-Device\", \"name\" : \"Int16\", \"value\" : \"9761\" } { \"_id\" : ObjectId(\"5e2471c00e360800014be63b\"), \"created\" : NumberLong(\"1579446720843\"), \"modified\" : NumberLong(\"1579446720843\"), \"origin\" : NumberLong(\"1579446720830168500\"), \"uuid\" : \"317ea1f1-0c36-4e6d-a489-b48711ff5dd6\", \"pushed\" : NumberLong(0), \"device\" : \"Random-Integer-Device\", \"name\" : \"Int64\", \"value\" : \"-9069744988884413669\" } { \"_id\" : ObjectId(\"5e2471c00e360800014be63d\"), \"created\" : NumberLong(\"1579446720857\"), \"modified\" : NumberLong(\"1579446720857\"), \"origin\" : NumberLong(\"1579446720841898700\"), \"uuid\" : \"5be3634e-b171-4849-9bac-f13de720c11e\", \"pushed\" : NumberLong(0), \"device\" : \"Random-Integer-Device\", \"name\" : \"Int32\", \"value\" : \"-913901160\" } > exit # exit \u74b0\u5883\u306e\u505c\u6b62 \u00b6 \u5f8c\u7d9a\u306e\u30e9\u30dc\u3067\u306f\u3001\u73fe\u5728\u5229\u7528\u3057\u3066\u3044\u308b\u3082\u306e\u3068\u306f\u5225\u306e docker-compose.yml \u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3057\u307e\u3059\u306e\u3067\u3001\u4eca\u56de\u306e\u3053\u306e\u74b0\u5883\u306f\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002 \u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u4f5c\u6210\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u3068\u3001\u81ea\u52d5\u3067\u4f5c\u6210\u3055\u308c\u305f\u6c38\u7d9a\u30dc\u30ea\u30e5\u30fc\u30e0\u9818\u57df\u3092\u524a\u9664\u3057\u307e\u3059\u3002 $ docker-compose down --volumes Stopping edgex-ui-go ... done ... Removing image portainer/portainer Note \u30d7\u30eb\u3057\u305f\u30a4\u30e1\u30fc\u30b8\u306f\u5f8c\u7d9a\u306e\u30e9\u30dc\u3067\u307e\u305f\u5229\u7528\u3057\u307e\u3059\u306e\u3067\u3001 --rmi all \u306f\u6307\u5b9a\u3057\u307e\u305b\u3093\u3002 \u307e\u3068\u3081 \u00b6 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001\u4ee5\u4e0b\u3092\u53d6\u308a\u6271\u3044\u307e\u3057\u305f\u3002 Docker Compose \u3092\u5229\u7528\u3057\u305f EdgeX Foundry \u306e\u8d77\u52d5\u3068\u505c\u6b62\u3092\u5b9f\u8df5\u3057\u307e\u3057\u305f EdgeX Foundry \u306e\u5927\u307e\u304b\u306a\u69cb\u6210\u3092\u78ba\u8a8d\u3057\u3001\u30c7\u30d0\u30a4\u30b9\u3068\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u8003\u3048\u65b9\u306e\u6982\u8981\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f GUI \u3068 API \u306e\u64cd\u4f5c\u3092\u5b9f\u8df5\u3057\u307e\u3057\u305f \u84c4\u7a4d\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306e\u95b2\u89a7\u65b9\u6cd5\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f","title":"Lab 2 - \u5c0e\u5165\u3068\u30c7\u30fc\u30bf\u306e\u78ba\u8a8d"},{"location":"fuji/lab-getting-started/#lab-2-","text":"\u3053\u306e\u30e9\u30dc\u3067\u306f\u3001EdgeX Foundry \u3092\u30b7\u30f3\u30d7\u30eb\u306a\u69cb\u6210\u3067\u52d5\u4f5c\u3055\u305b\u3001\u30c6\u30b9\u30c8\u7528\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u30c7\u30fc\u30bf\u304c\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u84c4\u7a4d\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002","title":"Lab 2 - \u5c0e\u5165\u3068\u30c7\u30fc\u30bf\u306e\u78ba\u8a8d"},{"location":"fuji/lab-getting-started/#_1","text":"\u3053\u306e\u30e9\u30dc\u306e\u76ee\u7684\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002 Docker Compose \u3092\u5229\u7528\u3057\u305f EdgeX Foundry \u306e\u8d77\u52d5\u65b9\u6cd5\u3068\u505c\u6b62\u65b9\u6cd5\u3092\u7406\u89e3\u3059\u308b EdgeX Foundry \u306e\u5927\u307e\u304b\u306a\u69cb\u6210\u3068\u3001\u30c7\u30d0\u30a4\u30b9\u3092\u5236\u5fa1\u3059\u308b\u8003\u3048\u65b9\u306e\u6982\u8981\u3092\u7406\u89e3\u3059\u308b GUI \u3068 API \u306e\u64cd\u4f5c\u65b9\u6cd5\u3092\u7406\u89e3\u3059\u308b \u30c7\u30fc\u30bf\u306e\u78ba\u8a8d\u65b9\u6cd5\u3092\u7406\u89e3\u3059\u308b \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001Docker Compose \u3092\u5229\u7528\u3057\u3066\u3001Ubuntu \u4e0a\u306e Docker \u30b3\u30f3\u30c6\u30ca\u7fa4\u3068\u3057\u3066 EdgeX Foundry \u3092\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002","title":"\u3053\u306e\u30e9\u30dc\u306e\u30b4\u30fc\u30eb\u3068\u69cb\u6210"},{"location":"fuji/lab-getting-started/#_2","text":"\u30e9\u30dc\u306b\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306f\u3001GitHub \u4e0a\u306b\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u3002Ubuntu \u4e0a\u3067\u30af\u30ed\u30fc\u30f3\u3057\u3001CPU \u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u5fdc\u3058\u3066\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u79fb\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002 amd64 git clone https://github.com/kurokobo/edgex-hol-fuji.git cd edgex-hol-fuji cd amd64 arm64 git clone https://github.com/kurokobo/edgex-hol-fuji.git cd edgex-hol-fuji cd arm64 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001 lab-getting-started \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u8eab\u3092\u5229\u7528\u3057\u307e\u3059\u3002 cd lab-getting-started ls -l \u30d5\u30a1\u30a4\u30eb docker-compose.yml \u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002 CPU \u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 Ubuntu \u3092 Raspberry Pi \u3067\u52d5\u4f5c\u3055\u305b\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306f arm64 \u306b\u76f8\u5f53\u3057\u307e\u3059\u3002\u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u306f\u3001\u901a\u5e38\u306f amd64 \u3067\u3059\u3002","title":"\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306e\u7528\u610f"},{"location":"fuji/lab-getting-started/#edgex-foundry","text":"\u624b\u8efd\u306b\u8d77\u52d5\u3067\u304d\u308b\u3088\u3046\u3001Docker Compose \u7528\u306e YAML \u30d5\u30a1\u30a4\u30eb\u304c\u3001 EdgeX Foundry \u306e developer-scripts \u30ea\u30dd\u30b8\u30c8\u30ea \u3067\u516c\u958b\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3053\u306e\u30e9\u30dc\u3067\u5229\u7528\u3059\u308b docker-compose.yml \u306f\u3001\u3053\u306e\u3046\u3061 docker-compose-fuji-no-secty.yml \u3092\u30ea\u30cd\u30fc\u30e0\u3057\u305f\u3082\u306e\u3067\u3059\u3002\u30a8\u30c7\u30a3\u30bf\u3067\u958b\u3044\u3066\u5185\u5bb9\u3092\u78ba\u8a8d\u3059\u308b\u306e\u3082\u3088\u3044\u3067\u3057\u3087\u3046\u3002 no-secty \u3068\u306f EdgeX Foundry \u306b\u306f\u3001\u6a5f\u5fae\u60c5\u5831\u3092\u6697\u53f7\u5316\u3057\u3066\u4fdd\u6301\u3059\u308b\u305f\u3081\u306e\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30b9\u30c8\u30a2\u3084\u3001API \u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u3068\u3057\u3066\u6a5f\u80fd\u3059\u308b\u30d7\u30ed\u30ad\u30b7\u306a\u3069\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u95a2\u4fc2\u306e\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u304c\u5b58\u5728\u3057\u3066\u3044\u307e\u3059\u3002\u672c\u756a\u74b0\u5883\u3067\u306f\u91cd\u8981\u306a\u6a5f\u80fd\u3067\u3059\u304c\u3001\u69cb\u6210\u304c\u8907\u96d1\u306b\u306a\u308b\u305f\u3081\u3001\u4eca\u56de\u306f\u3053\u308c\u3089\u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u95a2\u4fc2\u306e\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u3092\u542b\u307e\u306a\u3044\u72b6\u614b\u3067\u8d77\u52d5\u3067\u304d\u308b YAML \u30d5\u30a1\u30a4\u30eb *-no-secty.yml \u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002 \u307e\u305a\u306f\u3001\u5229\u7528\u3055\u308c\u3066\u3044\u308b\u30a4\u30e1\u30fc\u30b8\u3092 Docker Hub \u304b\u3089\u30d7\u30eb\u3057\u307e\u3059\u3002 $ docker-compose pull Pulling volume ... done Pulling consul ... done Pulling config-seed ... done Pulling mongo ... done Pulling logging ... done Pulling system ... done Pulling notifications ... done Pulling metadata ... done Pulling data ... done Pulling command ... done Pulling scheduler ... done Pulling app-service-rules ... done Pulling rulesengine ... done Pulling device-virtual ... done Pulling ui ... done Pulling portainer ... done \u30d7\u30eb\u3067\u304d\u305f\u3089\u3001\u30c7\u30bf\u30c3\u30c1\u30e2\u30fc\u30c9\u3067\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002 $ docker-compose up -d Creating network \"lab-getting-started_edgex-network\" with driver \"bridge\" Creating network \"lab-getting-started_default\" with the default driver Creating volume \"lab-getting-started_db-data\" with default driver Creating volume \"lab-getting-started_log-data\" with default driver Creating volume \"lab-getting-started_consul-config\" with default driver Creating volume \"lab-getting-started_consul-data\" with default driver Creating volume \"lab-getting-started_portainer_data\" with default driver Creating edgex-files ... done Creating edgex-core-consul ... done Creating lab-getting-started_portainer_1 ... done Creating edgex-mongo ... done Creating edgex-config-seed ... done Creating edgex-support-logging ... done Creating edgex-core-data ... done Creating edgex-support-notifications ... done Creating edgex-sys-mgmt-agent ... done Creating edgex-core-metadata ... done Creating edgex-core-command ... done Creating edgex-support-scheduler ... done Creating edgex-app-service-configurable-rules ... done Creating edgex-device-virtual ... done Creating edgex-ui-go ... done Creating edgex-support-rulesengine ... done \u3059\u3079\u3066\u304c done \u3067\u5b8c\u4e86\u3057\u305f\u3089\u3001\u8d77\u52d5\u72b6\u614b\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ docker-compose ps Name Command State Ports ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- edgex-app-service-configurable-rules /app-service-configurable ... Up 48095 /tcp, 0 .0.0.0:48100->48100/tcp edgex-config-seed /edgex/cmd/config-seed/con ... Exit 0 edgex-core-command /core-command --registry - ... Up 0 .0.0.0:48082->48082/tcp edgex-core-consul docker-entrypoint.sh agent ... Up 8300 /tcp, 8301 /tcp, 8301 /udp, 8302 /tcp, 8302 /udp, 0 .0.0.0:8400->8400/tcp, 0 .0.0.0:8500->8500/tcp, 8600 /tcp, 8600 /udp edgex-core-data /core-data --registry --pr ... Up 0 .0.0.0:48080->48080/tcp, 0 .0.0.0:5563->5563/tcp edgex-core-metadata /core-metadata --registry ... Up 0 .0.0.0:48081->48081/tcp, 48082 /tcp edgex-device-virtual /device-virtual --profile = ... Up 0 .0.0.0:49990->49990/tcp edgex-files /bin/sh -c /usr/bin/tail - ... Up edgex-mongo /edgex-mongo/bin/edgex-mon ... Up 0 .0.0.0:27017->27017/tcp edgex-support-logging /support-logging --registr ... Up 0 .0.0.0:48061->48061/tcp edgex-support-notifications /support-notifications --r ... Up 0 .0.0.0:48060->48060/tcp edgex-support-rulesengine /bin/sh -c java -jar -Djav ... Up 0 .0.0.0:48075->48075/tcp edgex-support-scheduler /support-scheduler --regis ... Up 0 .0.0.0:48085->48085/tcp edgex-sys-mgmt-agent /sys-mgmt-agent --registry ... Up 0 .0.0.0:48090->48090/tcp edgex-ui-go ./edgex-ui-server Up 0 .0.0.0:4000->4000/tcp lab-getting-started_portainer_1 /portainer -H unix:///var/ ... Up 0 .0.0.0:9000->9000/tcp \u6b63\u5e38\u306b\u8d77\u52d5\u3067\u304d\u3066\u3044\u308c\u3070\u3001 edgex-config-seed \u304c Exit 0 \u3067\u7d42\u4e86\u3057\u3066\u3044\u308b\u4ee5\u5916\u306f\u3001\u3059\u3079\u3066\u306e State \u306f Up \u306b\u9077\u79fb\u3057\u307e\u3059\u3002 \u8d77\u52d5\u3067\u304d\u306a\u3044\u5834\u5408 \u505c\u6b62\u3057\u3066\u3057\u307e\u3063\u305f\u30b3\u30f3\u30c6\u30ca\u306e\u30ed\u30b0\u3092 docker logs <\u30b3\u30f3\u30c6\u30ca\u540d> \u306a\u3069\u3067\u78ba\u8a8d\u3057\u3001\u539f\u56e0\u3092\u7279\u5b9a\u3057\u307e\u3059\u3002 docker-compose down --volumes \u3067\u505c\u6b62\u30fb\u524a\u9664\u3057\u3001\u539f\u56e0\u3092\u53d6\u308a\u9664\u3044\u3066\u304b\u3089\u518d\u8a66\u884c\u3057\u307e\u3059\u3002\u30ed\u30b0\u306b exec format error \u304c\u51fa\u529b\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001CPU \u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u304c\u7570\u306a\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002","title":"EdgeX Foundry \u306e\u8d77\u52d5"},{"location":"fuji/lab-getting-started/#_3","text":"\u8d77\u52d5\u51e6\u7406\u306f\u3001\u5927\u307e\u304b\u306b\u306f\u4ee5\u4e0b\u306e\u9806\u5e8f\u3067\u884c\u308f\u308c\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u8d77\u52d5\u9806\u5e8f\u306f\u3001 docker-compose.yml \u4e2d\u3067\u5404\u30b5\u30fc\u30d3\u30b9\u306b depends_on \u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u5236\u5fa1\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u5404\u30b5\u30fc\u30d3\u30b9\u7528\u306e\u6c38\u7d9a\u30dc\u30ea\u30e5\u30fc\u30e0\u304c\u7528\u610f\u3055\u308c\u3001 edgex-files \u304c\u8d77\u52d5\u3057\u3066\u5fc5\u8981\u306a\u521d\u671f\u30c7\u30fc\u30bf\u3092\u914d\u7f6e\u3059\u308b \u5404\u30b5\u30fc\u30d3\u30b9\u306e\u69cb\u6210\u60c5\u5831\u3092\u63d0\u4f9b\u3059\u308b\u30ec\u30b8\u30b9\u30c8\u30ea\u3067\u3042\u308b Consul\uff08 edgex-core-consul \uff09\u3092\u8d77\u52d5\u3059\u308b \u5404\u30b5\u30fc\u30d3\u30b9\u306e\u8ecc\u9053\u306b\u5fc5\u8981\u306a\u69cb\u6210\u60c5\u5831\u3092\u30ec\u30b8\u30b9\u30c8\u30ea\uff08Consul\uff09\u306b\u767b\u9332\u3059\u308b edgex-config-seed \u3092\u8d77\u52d5\u3059\u308b\uff08\u767b\u9332\u304c\u7d42\u308f\u3063\u305f\u3089\u7d42\u4e86\u3059\u308b\u305f\u3081\u3001 Exit 0 \u306b\u9077\u79fb\u3059\u308b\uff09 \u6b8b\u308a\u306e\u5404\u30b5\u30fc\u30d3\u30b9\u304c\u3001\u81ea\u8eab\u306e\u69cb\u6210\u60c5\u5831\u3092 Consul \u304b\u3089\u53d6\u5f97\u3057\u305f\u3046\u3048\u3067\u3001\u4f9d\u5b58\u95a2\u4fc2\u306e\u3042\u308b\u9806\u756a\u901a\u308a\u306b\u8d77\u52d5\u3059\u308b","title":"\u69cb\u6210\u306e\u78ba\u8a8d"},{"location":"fuji/lab-getting-started/#_4","text":"\u4eca\u56de\u306e docker-compose.yml \u3067\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u3092\u3001\u30ec\u30a4\u30e4\u3092\u8e0f\u307e\u3048\u3066\u6574\u7406\u3057\u307e\u3059\u3002\u7c21\u5358\u306b\u30de\u30c3\u30d4\u30f3\u30b0\u3059\u308b\u3068\u4e0b\u56f3\u306e\u901a\u308a\u3067\u3059\u3002 \u30b5\u30fc\u30d3\u30b9\u540d \u30b3\u30f3\u30c6\u30ca\u540d \u5f79\u5272 app-service-rules edgex-app-service-configurable-rules \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\uff08\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\uff09\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306b\u30c7\u30fc\u30bf\u3092\u914d\u9001\u3057\u307e\u3059\u3002 rulesengine edgex-support-rulesengine \u30b5\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u3067\u3059\u3002 logging edgex-support-logging \u30b5\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u5404\u30b5\u30fc\u30d3\u30b9\u304b\u3089\u30ed\u30b0\u3092\u53d7\u3051\u53d6\u308a\u307e\u3059\u3002 notifications edgex-support-notifications \u30b5\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u30a2\u30e9\u30fc\u30c8\u3084\u901a\u77e5\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002 scheduler edgex-support-scheduler \u30b5\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u30c7\u30fc\u30bf\u306e\u30af\u30ea\u30fc\u30cb\u30f3\u30b0\u306a\u3069\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002 command edgex-core-command \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u30c7\u30d0\u30a4\u30b9\u3078\u306e\u30b3\u30de\u30f3\u30c9\u767a\u884c\u3092\u5236\u5fa1\u3057\u307e\u3059\u3002 consul edgex-core-consul \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u5404\u30b5\u30fc\u30d3\u30b9\u306e\u69cb\u6210\u60c5\u5831\u3092\u4fdd\u6301\u30fb\u63d0\u4f9b\u3059\u308b\u30ec\u30b8\u30b9\u30c8\u30ea\u3067\u3059\u3002 data edgex-core-data \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u30c7\u30fc\u30bf\u306e\u53ce\u96c6\u3068\u6c38\u7d9a\u5316\u3092\u884c\u3044\u307e\u3059\u3002 mongo edgex-mongo \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u6c38\u7d9a\u5316\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306e\u914d\u7f6e\u5834\u6240\u3067\u3059\u3002 metadata edgex-core-metadata \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002EdgeX Foundry \u914d\u4e0b\u306e\u30c7\u30d0\u30a4\u30b9\u306a\u3069\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u7fa4\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u7ba1\u7406\u3057\u307e\u3059\u3002 device-virtual edgex-device-virtual \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u3072\u3068\u3064\u3067\u3059\u3002\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3068\u305d\u308c\u7528\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002 ui edgex-ui-go Web GUI \u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002 config-seed edgex-config-seed EdgeX Foundry \u306e\u8d77\u52d5\u6642\u306b\u3001\u4ed6\u306e\u30b5\u30fc\u30d3\u30b9\u306e\u8d77\u52d5\u306b\u5fc5\u8981\u306a\u521d\u671f\u30c7\u30fc\u30bf\u3092\u30ec\u30b8\u30b9\u30c8\u30ea\uff08Consul\uff09\u306b\u767b\u9332\u3057\u307e\u3059\u3002 volume edgex-files \u6c38\u7d9a\u30dc\u30ea\u30e5\u30fc\u30e0\u306b\u521d\u671f\u30c7\u30fc\u30bf\u3092\u914d\u7f6e\u3057\u307e\u3059\u3002 system edgex-sys-mgmt-agent EdgeX Foundry \u81ea\u4f53\u3092\u7ba1\u7406\u3059\u308b API \u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002 portainer portainer Docker \u74b0\u5883\u81ea\u4f53\u306e\u7ba1\u7406\u30c4\u30fc\u30eb\u3067\u3059\u3002 \u5fc5\u8981\u306a\u30b5\u30fc\u30d3\u30b9\u306e\u3044\u308d\u3044\u308d \u4eca\u56de\u306f\u3001Docker Compose \u3092\u5229\u7528\u3057\u3066\u8d77\u52d5\u3055\u305b\u3066\u3044\u308b\u305f\u3081\u3001 volume \u3084 portainer \u306a\u3069 Docker \u74b0\u5883\u306a\u3089\u3067\u306f\u306e\u30b5\u30fc\u30d3\u30b9\u3082\u8d77\u52d5\u3057\u3066\u3044\u307e\u3059\u304c\u3001Docker \u3092\u5229\u7528\u3057\u306a\u3044\u5834\u5408\u306a\u3069\u3001\u69cb\u6210\u6b21\u7b2c\u3067\u306f\u3001\u5fc5\u8981\u306a\u30b5\u30fc\u30d3\u30b9\u3084\u8d77\u52d5\u9806\u5e8f\u306f\u5909\u5316\u3057\u307e\u3059\u3002","title":"\u8d77\u52d5\u3057\u3066\u3044\u308b\u30b5\u30fc\u30d3\u30b9"},{"location":"fuji/lab-getting-started/#_5","text":"\u3053\u306e\u30e9\u30dc\u3067\u306f\u3001EdgeX Foundry \u306e\u6700\u3082\u57fa\u672c\u7684\u306a\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3068\u306a\u308b\u3001 \u30c7\u30d0\u30a4\u30b9\u304b\u3089\u306e\u30c7\u30fc\u30bf\u53ce\u96c6 \u30c7\u30d0\u30a4\u30b9\u306e\u5236\u5fa1 \u306b\u6ce8\u76ee\u3057\u3066\u3001\u7279\u306b\u3001\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306e\u3046\u3061 \u30c7\u30fc\u30bf\u30b5\u30fc\u30d3\u30b9 \u3068 \u30b3\u30de\u30f3\u30c9\u30b5\u30fc\u30d3\u30b9 \u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u3046\u3061 \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 \u3092\u53d6\u308a\u4e0a\u3052\u307e\u3059\u3002\u3053\u308c\u4ee5\u5916\u306e\u30b5\u30fc\u30d3\u30b9\u306b\u3064\u3044\u3066\u3082\u3001\u5f8c\u7d9a\u306e\u30e9\u30dc\u3067\u53d6\u308a\u4e0a\u3052\u3066\u3044\u304d\u307e\u3059\u3002 \u672c\u6765\u306e\u4f7f\u3044\u65b9\u3067\u306f\u3001EdgeX Foundry \u3067\u30c7\u30fc\u30bf\u3092\u53ce\u96c6\u3057\u305f\u3044\u3001\u3042\u308b\u3044\u306f EdgeX Foundry \u304b\u3089\u5236\u5fa1\u3057\u305f\u3044\u4f55\u3089\u304b\u306e\u7269\u7406\u7684\u306a\u30c7\u30d0\u30a4\u30b9\u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u304c\u3001\u3053\u306e\u30e9\u30dc\u3067\u306f\u5b58\u5728\u3057\u307e\u305b\u3093\u3002\u305d\u306e\u4ee3\u308f\u308a\u3053\u306e\u30e9\u30dc\u3067\u306f\u3001\u30c6\u30b9\u30c8\u7528\u306b\u6a19\u6e96\u3067\u7528\u610f\u3055\u308c\u3066\u3044\u308b \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9 \u3092\u5229\u7528\u3057\u307e\u3059\u3002 \u8a73\u7d30\u306f\u5f8c\u7d9a\u306e\u30e9\u30dc\u3067\u53d6\u308a\u4e0a\u3052\u307e\u3059\u304c\u3001\u3053\u306e\u6bb5\u968e\u3067\u306f\u3001 EdgeX Foundry \u3067 \u4f55\u3089\u304b\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u6271\u3046\u306b\u306f \u305d\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u53d6\u308a\u6271\u3046\u305f\u3081\u306e \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u5fc5\u8981\u3067\u3042\u308b \u3053\u3068\u3092\u304a\u3055\u3048\u3066\u304f\u3060\u3055\u3044\u3002\u3064\u307e\u308a\u3001\u3053\u306e\u30e9\u30dc\u3067\u306f\u3001 \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u305d\u306e\u3082\u306e \u3068\u3001 \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3092\u53d6\u308a\u6271\u3046\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 \u306e\u4e8c\u3064\u306e\u6982\u5ff5\u304c\u767b\u5834\u3057\u307e\u3059\u3002 \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u306e\u5b9f\u88c5 \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u306b\u9650\u3063\u3066\u306f\u3001\u3072\u3068\u3064\u306e\u30b5\u30fc\u30d3\u30b9 device-virtual \u306e\u4e2d\u306b\u3001\u30c7\u30d0\u30a4\u30b9\u305d\u306e\u3082\u306e\u3068\u305d\u308c\u7528\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u4e21\u65b9\u306e\u5b9f\u88c5\u304c\u5185\u5305\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3092\u7528\u3044\u305f\u4eca\u56de\u306e\u30e9\u30dc\u3067\u306f\u3001\u5927\u307e\u304b\u306b\u306f\u6b21\u306e\u3088\u3046\u306a\u69cb\u6210\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9 \u30e9\u30f3\u30c0\u30e0\u306a\u5024\u3092\u751f\u6210\u3057\u7d9a\u3051\u308b\u3060\u3051\u306e \u30c7\u30d0\u30a4\u30b9 \u3067\u3059 \u3072\u3068\u3064\u306e\u30c7\u30d0\u30a4\u30b9\u304c\u8907\u6570\u306e \u30ea\u30bd\u30fc\u30b9 \u3092\u6301\u3063\u3066\u3044\u307e\u3059 \u30ea\u30bd\u30fc\u30b9\u3068\u306f\u3001\u7269\u7406\u7684\u306a\u30c7\u30d0\u30a4\u30b9\u3067\u306f\u3001\u30bb\u30f3\u30b5\u3084\u30a2\u30af\u30c1\u30e5\u30a8\u30fc\u30bf\u3072\u3068\u3064\u3072\u3068\u3064\u306b\u76f8\u5f53\u3059\u308b\u3082\u306e\u3067\u3001\u30c7\u30fc\u30bf\u53ce\u96c6\u3084\u5236\u5fa1\u306e\u5b9f\u884c\u5358\u4f4d\u3067\u3059 \u6307\u5b9a\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u306e\u73fe\u5728\u306e\u30e9\u30f3\u30c0\u30e0\u5024\u3092\u3001\u5916\u90e8\u304b\u3089\u8aad\u307f\u53d6\u308c\u307e\u3059 \u6307\u5b9a\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u306e\u6570\u5024\u3084\u751f\u6210\u30ed\u30b8\u30c3\u30af\u3092\u3001\u5916\u90e8\u304b\u3089\u6307\u5b9a\u3067\u304d\u307e\u3059 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 4 \u3064\u306e\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3092\u7ba1\u7406\u3059\u308b\u305f\u3081\u306e\u30a4\u30f3\u30bf\u30d5\u30a7\u30a4\u30b9\u3068\u3057\u3066\u6a5f\u80fd\u3057\u307e\u3059 \u4e8b\u524d\u306b\u5b9a\u7fa9\u3055\u308c\u305f\u9593\u9694\u3067\u3001\u30c7\u30d0\u30a4\u30b9\u3054\u3068\u30fb\u30ea\u30bd\u30fc\u30b9\u3054\u3068\u306b\u305d\u306e\u73fe\u5728\u306e\u5024\u3092\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u53d6\u5f97\u3057\u3066\u3001\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\uff08 data \uff09\u306b\u9001\u308a\u307e\u3059 \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\uff08 commnad \uff09\u304b\u3089\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u547d\u4ee4\u3092\u53d7\u3051\u53d6\u3063\u3066\u3001\u6307\u5b9a\u3055\u308c\u305f\u30c7\u30d0\u30a4\u30b9\u306e\u6307\u5b9a\u3055\u308c\u305f\u30ea\u30bd\u30fc\u30b9\u306b\u5bfe\u3057\u3066\u3001\u5b9f\u969b\u306e\u64cd\u4f5c\uff08\u73fe\u5728\u5024\u306e\u53d6\u5f97\u3001\u307e\u305f\u306f\u5024\u306e\u8a2d\u5b9a\u306a\u3069\uff09\u3092\u884c\u3044\u307e\u3059 \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304b\u3089\u9001\u3089\u308c\u305f\u5024\u3092\u84c4\u7a4d\u3057\u307e\u3059\uff08 data \uff09 \u30c7\u30d0\u30a4\u30b9\u306b\u5bfe\u3059\u308b\u64cd\u4f5c\u306e\u5b9f\u884c\u3092\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306b\u6307\u793a\u3057\u307e\u3059\uff08 command \uff09 \u5b9f\u969b\u306e\u30e6\u30fc\u30b9\u30b1\u30fc\u30b9\u3067\u306f\u3001EdgeX Foundry \u3067\u5236\u5fa1\u3057\u305f\u3044\u7269\u7406\u7684\u306a\u30c7\u30d0\u30a4\u30b9\u306f\u3001\u305d\u306e\u30c7\u30d0\u30a4\u30b9\u3054\u3068\u30fb\u30ea\u30bd\u30fc\u30b9\u3054\u3068\u306b\u3055\u307e\u3056\u307e\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u3084\u624b\u9806\u3067\u60c5\u5831\u3092\u53d6\u5f97\u3057\u305f\u308a\u5236\u5fa1\u3057\u305f\u308a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f\u3001\u305d\u3046\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u3054\u3068\u306e\u304a\u4f5c\u6cd5\u306e\u5dee\u7570\u3092\u62bd\u8c61\u5316\u3059\u308b\u3053\u3068\u3067\u3001\u7570\u306a\u308b\u30c7\u30d0\u30a4\u30b9\u306b\u5bfe\u3057\u3066\u3082\u7d71\u4e00\u3055\u308c\u305f\u64cd\u4f5c\u4f53\u7cfb\u3068\u7ba1\u7406\u624b\u6bb5\u3092\u63d0\u4f9b\u3059\u308b\u30a4\u30f3\u30bf\u30d5\u30a7\u30a4\u30b9\u3068\u3057\u3066\u6a5f\u80fd\u3057\u3066\u3044\u307e\u3059\u3002","title":"\u30c7\u30d0\u30a4\u30b9\u306e\u53d6\u308a\u6271\u3044"},{"location":"fuji/lab-getting-started/#_6","text":"\u7ba1\u7406\u8005\u304c EdgeX Foundry \u306b\u5bfe\u3057\u3066\u64cd\u4f5c\u3092\u884c\u3044\u305f\u3044\u5834\u5408\u306f\u3001Web GUI \u304b REST API\u3001CLI \u3092\u5229\u7528\u3057\u307e\u3059\u3002\u305f\u3060\u3057\u3001GUI \u3082 CLI \u3082\u73fe\u6642\u70b9\u3067\u306f \u5b9f\u884c\u3067\u304d\u308b\u6a5f\u80fd\u306f\u9650\u5b9a\u7684 \u3067\u3042\u308a\u3001\u7d30\u304b\u306a\u5236\u5fa1\u306b\u306f \u5f8c\u8ff0\u306e API \u306e\u5229\u7528\u304c\u5fc5\u9808 \u3068\u306a\u308b\u70b9\u306b\u306f\u6ce8\u610f\u304c\u5fc5\u8981\u3067\u3059\u3002 \u624b\u52d5\u3067\u306e\u64cd\u4f5c\u306e\u5fc5\u8981\u6027 \u5024\u306e\u78ba\u8a8d\u3060\u3051\u3067\u306a\u304f\u3001\u5404\u7a2e\u8a2d\u5b9a\u306e\u5909\u66f4\u3084\u65b0\u898f\u30c7\u30d0\u30a4\u30b9\u306e\u8ffd\u52a0\u306a\u3069\u3082\u3001API \u3092\u5229\u7528\u3057\u3066\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002\u3068\u306f\u3044\u3048\u3001\u8d77\u52d5\u5f8c\u306b\u4f55\u3089\u304b\u306e\u69cb\u6210\u5909\u66f4\u3092\u52a0\u3048\u308b\u3088\u308a\u306f\u3001\u7406\u60f3\u7684\u306b\u306f\u3001\u8d77\u52d5\u3059\u308b\u3060\u3051\u3067\u5fc5\u8981\u306a\u69cb\u6210\u304c\u3059\u3079\u3066\u3067\u304d\u3042\u304c\u3063\u305f\u72b6\u614b\u306b\u306a\u308b\u3088\u3046\u306b\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u3059\u3079\u3066\u4e8b\u524d\u306b\u7528\u610f\u3057\u3001 docker-compose.yml \u3067\u305d\u308c\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b\u5b9a\u7fa9\u3092\u3042\u3089\u304b\u3058\u3081\u5165\u308c\u3066\u304a\u304f\u306a\u3069\u306e\u5de5\u592b\u3092\u3059\u3079\u304d\u3067\u3059\u3002\u305d\u3046\u3059\u308c\u3070\u3001\u3059\u3079\u3066\u306e\u69cb\u6210\u3092\u30c6\u30ad\u30b9\u30c8\u30d9\u30fc\u30b9\u3067\u30ea\u30dd\u30b8\u30c8\u30ea\u3067\u7ba1\u7406\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u308a\u3001\u3044\u308f\u3086\u308b IaC \u306e\u5b9f\u73fe\u306b\u3082\u3064\u306a\u3052\u3089\u308c\u307e\u3059\u3002","title":"\u64cd\u4f5c\u624b\u6bb5"},{"location":"fuji/lab-getting-started/#gui","text":"ui \u30b5\u30fc\u30d3\u30b9\uff08 edgex-ui-go \u30b3\u30f3\u30c6\u30ca\uff09\u304c\u3001\u6a19\u6e96\u306e Web GUI \u3067\u3059\u3002 Docker \u30db\u30b9\u30c8\u306e IP \u30a2\u30c9\u30ec\u30b9\u3092\u78ba\u8a8d\u3057\u3066\u3001 http://<IP \u30a2\u30c9\u30ec\u30b9>:4000/ \u306b\u30d6\u30e9\u30a6\u30b6\u3067\u30a2\u30af\u30bb\u30b9\u3057\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30e6\u30fc\u30b6 admin \uff08\u30d1\u30b9\u30ef\u30fc\u30c9\u3082 admin \uff09\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002 \u3053\u306e GUI \u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001\u307e\u305a\u306f\u3053\u306e GUI \u3067\u64cd\u4f5c\u3059\u308b\u5bfe\u8c61\u3092\u767b\u9332\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u5de6\u30da\u30a4\u30f3\u306e [ Gateway ] \u306b\u9077\u79fb\u3057\u3001\u53f3\u30da\u30a4\u30f3\u306e [ Add ] \u30dc\u30bf\u30f3\u3067\u3001[ Address ] \u306b Docker \u30db\u30b9\u30c8\u306e IP \u30a2\u30c9\u30ec\u30b9\u3092\u767b\u9332\u3057\u307e\u3059\u3002[ Name ] \u3068 [ Description ] \u306f\u4efb\u610f\u306e\u6587\u5b57\u5217\u3092\u5165\u529b\u3057\u3067\u3059\u3002 \u30b2\u30fc\u30c8\u30a6\u30a7\u30a4 GUI \u3092\u64cd\u4f5c\u3059\u308b\u3068\u3001 edgex-ui-go \u304c\u5404\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u3078\u306e REST API \u306e\u5b9f\u884c\u3092\u80a9\u4ee3\u308f\u308a\u3057\u3066\u304f\u308c\u307e\u3059\u3002\u3053\u3053\u3067\u306e \u30b2\u30fc\u30c8\u30a6\u30a7\u30a4 \u306f\u3001\u3053\u306e API \u306e\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306e IP \u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002\u3088\u3063\u3066\u3001\u3082\u3057\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u304c\u8907\u6570\u306e\u30ce\u30fc\u30c9\u306b\u5206\u6563\u914d\u7f6e\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u64cd\u4f5c\u3054\u3068\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u5148\u306e IP \u30a2\u30c9\u30ec\u30b9\u3092\u5909\u66f4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u304c\u3001\u73fe\u5728\u306e\u5b9f\u88c5\u3067\u306f\u56f0\u96e3\u3067\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30b5\u30fc\u30d3\u30b9\uff08\u3053\u306e\u672c\u30ac\u30a4\u30c9\u3067\u306f\u53d6\u308a\u6271\u3044\u307e\u305b\u3093\uff09\u306b\u542b\u307e\u308c\u308b\u30d7\u30ed\u30ad\u30b7\u3092 API \u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u69cb\u6210\u3092\u691c\u8a0e\u3057\u307e\u3059\u3002 \u767b\u9332\u3057\u305f\u30b2\u30fc\u30c8\u30a6\u30a7\u30a4\u3092\u9078\u629e\u3057\u305f\u72b6\u614b\u3067\u5de6\u30da\u30a4\u30f3\u304b\u3089 [ Device Service ] \u306b\u9077\u79fb\u3059\u308b\u3068\u3001\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3092\u5236\u5fa1\u3057\u3066\u3044\u308b\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3067\u3042\u308b device-virtual \u304c\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u69d8\u5b50\u304c\u898b\u3048\u308b\u306f\u305a\u3067\u3059\u3002 \u3055\u3089\u306b\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 device-virtual \u306e [ Devices ] \u30a2\u30a4\u30b3\u30f3\u3092\u5c55\u958b\u3059\u308b\u3068\u3001\u3053\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3067\u7ba1\u7406\u3057\u3066\u3044\u308b\u914d\u4e0b\u306e\u30c7\u30d0\u30a4\u30b9\uff08\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\uff09\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 \u3055\u3089\u306b\u30c7\u30d0\u30a4\u30b9\u3054\u3068\u306e [ Commands ] \u3092\u5c55\u958b\u3059\u308b\u3068\u3001\u30c7\u30d0\u30a4\u30b9\u3054\u3068\u306e\u5404\u30ea\u30bd\u30fc\u30b9\u304b\u3089\u306e\u60c5\u5831\u306e\u53d6\u5f97\uff08 get \uff09\u3084\u3001\u5236\u5fa1\u547d\u4ee4\u306e\u5b9f\u884c\uff08 set \uff09\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u5225\u306e GUI \u5225\u306e GUI \u304c\u6b32\u3057\u3044\u5834\u5408\u3001 edgex-ui-closure \u3068\u3044\u3046\u3001Edge Xpert\uff08EdgeX Foundry \u306e\u5546\u7528\u7248\uff09\u306e GUI \u306e\u30d9\u30fc\u30b9\u306b\u306a\u3063\u305f\u3082\u306e\u3082\u5b58\u5728\u3057\u3066\u3044\u307e\u3059\u3002\u898b\u305f\u76ee\u3082\u304d\u308c\u3044\u3067\u6700\u4f4e\u9650\u306e\u52d5\u4f5c\u3082\u3057\u307e\u3059\u304c\u3001\u958b\u767a\u306f\u3042\u307e\u308a\u6d3b\u767a\u3067\u306f\u306a\u3044\u3088\u3046\u3067\u3059\u3002\u7c21\u5358\u306a\u69cb\u6210\u65b9\u6cd5\u306f\u3001 \u3053\u3061\u3089\u306e\u30d6\u30ed\u30b0\u30a8\u30f3\u30c8\u30ea\uff08\u65e5\u672c\u8a9e\uff09 \u3067\u3082\u7d39\u4ecb\u3057\u3066\u3044\u307e\u3059\uff08\u60c5\u5831\u304c\u53e4\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\uff09\u3002","title":"GUI \u3067\u306e\u64cd\u4f5c"},{"location":"fuji/lab-getting-started/#api","text":"\u5404\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u306f REST API \u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u6301\u3063\u3066\u3044\u307e\u3059\u3002cURL \u3084 Postman \u306a\u3069\u306e\u30c4\u30fc\u30eb\u3092\u7528\u3044\u3066\u3001 GET \u3084 POST \u306e\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u767a\u884c\u3059\u308b\u3053\u3068\u3067\u3001\u69d8\u3005\u306a\u64cd\u4f5c\u3092\u884c\u3048\u307e\u3059\u3002 \u516c\u5f0f\u306e\u30ea\u30d5\u30a1\u30ec\u30f3\u30b9 \u306e\u307b\u304b\u3001\u4f7f\u3044\u65b9\u306e\u4f8b\u306f API \u306e\u30a6\u30a9\u30fc\u30af\u30b9\u30eb\u30fc \u3082\u53c2\u8003\u306b\u3067\u304d\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001\u5b58\u5728\u3057\u3066\u3044\u308b\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3084\u3001\u305d\u3053\u3067\u7ba1\u7406\u3055\u308c\u3066\u3044\u308b\u30c7\u30d0\u30a4\u30b9\u7fa4\u3092\u78ba\u8a8d\u3057\u305f\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b GET \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u6295\u3052\u308b\u3068 JSON \u3067\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u4e00\u89a7 http://<IP \u30a2\u30c9\u30ec\u30b9>:48081/api/v1/deviceservice \u5404\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u8a73\u7d30 http://<IP \u30a2\u30c9\u30ec\u30b9>:48081/api/v1/deviceservice/name/<\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u540d> http://<IP \u30a2\u30c9\u30ec\u30b9>:48081/api/v1/deviceservice/<\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 ID> \u30c7\u30d0\u30a4\u30b9\u306e\u4e00\u89a7 http://<IP \u30a2\u30c9\u30ec\u30b9>:48081/api/v1/device \u5404\u30c7\u30d0\u30a4\u30b9\u306e\u8a73\u7d30 http://<IP \u30a2\u30c9\u30ec\u30b9>:48081/api/v1/device/name/<\u30c7\u30d0\u30a4\u30b9\u540d> http://<IP \u30a2\u30c9\u30ec\u30b9>:48081/api/v1/device/<\u30c7\u30d0\u30a4\u30b9 ID> \u30dd\u30fc\u30c8\u756a\u53f7 \u3053\u306e\u30e9\u30dc\u306e\u3088\u3046\u306b EdgeX Foundry \u3092 Docker Compose \u3067\u8d77\u52d5\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u5916\u90e8\u304b\u3089\u306f\u3059\u3079\u3066\u306e\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u306e API \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u304c\u540c\u3058 IP \u30a2\u30c9\u30ec\u30b9\u3067\u30db\u30b9\u30c8\u3055\u308c\u3066\u3044\u308b\u3088\u3046\u306b\u898b\u3048\u307e\u3059\u3002\u305f\u3060\u3057\u3001IP \u30a2\u30c9\u30ec\u30b9\u304c\u540c\u3058\u3067\u3082\u3001\u5404\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u306e\u30b3\u30f3\u30c6\u30ca\u306f\u305d\u308c\u305e\u308c\u304c\u7570\u306a\u308b\u30dd\u30fc\u30c8\u756a\u53f7\u3067\u5f85\u3061\u53d7\u3051\u3066\u3044\u308b\u306e\u3067\u3001\u76ee\u7684\u306e\u64cd\u4f5c\u306b\u5fdc\u3058\u3066\u9069\u5207\u306a\u30dd\u30fc\u30c8\u756a\u53f7\u3092\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u4e0a\u8a18\u306e 48081 \u756a\u30dd\u30fc\u30c8\u306f\u3001 metadata \u30b5\u30fc\u30d3\u30b9\u306e\u5f85\u3061\u53d7\u3051\u30dd\u30fc\u30c8\u3067\u3059\u3002","title":"API \u3067\u306e\u64cd\u4f5c"},{"location":"fuji/lab-getting-started/#cli","text":"CLI \u3068\u3057\u3066\u3001\u73fe\u6642\u70b9\u3067\u306f\u307e\u3060 GA \u3057\u3066\u3044\u307e\u305b\u3093\u304c\u3001 edgex-cli \u3068\u3044\u3046\u30d7\u30ed\u30b8\u30a7\u30af\u30c8 \u3067\u958b\u767a\u304c\u9032\u3081\u3089\u308c\u3066\u3044\u307e\u3059\u3002 \u958b\u767a\u9014\u4e2d\u3067\u3042\u308a\u4ed5\u69d8\u304c\u5927\u304d\u304f\u5909\u66f4\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u3053\u3068\u304b\u3089\u3001\u672c\u30ac\u30a4\u30c9\u3067\u306f\u53d6\u308a\u6271\u3044\u307e\u305b\u3093\u304c\u3001 \u30ea\u30dd\u30b8\u30c8\u30ea\u306e README.md \u306e\u5c0e\u5165\u624b\u9806\u306b\u5f93\u3046\u3068\u5229\u7528\u3067\u304d\u307e\u3059\u3002 \u3053\u3061\u3089\u306e\u30d6\u30ed\u30b0\u30a8\u30f3\u30c8\u30ea\uff08\u65e5\u672c\u8a9e\uff09 \u3067\u306f\u3001\u30b3\u30f3\u30c6\u30ca\u3092\u5229\u7528\u3057\u3066\u52d5\u4f5c\u3055\u305b\u308b\u65b9\u6cd5\u3092\u7d39\u4ecb\u3057\u3066\u3044\u307e\u3059\uff08\u60c5\u5831\u304c\u53e4\u3044\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\uff09\u3002","title":"CLI \u3067\u306e\u64cd\u4f5c"},{"location":"fuji/lab-getting-started/#_7","text":"\u4eca\u56de\u5229\u7528\u3057\u3066\u3044\u308b\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f\u3001\u4e8b\u524d\u306b\u69cb\u6210\u3055\u308c\u305f\u8a2d\u5b9a\u306b\u5f93\u3063\u3066\u3001\u8d77\u52d5\u3059\u308b\u3068\u81ea\u52d5\u7684\u306b\u52d5\u4f5c\u3092\u958b\u59cb\u3057\u307e\u3059\u3002\u3064\u307e\u308a\u3001\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3067\u306f\u30e9\u30f3\u30c0\u30e0\u306a\u6570\u5024\u304c\u751f\u6210\u3055\u308c\u3001\u305d\u306e\u5024\u306f\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 virtual-device \u3092\u901a\u3058\u3066\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u3059\u3067\u306b\u84c4\u7a4d\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001\u5b9f\u969b\u306b\u84c4\u7a4d\u3055\u308c\u305f\u5024\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002","title":"\u84c4\u7a4d\u30c7\u30fc\u30bf\u306e\u78ba\u8a8d"},{"location":"fuji/lab-getting-started/#_8","text":"EdgeX Foundry \u3067\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u53d6\u5f97\u3057\u305f\u3072\u3068\u3064\u306e\u30c7\u30fc\u30bf\u306f Reading \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u53d6\u308a\u6271\u308f\u308c\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u4e00\u56de\u306e\u51e6\u7406\u3067\u53d6\u5f97\u3057\u305f Reading \u306e\u96c6\u5408\u304c\u3001\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b Event \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u9001\u4fe1\u3055\u308c\u3001\u84c4\u7a4d\u3055\u308c\u3066\u3044\u304d\u307e\u3059\u3002 Reading \u5358\u4e00\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u5358\u4e00\u306e\u30ea\u30bd\u30fc\u30b9\u304b\u3089\u53d6\u5f97\u3057\u305f\u3072\u3068\u3064\u306e\u5024\u3068\u3001\u305d\u306e\u53d6\u5f97\u6642\u9593\u306a\u3069\u306e\u30e1\u30bf\u60c5\u5831\u3092\u542b\u3080\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 Event \u3042\u308b\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u3001\u4e00\u56de\u306e\u51e6\u7406\u3067\u53d6\u5f97\u3057\u305f\u4e00\u3064\u4ee5\u4e0a\u306e Reading \u306e\u96c6\u5408 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304c\u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u30c7\u30fc\u30bf\u3092\u9001\u308b\uff08 data \u30b5\u30fc\u30d3\u30b9\u306e API \u306b POST \u3059\u308b\uff09\u5358\u4f4d \u4f8b\u3048\u3070\u3001\u3042\u308b\u30c7\u30d0\u30a4\u30b9\u3067 \u6e29\u5ea6\u3068\u6e7f\u5ea6\u3092\u30bb\u30c3\u30c8\u3067 get \u3067\u304d\u308b \u3088\u3046\u306b\u69cb\u6210\u3057\u305f\u5834\u5408\u306f\u3001\u3072\u3068\u3064\u306e Event \u306b\u4e8c\u3064\u306e Reading \u304c\u542b\u307e\u308c\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002","title":"\u84c4\u7a4d\u30c7\u30fc\u30bf\u306e\u69cb\u9020"},{"location":"fuji/lab-getting-started/#_9","text":"Event \u3092\u53d6\u5f97\u3059\u308b data \u30b5\u30fc\u30d3\u30b9\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b GET \u3059\u308b\u3068\u3001 Reading \u3092\u542b\u3080 Event \u60c5\u5831\u304c\u5f97\u3089\u308c\u307e\u3059\u3002\u4eca\u56de\u306e\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3067\u306f\u3001\u3072\u3068\u3064\u306e Event \u306b\u306f\u3072\u3068\u3064\u306e Reading \u304c\u542b\u307e\u308c\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001Docker \u30db\u30b9\u30c8\u4e0a\u3067 curl \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u3001 \u30c7\u30d0\u30a4\u30b9 Random-Float-Device \u306e \u76f4\u8fd1\u306e Event \u3092 2 \u3064 \u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002URL \u306b\u3053\u306e\u60c5\u5831\u3092\u542b\u3081\u3066 GET \u3057\u307e\u3059\u3002 $ curl -s http://localhost:48080/api/v1/event/device/Random-Float-Device/2 | jq [ { \"id\" : \"4949fc7f-069b-49b1-bc52-f905c5109692\" , \"device\" : \"Random-Float-Device\" , \"created\" : 1579419158139 , \"modified\" : 1579419158139 , \"origin\" : 1579419158137800200 , \"readings\" : [ { \"id\" : \"6dcac272-28ad-4755-972f-ad58b02aa000\" , \"created\" : 1579419158138 , \"origin\" : 1579419158124917000 , \"modified\" : 1579419158138 , \"device\" : \"Random-Float-Device\" , \"name\" : \"Float32\" , \"value\" : \"fvU+Nw==\" } ] } , { \"id\" : \"f4f62305-ce8c-4f19-960b-ba2977ab0b2b\" , \"device\" : \"Random-Float-Device\" , \"created\" : 1579419157643 , \"modified\" : 1579419157643 , \"origin\" : 1579419157642273800 , \"readings\" : [ { \"id\" : \"227aa868-6dbe-4e53-af27-c773075eac85\" , \"created\" : 1579419157642 , \"origin\" : 1579419157630999000 , \"modified\" : 1579419157642 , \"device\" : \"Random-Float-Device\" , \"name\" : \"Float64\" , \"value\" : \"1.258607e+308\" } ] } ] Event \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u4e8c\u3064\u8fd4\u308a\u3001\u305d\u308c\u305e\u308c\u306b Reading \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u8aad\u307f\u53d6\u308c\u307e\u3059\u3002 \u4e8c\u7a2e\u985e\u306e\u30ea\u30bd\u30fc\u30b9 \u30c7\u30d0\u30a4\u30b9 Random-Float-Device \u306b\u306f\u4e8c\u3064\u306e\u30ea\u30bd\u30fc\u30b9 Float32 \u3068 Float64 \u304c\u5b58\u5728\u3057\u3066\u304a\u308a\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u5185\u3067\u306f\u3053\u306e\u4e8c\u3064\u304b\u3089\u306e\u5024\u306e\u53d6\u5f97\u306f\u307b\u307c\u540c\u6642\u306b\u30c8\u30ea\u30ac\u3055\u308c\u307e\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u76f4\u8fd1\u306e\u4e8c\u3064\u3092\u6307\u5b9a\u3057\u305f\u4eca\u56de\u306e\u64cd\u4f5c\u306e\u7d50\u679c\u306b\u306f\u3001\u3053\u306e\u4e21\u65b9\u306e\u5024\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002 jq \u30b3\u30de\u30f3\u30c9 JSON \u3092\u6271\u3046\u30b3\u30de\u30f3\u30c9\u3067\u3059\u3002\u591a\u304f\u306e\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3067\u30d1\u30c3\u30b1\u30fc\u30b8\u30de\u30cd\u30fc\u30b8\u30e3\uff08Ubuntu \u3067\u3042\u308c\u3070 apt install jq \uff09\u3092\u7528\u3044\u3066\u3067\u5c0e\u5165\u3067\u304d\u307e\u3059\u3002Windows \u7528\u306e\u30d0\u30a4\u30ca\u30ea\u3082\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u8a73\u7d30\u306f \u516c\u5f0f\u30b5\u30a4\u30c8 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u3053\u3053\u3067\u306f\u3001REST API \u306e\u30ec\u30b9\u30dd\u30f3\u30b9\u3092\u6574\u5f62\u3057\u3066\u8868\u793a\u3059\u308b\u305f\u3081\u306b\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002 \u7279\u5b9a\u306e\u30ea\u30bd\u30fc\u30b9\u3067\u8aad\u307f\u53d6\u3063\u305f\u60c5\u5831\u3060\u3051\u3092\u5f97\u305f\u3044\u5834\u5408\u306f\u3001 Reading \u3092\u64cd\u4f5c\u3059\u308b\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u30ea\u30bd\u30fc\u30b9\u540d\u3092\u6307\u5b9a\u3057\u3066 GET \u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 \u30ea\u30bd\u30fc\u30b9 Float64 \u306e \u76f4\u8fd1\u306e Reading \u3092 2 \u3064 \u3067\u3042\u308c\u3070\u3001\u6b21\u306e\u901a\u308a\u3067\u3059\u3002 $ curl -s http://localhost:48080/api/v1/reading/name/Float64/2 | jq [ { \"id\" : \"e1e950c0-7533-4664-a606-91c97e8dbb85\" , \"created\" : 1579419397777 , \"origin\" : 1579419397752820200 , \"modified\" : 1579419397777 , \"device\" : \"Random-Float-Device\" , \"name\" : \"Float64\" , \"value\" : \"8.073392e+305\" } , { \"id\" : \"2b30bdf3-cb3e-4bac-bd20-87653e9259f2\" , \"created\" : 1579419367748 , \"origin\" : 1579419367735956200 , \"modified\" : 1579419367748 , \"device\" : \"Random-Float-Device\" , \"name\" : \"Float64\" , \"value\" : \"-3.105079e+307\" } ] \u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u305f\u6570\u5024\u306e\u30c7\u30b3\u30fc\u30c9 \u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3057\u305f\u969b\u3001 Float32 \u306e\u5024\u304c /oyN8A== \u306e\u3088\u3046\u306b\u6587\u5b57\u5217\u3067\u8868\u793a\u3055\u308c\u3066\u3044\u307e\u3057\u305f\u3002\u3053\u308c\u306f\u3001\u5185\u90e8\u3067\u306f\u3053\u306e\u578b\u306e\u6570\u5024\uff08\u3092\u8868\u3059\u30d0\u30a4\u30c8\u5217\uff09\u3092 Base64 \u3067\u30a8\u30f3\u30b3\u30fc\u30c9\u3057\u3066\u4fdd\u6301\u3057\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002 \u6570\u5024\u3092\u4fdd\u6301\u3059\u308b\u969b\u306e\u30a8\u30f3\u30b3\u30fc\u30c9\u6709\u7121\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u3068\u304d\u306b\u4f5c\u6210\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\uff08\u5f8c\u7d9a\u306e\u30e9\u30dc\u3067\u53d6\u308a\u6271\u3044\u307e\u3059\uff09\u306e\u4e2d\u3067\u6307\u5b9a\u3067\u304d\u307e\u3059\u304c\u3001\u4eca\u56de\u306f\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3092\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u306e\u307e\u307e\u5229\u7528\u3057\u3066\u3044\u308b\u305f\u3081\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u306b\u5f93\u3063\u3066\u3053\u306e\u3088\u3046\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u7c21\u5358\u306a\u7d39\u4ecb\u306e\u307f\u306b\u3068\u3069\u3081\u307e\u3059\u304c\u3001\u30a8\u30f3\u30b3\u30fc\u30c9\u3055\u308c\u305f\u6570\u5024\u306f\u30c7\u30b3\u30fc\u30c9\u3059\u308b\u3068\u6570\u5024\u306b\u623b\u305b\u307e\u3059\u3002 \u975e\u5e38\u306b\u7c21\u5358\u306a\u30c7\u30b3\u30fc\u30c0\u3092\u516c\u958b\u3057\u3066\u3044\u308b \u306e\u3067\u3001Go \u8a00\u8a9e\u304c\u52d5\u304f\u74b0\u5883\u304c\u3042\u308c\u3070\u5229\u7528\u3067\u304d\u307e\u3059\u3002 $ git clone https://github.com/kurokobo/edgex-decode-base64.git $ cd edgex-decode-base64/ $ go run main.go /eOKAw == 8 .163255e-37","title":"\u84c4\u7a4d\u30c7\u30fc\u30bf\u306e\u78ba\u8a8d"},{"location":"fuji/lab-getting-started/#_10","text":"\u78ba\u8a8d\u3057\u305f Event \u3084 Reading \u306a\u3069\u306e\u30c7\u30fc\u30bf\u306f\u3001\u30a4\u30f3\u30bf\u30d5\u30a7\u30a4\u30b9\u3053\u305d data \u30b5\u30fc\u30d3\u30b9\u306e API \u3067\u3057\u305f\u304c\u3001\u5b9f\u969b\u306b\u306f MongoDB \u306b\u4fdd\u7ba1\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u901a\u5e38\u306f\u884c\u308f\u306a\u3044\u64cd\u4f5c\u3067\u3059\u304c\u3001MongoDB \u306b\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3067\u3082\u3001\u5b9f\u969b\u306e\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 Geneva \u30ea\u30ea\u30fc\u30b9\u3067\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9 Geneva \u30ea\u30ea\u30fc\u30b9\u304b\u3089\u306f\u3001\u6a19\u6e96\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c MongoDB \u304b\u3089 Redis \u306b\u5909\u66f4\u3055\u308c\u307e\u3059\u3002 \u5916\u90e8\u304b\u3089 MongoDB Compass \u306a\u3069\u3067\u30a2\u30af\u30bb\u30b9\u3059\u308b\u5834\u5408\u306f\u3001Docker \u30db\u30b9\u30c8\u306e\u30dd\u30fc\u30c8 27017 \u306b\u30e6\u30fc\u30b6\u540d core \u3001\u30d1\u30b9\u30ef\u30fc\u30c9 password \u3067\u8a8d\u8a3c\u3067\u304d\u307e\u3059\u304c\u3001\u3053\u3053\u3067\u306f\u30b3\u30f3\u30c6\u30ca\u306e\u30b7\u30a7\u30eb\u306b\u5165\u3063\u3066\u78ba\u8a8d\u3057\u307e\u3059\u3002 \u4eca\u56de\u306e\u69cb\u6210\u3067\u306f\u3001 edgex-mongo \u304cMongoDB \u306e\u5b9f\u4f53\u306e\u30b3\u30f3\u30c6\u30ca\u3067\u3059\u3002Docker \u30db\u30b9\u30c8\u304b\u3089\u3053\u308c\u306e\u30b7\u30a7\u30eb\u3092\u53d6\u3063\u3066\u3001MongoDB \u306e\u30d7\u30ed\u30f3\u30d7\u30c8\u306b\u5165\u308a\u307e\u3059\u3002\u8907\u6570\u306e\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002 $ docker exec -it edgex-mongo bash # mongo MongoDB shell version v4.2.0 ... > show databases admin 0.000GB application-service 0.000GB config 0.000GB coredata 0.011GB exportclient 0.000GB local 0.000GB logging 0.006GB metadata 0.000GB notifications 0.000GB scheduler 0.000GB Event \u3068 Reading \u306e\u5024\u306f\u3001 coredata \u5185\u306e\u30b3\u30ec\u30af\u30b7\u30e7\u30f3\u306b\u4fdd\u6301\u3055\u308c\u3066\u3044\u307e\u3059\u3002 > use coredata switched to db coredata > show collections event reading valueDescriptor \u3042\u3068\u306f MongoDB \u3068\u3057\u3066\u64cd\u4f5c\u3059\u308c\u3070\u3088\u304f\u3001\u4f8b\u3048\u3070 find() \u306a\u3069\u3092\u53e9\u3051\u3070\u30c7\u30fc\u30bf\u3092\u53c2\u7167\u3067\u304d\u307e\u3059\u3002\u7d42\u4e86\u3059\u308b\u306b\u306f exit \u3057\u307e\u3059\u3002 > db.reading.find().limit(5) { \"_id\" : ObjectId(\"5e2471bb0e360800014be635\"), \"created\" : NumberLong(\"1579446715833\"), \"modified\" : NumberLong(\"1579446715833\"), \"origin\" : NumberLong(\"1579446715806322700\"), \"uuid\" : \"e0af3c99-be57-4cec-a59a-2af2da976d41\", \"pushed\" : NumberLong(0), \"device\" : \"Random-Boolean-Device\", \"name\" : \"Bool\", \"value\" : \"true\" } { \"_id\" : ObjectId(\"5e2471bb0e360800014be637\"), \"created\" : NumberLong(\"1579446715857\"), \"modified\" : NumberLong(\"1579446715857\"), \"origin\" : NumberLong(\"1579446715831613700\"), \"uuid\" : \"c336b11e-8e91-4007-bd3f-1ee63d80e45b\", \"pushed\" : NumberLong(0), \"device\" : \"Random-Boolean-Device\", \"name\" : \"Bool\", \"value\" : \"false\" } { \"_id\" : ObjectId(\"5e2471c00e360800014be639\"), \"created\" : NumberLong(\"1579446720829\"), \"modified\" : NumberLong(\"1579446720829\"), \"origin\" : NumberLong(\"1579446720815333700\"), \"uuid\" : \"2ae4befc-1fee-48ab-b621-b4d56747a446\", \"pushed\" : NumberLong(0), \"device\" : \"Random-Integer-Device\", \"name\" : \"Int16\", \"value\" : \"9761\" } { \"_id\" : ObjectId(\"5e2471c00e360800014be63b\"), \"created\" : NumberLong(\"1579446720843\"), \"modified\" : NumberLong(\"1579446720843\"), \"origin\" : NumberLong(\"1579446720830168500\"), \"uuid\" : \"317ea1f1-0c36-4e6d-a489-b48711ff5dd6\", \"pushed\" : NumberLong(0), \"device\" : \"Random-Integer-Device\", \"name\" : \"Int64\", \"value\" : \"-9069744988884413669\" } { \"_id\" : ObjectId(\"5e2471c00e360800014be63d\"), \"created\" : NumberLong(\"1579446720857\"), \"modified\" : NumberLong(\"1579446720857\"), \"origin\" : NumberLong(\"1579446720841898700\"), \"uuid\" : \"5be3634e-b171-4849-9bac-f13de720c11e\", \"pushed\" : NumberLong(0), \"device\" : \"Random-Integer-Device\", \"name\" : \"Int32\", \"value\" : \"-913901160\" } > exit # exit","title":"\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306e\u78ba\u8a8d"},{"location":"fuji/lab-getting-started/#_11","text":"\u5f8c\u7d9a\u306e\u30e9\u30dc\u3067\u306f\u3001\u73fe\u5728\u5229\u7528\u3057\u3066\u3044\u308b\u3082\u306e\u3068\u306f\u5225\u306e docker-compose.yml \u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3057\u307e\u3059\u306e\u3067\u3001\u4eca\u56de\u306e\u3053\u306e\u74b0\u5883\u306f\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002 \u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u4f5c\u6210\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u3068\u3001\u81ea\u52d5\u3067\u4f5c\u6210\u3055\u308c\u305f\u6c38\u7d9a\u30dc\u30ea\u30e5\u30fc\u30e0\u9818\u57df\u3092\u524a\u9664\u3057\u307e\u3059\u3002 $ docker-compose down --volumes Stopping edgex-ui-go ... done ... Removing image portainer/portainer Note \u30d7\u30eb\u3057\u305f\u30a4\u30e1\u30fc\u30b8\u306f\u5f8c\u7d9a\u306e\u30e9\u30dc\u3067\u307e\u305f\u5229\u7528\u3057\u307e\u3059\u306e\u3067\u3001 --rmi all \u306f\u6307\u5b9a\u3057\u307e\u305b\u3093\u3002","title":"\u74b0\u5883\u306e\u505c\u6b62"},{"location":"fuji/lab-getting-started/#_12","text":"\u3053\u306e\u30e9\u30dc\u3067\u306f\u3001\u4ee5\u4e0b\u3092\u53d6\u308a\u6271\u3044\u307e\u3057\u305f\u3002 Docker Compose \u3092\u5229\u7528\u3057\u305f EdgeX Foundry \u306e\u8d77\u52d5\u3068\u505c\u6b62\u3092\u5b9f\u8df5\u3057\u307e\u3057\u305f EdgeX Foundry \u306e\u5927\u307e\u304b\u306a\u69cb\u6210\u3092\u78ba\u8a8d\u3057\u3001\u30c7\u30d0\u30a4\u30b9\u3068\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u8003\u3048\u65b9\u306e\u6982\u8981\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f GUI \u3068 API \u306e\u64cd\u4f5c\u3092\u5b9f\u8df5\u3057\u307e\u3057\u305f \u84c4\u7a4d\u3055\u308c\u305f\u30c7\u30fc\u30bf\u306e\u95b2\u89a7\u65b9\u6cd5\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f","title":"\u307e\u3068\u3081"},{"location":"fuji/lab-overview/","text":"Lab 1 - \u6982\u8981 \u00b6 EdgeX Foundry \u306e\u5927\u307e\u304b\u306a\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u7406\u89e3\u3057\u307e\u3059\u3002 EdgeX Foundry \u3068\u306f \u00b6 \u516c\u5f0f\u30b5\u30a4\u30c8 \u306b\u3088\u308c\u3070\u3001 The World\u2019s First Plug and Play Ecosystem-Enabled Open Platform for the IoT Edge. A highly flexible and scalable open software framework that facilitates interoperability between devices and applications at the IoT Edge, along with a consistent foundation for security and manageability regardless of use case. \u3068\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3072\u3068\u307e\u305a\u306f\u3001 \u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u3067 IoT \u306e\u30a8\u30c3\u30b8\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u5b9f\u73fe\u3059\u308b \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3042\u308b \u3068\u601d\u3063\u3066\u5411\u304d\u5408\u3048\u3070\u3001\u5927\u5916\u308c\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u3002 EdgeX Foundry \u306f Linux Foundation \u304c\u7acb\u3061\u4e0a\u3052\u305f LF Edge \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u3072\u3068\u3064\u3067\u3001LF Edge \u306b\u306f \u73fe\u6642\u70b9\u3067 80 \u793e\u4ee5\u4e0a\u304c\u30e1\u30f3\u30d0\u3068\u3057\u3066\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002 EdgeX Foundry \u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 \u00b6 \u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u6982\u8981\u306f \u516c\u5f0f\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u304b\u3089\u3082\u8aad\u307f\u89e3\u3051\u307e\u3059\u3002 EdgeX Foundry \u306f\u591a\u6570\u306e\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u306e\u96c6\u5408\u4f53\u3068\u3057\u3066\u5b9f\u88c5\u3055\u308c\u3066\u304a\u308a\u3001\u56f3\u4e2d\u306e\u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u305d\u308c\u305e\u308c\u304c\u3072\u3068\u3064\u306e\u30b5\u30fc\u30d3\u30b9\uff08\u30d7\u30ed\u30bb\u30b9\u307e\u305f\u306f\u30b3\u30f3\u30c6\u30ca\uff09\u3068\u3057\u3066\u52d5\u4f5c\u3057\u307e\u3059\u3002\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540c\u58eb\u306f\u3001REST API \u3084 ZMQ \u3067\u9023\u643a\u3057\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u30d5\u30ed\u30fc\u306b\u304b\u304b\u308f\u308b\u90e8\u5206\u3067\u306f\u3001\u56f3\u306e\u4e2d\u592e\u90e8\u5206\u306e\u3088\u3046\u306b\u5168\u4f53\u3067\u5927\u304d\u304f 4 \u3064\u306e\u30ec\u30a4\u30e4\u306b\u5206\u3051\u3089\u308c\u307e\u3059\u3002\u30ec\u30a4\u30e4\u3054\u3068\u306e\u5f79\u5272\u3092\u3056\u3063\u304f\u308a\u62bc\u3055\u3048\u3066\u304a\u304f\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002 \u5b9f\u30c7\u30d0\u30a4\u30b9\u306b\u8fd1\u3044\u5074\uff08\u30b5\u30a6\u30b9\u30b5\u30a4\u30c9\uff09\u304b\u3089\u3001\u5927\u307e\u304b\u306b\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u5c64 \u69d8\u3005\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u4f7f\u3063\u3066\u3001\u30c7\u30d0\u30a4\u30b9\u7fa4\u304b\u3089\u30c7\u30fc\u30bf\u3092\u96c6\u3081\u308b \u69d8\u3005\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u4f7f\u3063\u3066\u3001\u30c7\u30d0\u30a4\u30b9\u7fa4\u3092\u64cd\u4f5c\u3059\u308b \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u5c64 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304b\u3089\u306e\u30c7\u30fc\u30bf\u3092\u84c4\u7a4d\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306b\u30c7\u30d0\u30a4\u30b9\u306e\u64cd\u4f5c\u3092\u4f9d\u983c\u3059\u308b \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u306b\u30c7\u30fc\u30bf\u3092\u9001\u308b \u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u7ba1\u7406\u3059\u308b \u30b5\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u5c64 \u30c7\u30fc\u30bf\u3092\u5206\u6790\u3059\u308b\uff08\u73fe\u6642\u70b9\u3067\u306f\u7c21\u5358\u306a\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\uff09 \u30a2\u30e9\u30fc\u30c8\u306e\u767a\u884c\u3001\u30ed\u30ae\u30f3\u30b0\u3001\u30c7\u30fc\u30bf\u306e\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u306a\u3069\u3001\u69d8\u3005\u306a\u30b5\u30dd\u30fc\u30c8\u6a5f\u80fd\u3092\u5b9f\u884c\u3059\u308b \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\uff08\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\uff09\u5c64 EdgeX Foundry \u306e\u5916\u90e8\u306b\u30c7\u30fc\u30bf\u3092\u9001\u308b \u3053\u308c\u3089\u306f\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30d3\u30eb\u30c9\u3057\u3066\u52d5\u4f5c\u3055\u305b\u308b\u307b\u304b\u3001Docker Compose \u3092\u5229\u7528\u3057\u3066\u30b3\u30f3\u30c6\u30ca\u3068\u3057\u3066\u52d5\u4f5c\u3055\u305b\u305f\u308a\u3001Ubuntu \u3067\u306f Snap \u306b\u3088\u308b\u5c0e\u5165\u3082\u53ef\u80fd\u3067\u3059\u3002\u52d5\u4f5c\u3055\u305b\u308b\u305f\u3081\u306e\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u8981\u4ef6\u306f\u53b3\u3057\u304f\u306a\u304f\u3001Raspberry Pi 4 \u306e\u3088\u3046\u306a\u5c0f\u3055\u306a\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u3067\u3082\u5145\u5206\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002 \u5b9f\u88c5\u306f\u3001Fuji \u30ea\u30ea\u30fc\u30b9\u3067\u306f\u4e00\u90e8 Java \u3082\u6b8b\u3063\u3066\u3044\u308b\u3082\u306e\u306e\u3001Go \u8a00\u8a9e\u3068 C \u8a00\u8a9e\u304c\u4e3b\u306e\u3088\u3046\u3067\u3059\u3002\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u5c64\u3084\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u5c64\u306e\u5b9f\u88c5\u306e\u305f\u3081\u306b\u306f SDK \u3082\u63d0\u4f9b\u3055\u308c\u3066\u304a\u308a\u3001\u958b\u767a\u306b\u53c2\u52a0\u3082\u3067\u304d\u307e\u3059\u3002 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u5c64 \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u5c64 \u306e\u5f79\u5272\u3068\u540d\u79f0\u306f\u3001\u5f90\u3005\u306b \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u5c64 \u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u3064\u3064\u3042\u308a\u3001Geneva \u30ea\u30ea\u30fc\u30b9\u304b\u3089\u306f \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u5c64 \u306b\u7d71\u4e00\u3055\u308c\u3066\u3044\u307e\u3059\u3002Fuji \u30ea\u30ea\u30fc\u30b9\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u306f\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u7528\u306e\u8a18\u8ff0\u3068\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u7528\u306e\u8a18\u8ff0\u304c\u6df7\u5728\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u3067\u304d\u308b\u3060\u3051\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3057\u305f\u307b\u3046\u304c\u3088\u3044\u3067\u3057\u3087\u3046\u3002\u672c\u30ac\u30a4\u30c9\u3067\u3082\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u6a5f\u80fd\u306e\u5b9f\u88c5\u306b\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002 \u53c2\u8003\u30ea\u30f3\u30af \u00b6 GitHub ( edgexfoundry ) \u30e1\u30a4\u30f3\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u7fa4\u3067\u3059 GitHub ( edgexfoundry-holding ) GA \u524d\u306e\u958b\u767a\u4e2d\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u3053\u306e\u914d\u4e0b\u3067\u7ba1\u7406\u3055\u308c\u3066\u3044\u307e\u3059 \u3053\u306e\u914d\u4e0b\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u3001\u516c\u5f0f\u306b\u306f\u30b5\u30dd\u30fc\u30c8\u304c\u63d0\u4f9b\u3055\u308c\u307e\u305b\u3093 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u7528\u306e SDK \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u7528\u306e SDK","title":"Lab 1 - \u6982\u8981"},{"location":"fuji/lab-overview/#lab-1-","text":"EdgeX Foundry \u306e\u5927\u307e\u304b\u306a\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u3092\u7406\u89e3\u3057\u307e\u3059\u3002","title":"Lab 1 - \u6982\u8981"},{"location":"fuji/lab-overview/#edgex-foundry","text":"\u516c\u5f0f\u30b5\u30a4\u30c8 \u306b\u3088\u308c\u3070\u3001 The World\u2019s First Plug and Play Ecosystem-Enabled Open Platform for the IoT Edge. A highly flexible and scalable open software framework that facilitates interoperability between devices and applications at the IoT Edge, along with a consistent foundation for security and manageability regardless of use case. \u3068\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u3072\u3068\u307e\u305a\u306f\u3001 \u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\u3067 IoT \u306e\u30a8\u30c3\u30b8\u30b3\u30f3\u30d4\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0\u3092\u5b9f\u73fe\u3059\u308b \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3042\u308b \u3068\u601d\u3063\u3066\u5411\u304d\u5408\u3048\u3070\u3001\u5927\u5916\u308c\u3067\u306f\u306a\u3044\u3067\u3057\u3087\u3046\u3002 EdgeX Foundry \u306f Linux Foundation \u304c\u7acb\u3061\u4e0a\u3052\u305f LF Edge \u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u3072\u3068\u3064\u3067\u3001LF Edge \u306b\u306f \u73fe\u6642\u70b9\u3067 80 \u793e\u4ee5\u4e0a\u304c\u30e1\u30f3\u30d0\u3068\u3057\u3066\u63b2\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002","title":"EdgeX Foundry \u3068\u306f"},{"location":"fuji/lab-overview/#edgex-foundry_1","text":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u6982\u8981\u306f \u516c\u5f0f\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u304b\u3089\u3082\u8aad\u307f\u89e3\u3051\u307e\u3059\u3002 EdgeX Foundry \u306f\u591a\u6570\u306e\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u306e\u96c6\u5408\u4f53\u3068\u3057\u3066\u5b9f\u88c5\u3055\u308c\u3066\u304a\u308a\u3001\u56f3\u4e2d\u306e\u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u305d\u308c\u305e\u308c\u304c\u3072\u3068\u3064\u306e\u30b5\u30fc\u30d3\u30b9\uff08\u30d7\u30ed\u30bb\u30b9\u307e\u305f\u306f\u30b3\u30f3\u30c6\u30ca\uff09\u3068\u3057\u3066\u52d5\u4f5c\u3057\u307e\u3059\u3002\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u540c\u58eb\u306f\u3001REST API \u3084 ZMQ \u3067\u9023\u643a\u3057\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u30d5\u30ed\u30fc\u306b\u304b\u304b\u308f\u308b\u90e8\u5206\u3067\u306f\u3001\u56f3\u306e\u4e2d\u592e\u90e8\u5206\u306e\u3088\u3046\u306b\u5168\u4f53\u3067\u5927\u304d\u304f 4 \u3064\u306e\u30ec\u30a4\u30e4\u306b\u5206\u3051\u3089\u308c\u307e\u3059\u3002\u30ec\u30a4\u30e4\u3054\u3068\u306e\u5f79\u5272\u3092\u3056\u3063\u304f\u308a\u62bc\u3055\u3048\u3066\u304a\u304f\u3068\u3088\u3044\u3067\u3057\u3087\u3046\u3002 \u5b9f\u30c7\u30d0\u30a4\u30b9\u306b\u8fd1\u3044\u5074\uff08\u30b5\u30a6\u30b9\u30b5\u30a4\u30c9\uff09\u304b\u3089\u3001\u5927\u307e\u304b\u306b\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u5c64 \u69d8\u3005\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u4f7f\u3063\u3066\u3001\u30c7\u30d0\u30a4\u30b9\u7fa4\u304b\u3089\u30c7\u30fc\u30bf\u3092\u96c6\u3081\u308b \u69d8\u3005\u306a\u30d7\u30ed\u30c8\u30b3\u30eb\u3092\u4f7f\u3063\u3066\u3001\u30c7\u30d0\u30a4\u30b9\u7fa4\u3092\u64cd\u4f5c\u3059\u308b \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u5c64 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u304b\u3089\u306e\u30c7\u30fc\u30bf\u3092\u84c4\u7a4d\u3059\u308b \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306b\u30c7\u30d0\u30a4\u30b9\u306e\u64cd\u4f5c\u3092\u4f9d\u983c\u3059\u308b \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u306b\u30c7\u30fc\u30bf\u3092\u9001\u308b \u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u7ba1\u7406\u3059\u308b \u30b5\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u5c64 \u30c7\u30fc\u30bf\u3092\u5206\u6790\u3059\u308b\uff08\u73fe\u6642\u70b9\u3067\u306f\u7c21\u5358\u306a\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\uff09 \u30a2\u30e9\u30fc\u30c8\u306e\u767a\u884c\u3001\u30ed\u30ae\u30f3\u30b0\u3001\u30c7\u30fc\u30bf\u306e\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u306a\u3069\u3001\u69d8\u3005\u306a\u30b5\u30dd\u30fc\u30c8\u6a5f\u80fd\u3092\u5b9f\u884c\u3059\u308b \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\uff08\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\uff09\u5c64 EdgeX Foundry \u306e\u5916\u90e8\u306b\u30c7\u30fc\u30bf\u3092\u9001\u308b \u3053\u308c\u3089\u306f\u3001\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304b\u3089\u30d3\u30eb\u30c9\u3057\u3066\u52d5\u4f5c\u3055\u305b\u308b\u307b\u304b\u3001Docker Compose \u3092\u5229\u7528\u3057\u3066\u30b3\u30f3\u30c6\u30ca\u3068\u3057\u3066\u52d5\u4f5c\u3055\u305b\u305f\u308a\u3001Ubuntu \u3067\u306f Snap \u306b\u3088\u308b\u5c0e\u5165\u3082\u53ef\u80fd\u3067\u3059\u3002\u52d5\u4f5c\u3055\u305b\u308b\u305f\u3081\u306e\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u8981\u4ef6\u306f\u53b3\u3057\u304f\u306a\u304f\u3001Raspberry Pi 4 \u306e\u3088\u3046\u306a\u5c0f\u3055\u306a\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u3067\u3082\u5145\u5206\u306b\u52d5\u4f5c\u3057\u307e\u3059\u3002 \u5b9f\u88c5\u306f\u3001Fuji \u30ea\u30ea\u30fc\u30b9\u3067\u306f\u4e00\u90e8 Java \u3082\u6b8b\u3063\u3066\u3044\u308b\u3082\u306e\u306e\u3001Go \u8a00\u8a9e\u3068 C \u8a00\u8a9e\u304c\u4e3b\u306e\u3088\u3046\u3067\u3059\u3002\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u5c64\u3084\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u5c64\u306e\u5b9f\u88c5\u306e\u305f\u3081\u306b\u306f SDK \u3082\u63d0\u4f9b\u3055\u308c\u3066\u304a\u308a\u3001\u958b\u767a\u306b\u53c2\u52a0\u3082\u3067\u304d\u307e\u3059\u3002 \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u5c64 \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u5c64 \u306e\u5f79\u5272\u3068\u540d\u79f0\u306f\u3001\u5f90\u3005\u306b \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u5c64 \u306b\u7f6e\u304d\u63db\u3048\u3089\u308c\u3064\u3064\u3042\u308a\u3001Geneva \u30ea\u30ea\u30fc\u30b9\u304b\u3089\u306f \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u5c64 \u306b\u7d71\u4e00\u3055\u308c\u3066\u3044\u307e\u3059\u3002Fuji \u30ea\u30ea\u30fc\u30b9\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u306f\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u7528\u306e\u8a18\u8ff0\u3068\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u7528\u306e\u8a18\u8ff0\u304c\u6df7\u5728\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u3067\u304d\u308b\u3060\u3051\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3057\u305f\u307b\u3046\u304c\u3088\u3044\u3067\u3057\u3087\u3046\u3002\u672c\u30ac\u30a4\u30c9\u3067\u3082\u3001\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u6a5f\u80fd\u306e\u5b9f\u88c5\u306b\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u3092\u5229\u7528\u3057\u3066\u3044\u307e\u3059\u3002","title":"EdgeX Foundry \u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3"},{"location":"fuji/lab-overview/#_1","text":"GitHub ( edgexfoundry ) \u30e1\u30a4\u30f3\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u7fa4\u3067\u3059 GitHub ( edgexfoundry-holding ) GA \u524d\u306e\u958b\u767a\u4e2d\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u3053\u306e\u914d\u4e0b\u3067\u7ba1\u7406\u3055\u308c\u3066\u3044\u307e\u3059 \u3053\u306e\u914d\u4e0b\u306e\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306f\u3001\u516c\u5f0f\u306b\u306f\u30b5\u30dd\u30fc\u30c8\u304c\u63d0\u4f9b\u3055\u308c\u307e\u305b\u3093 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u7528\u306e SDK \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u7528\u306e SDK","title":"\u53c2\u8003\u30ea\u30f3\u30af"},{"location":"fuji/lab-support-rulesengine/","text":"Lab 5 - \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u5229\u7528 \u00b6 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001EdgeX Foundry \u306e\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u3092\u69cb\u6210\u3057\u3066\u3001\u3042\u308b\u30c7\u30d0\u30a4\u30b9\u306e\u72b6\u614b\u306e\u5909\u5316\u3092\u30c8\u30ea\u30ac\u306b\u3057\u3066\u5225\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u81ea\u52d5\u3067\u64cd\u4f5c\u3055\u305b\u308b\u624b\u6cd5\u3092\u5b9f\u8df5\u3057\u307e\u3059\u3002 \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u5c06\u6765\u6027 Fuji \u30ea\u30ea\u30fc\u30b9\u6a19\u6e96\u306e\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3 support-rulesengine \u306e\u5b9f\u88c5\u306f Drools \u3067\u3059\u304c\u3001Geneva \u30ea\u30ea\u30fc\u30b9\u4ee5\u964d\u306f EMQ X Kuiper \u306b\u7f6e\u304d\u63db\u308f\u3063\u3066\u3044\u304f\u4e88\u5b9a\u306e\u3088\u3046\u3067\u3059\u3002\u4e21\u8005\u306e\u5b9f\u88c5\u3068\u5229\u7528\u65b9\u6cd5\u306f\u5927\u304d\u304f\u7570\u306a\u308b\u305f\u3081\u3001\u3053\u306e\u30e9\u30dc\u306e\u5185\u5bb9\u306f Kuiper \u306b\u306f\u9069\u7528\u3067\u304d\u307e\u305b\u3093\u3002 \u3053\u306e\u30e9\u30dc\u306e\u30b4\u30fc\u30eb\u3068\u69cb\u6210 \u00b6 \u3053\u306e\u30e9\u30dc\u306e\u76ee\u7684\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002 \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u6982\u8981\u3068\u8003\u3048\u65b9\u3092\u7406\u89e3\u3059\u308b \u4efb\u610f\u306e\u30eb\u30fc\u30eb\u306e\u69cb\u6210\u65b9\u6cd5\u3092\u7406\u89e3\u3059\u308b \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001Docker Compose \u3092\u5229\u7528\u3057\u3066\u3001Ubuntu \u4e0a\u306e Docker \u30b3\u30f3\u30c6\u30ca\u7fa4\u3068\u3057\u3066 EdgeX Foundry \u3092\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002\u307e\u305f\u3001\u81ea\u52d5\u5236\u5fa1\u5bfe\u8c61\u3068\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3068\u3001\u305d\u308c\u304c\u5229\u7528\u3059\u308b MQTT \u306e\u30d6\u30ed\u30fc\u30ab\u3082 Docker \u30b3\u30f3\u30c6\u30ca\u3068\u3057\u3066\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002 \u3053\u308c\u307e\u3067\u306e\u30e9\u30dc\u3067\u306f\u3001\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3084 MQTT \u30c7\u30d0\u30a4\u30b9\u3092\u7528\u3044\u3066\u3001\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u306e\u60c5\u5831\u306e\u53ce\u96c6\u3084\u30c7\u30d0\u30a4\u30b9\u3078\u306e\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u3092\u8a66\u3057\u3066\u304d\u307e\u3057\u305f\u3002\u4eca\u56de\u306f\u3001\u305d\u308c\u3089\u3092\u5fdc\u7528\u3057\u3066\u3001\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u3092\u5229\u7528\u3057\u3066\u3001 \u4f55\u3089\u304b\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u5024\u304c \u4f55\u3089\u304b\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3057\u305f\u3089 \u5225\u306e\u30c7\u30d0\u30a4\u30b9\u3067\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b \u3088\u3046\u306a\u81ea\u52d5\u5236\u5fa1\u3092\u5b9f\u969b\u306b\u8a66\u3057\u307e\u3059\u3002 \u3082\u3061\u308d\u3093\u3001\u3042\u308b\u30c7\u30d0\u30a4\u30b9\u3092\u30c8\u30ea\u30ac\u306b\u305d\u306e\u30c7\u30d0\u30a4\u30b9\u81ea\u8eab\u3092\u81ea\u52d5\u64cd\u4f5c\u3055\u305b\u308b\u3053\u3068\u53ef\u80fd\u3067\u3059\u304c\u3001\u5225\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u64cd\u4f5c\u3067\u304d\u308b\u307b\u3046\u304c\u7406\u89e3\u3057\u3084\u3059\u3044\u306e\u3067\u3001\u3053\u306e\u30e9\u30dc\u3067\u306f\u65b0\u3057\u3044\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u3072\u3068\u3064\u8ffd\u52a0\u3057\u3066\u7d44\u307f\u8fbc\u307f\u307e\u3059\u3002\u5177\u4f53\u7684\u306b\u306f\u3001 \u30eb\u30fc\u30eb 1 REST \u30c7\u30d0\u30a4\u30b9 \u304b\u3089\u9001\u3089\u308c\u308b\u5024\u304c 80 \u3092\u8d8a\u3048\u305f\u3089 MQTT \u30c7\u30d0\u30a4\u30b9 \u306b\u30e1\u30c3\u30bb\u30fc\u30b8 HIGH \u3092\u9001\u4fe1\u3059\u308b \u30eb\u30fc\u30eb 2 REST \u30c7\u30d0\u30a4\u30b9 \u304b\u3089\u9001\u3089\u308c\u308b\u5024\u304c 20 \u3092\u4e0b\u56de\u3063\u305f\u3089 MQTT \u30c7\u30d0\u30a4\u30b9 \u306b\u30e1\u30c3\u30bb\u30fc\u30b8 LOW \u3092\u9001\u4fe1\u3059\u308b \u3088\u3046\u306a\u30eb\u30fc\u30eb\u306e\u5b9f\u88c5\u3092\u76ee\u6307\u3057\u307e\u3059\u3002\u56f3\u793a\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u72b6\u614b\u3067\u3059\u3002 \u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306e\u7528\u610f \u00b6 \u30e9\u30dc\u306b\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u524d\u306e\u30e9\u30dc\u3067\u30af\u30ed\u30fc\u30f3\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u30af\u30ed\u30fc\u30f3\u3092\u5b9f\u65bd\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001Ubuntu \u4e0a\u3067\u30af\u30ed\u30fc\u30f3\u3057\u3001CPU \u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u5fdc\u3058\u3066\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u79fb\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002 amd64 git clone https://github.com/kurokobo/edgex-hol-fuji.git cd edgex-hol-fuji cd amd64 arm64 git clone https://github.com/kurokobo/edgex-hol-fuji.git cd edgex-hol-fuji cd arm64 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001 lab-support-rulesengine \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u8eab\u3092\u5229\u7528\u3057\u307e\u3059\u3002 cd lab-support-rulesengine ls -l \u30d5\u30a1\u30a4\u30eb docker-compose.yml \u306e\u307b\u304b\u30012 \u3064\u306e JSON \u30d5\u30a1\u30a4\u30eb\u3068\u30014 \u3064\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea device-service-mqtt \u3001 device-service-rest \u3001 simulator-mqtt \u3001 support-rulesengine \u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002 REST \u30c7\u30d0\u30a4\u30b9\u306e\u8ffd\u52a0 \u00b6 MQTT \u3092\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u7528\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 device-mqtt-go \u304c\u3042\u3063\u305f\u3088\u3046\u306b\u3001REST API \u3092\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u7528\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 device-rest-go \u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002 \u5916\u90e8\u306e REST API \u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b POST \u3059\u308b\u3053\u3068\u3067\u5024\u3092\u9001\u308b\u3088\u3046\u306a\u30c7\u30d0\u30a4\u30b9\u3092\u5bfe\u8c61\u3068\u3057\u3066 POST \u3055\u308c\u305f\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30dc\u30c7\u30a3\u3092\u5024\u3068\u3057\u3066 EdgeX Foundry \u306b\u53d6\u308a\u8fbc\u3080 \u3053\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u69cb\u6210\u3059\u308b\u3068\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u81ea\u8eab\u304c POST \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u4ed8\u3051\u308b\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u6301\u3064\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u304c\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e /api/v1/resource/<\u30c7\u30d0\u30a4\u30b9\u540d>/<\u30ea\u30bd\u30fc\u30b9\u540d> \u306b\u5bfe\u3057\u3066 POST \u3059\u308c\u3070\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f POST \u3055\u308c\u305f\u5024\u3092 URL \u3067\u6307\u5b9a\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u306e\u6307\u5b9a\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u306e\u5024\u3067\u3042\u308b\u3082\u306e\u3068\u3057\u3066\u53d6\u308a\u8fbc\u307f\u307e\u3059\u3002\u30c7\u30d0\u30a4\u30b9\u540d\u3084\u30ea\u30bd\u30fc\u30b9\u540d\u306f\u3001\u4ed6\u306e\u30c7\u30d0\u30a4\u30b9\u3068\u540c\u69d8\u3001\u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306a\u3069\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002 REST \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u5236\u7d04 REST \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f\u3001\u73fe\u6642\u70b9\u306e\u5b9f\u88c5\u3067\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u5074\u304b\u3089 POST \u3055\u308c\u305f\u5024\u3092\u53d6\u308a\u8fbc\u3080\u306e\u307f\u3067\u3001\u4ed6\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3068\u7570\u306a\u308a \u30c7\u30d0\u30a4\u30b9\u5074\u3078\u306e\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u306f\u3067\u304d\u306a\u3044 \u3088\u3046\u3067\u3059\u3002\u307e\u305f\u3001\u30c7\u30d0\u30a4\u30b9\u5074\u304b\u3089 JSON \u6587\u5b57\u5217\u3092 POST \u3057\u3066\u3082\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u5074\u3067\u306f\u30d1\u30fc\u30b9\u3084\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306f\u884c\u308f\u308c\u307e\u305b\u3093\u3002JSON \u6587\u5b57\u5217\u3068\u3057\u3066\u6210\u7acb\u3057\u3066\u3044\u306a\u3044\u6587\u5b57\u5217\u3092\u6295\u3052\u3066\u3082\u53d6\u308a\u8fbc\u307e\u308c\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u305d\u306e\u30c7\u30fc\u30bf\u3092\u5229\u7528\u3059\u308b\u5f8c\u7d9a\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u306a\u3069\u3067\u5225\u9014\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3092\u691c\u8a0e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u4eca\u56de\u8a66\u3059\u8a2d\u8a08 \u00b6 \u4eca\u56de\u306f\u3001 device-rest-go \u306e README.md \u3092\u53c2\u8003\u306b\u3001\u4ee5\u4e0b\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3068\u30c7\u30d0\u30a4\u30b9\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u304a\u624b\u5143\u306e device-service-rest \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b\u914d\u7f6e\u3057\u3066\u3044\u307e\u3059\u3002\u30a8\u30c7\u30a3\u30bf\u3067\u78ba\u8a8d\u3057\u3066\u3082\u3088\u3044\u3067\u3057\u3087\u3046\u3002 \u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb rest.test.device.profile.yml \u30d5\u30a1\u30a4\u30eb \u30ea\u30bd\u30fc\u30b9 int \u3068 float \u3092\u5b9a\u7fa9 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u30b3\u30f3\u30d5\u30a3\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3 configuration.toml \u30d5\u30a1\u30a4\u30eb \u4e0a\u8a18\u306e\u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306b\u7d10\u3065\u3051\u305f REST_DEVICE \u3092\u5b9a\u7fa9 \u3053\u308c\u306b\u3088\u308a\u3001 /api/v1/resource/REST_DEVICE/int /api/v1/resource/REST_DEVICE/float \u306b\u5024\u3092 POST \u3059\u308c\u3070\u53d6\u308a\u8fbc\u3093\u3067\u3082\u3089\u3048\u308b\u3088\u3046\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002\u4eca\u56de\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u306e\u5b9f\u4f53\u306f\u7528\u610f\u305b\u305a\u3001\u4eba\u9593\u304c\u30c7\u30d0\u30a4\u30b9\u306b\u6210\u308a\u4ee3\u308f\u308b\u624b\u9806\u3067\u3059\u3002\u3064\u307e\u308a\u3001 \u30c7\u30d0\u30a4\u30b9\u306b\u4ee3\u308f\u3063\u3066\u4eba\u9593\u304c\u3053\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u624b\u52d5\u3067 POST \u3059\u308b \u3053\u3068\u3067\u5024\u3092\u53d6\u308a\u8fbc\u307e\u305b\u307e\u3059\u3002 \u3053\u306e REST \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u542b\u3081\u3001\u4eca\u56de\u5206\u306e\u74b0\u5883\u306f\u3001 docker-compose.yml \u306b\u53cd\u6620\u6e08\u307f\u3067\u3059 \u8d77\u52d5\u6e96\u5099\u3068\u8d77\u52d5 \u00b6 REST \u30c7\u30d0\u30a4\u30b9\u3060\u3051\u3067\u306a\u304f MQTT \u30c7\u30d0\u30a4\u30b9\u3082\u4f7f\u3046\u306e\u3067\u3001\u3053\u308c\u3082\u6e96\u5099\u3057\u307e\u3059\u3002\u304a\u624b\u5143\u306e device-service-mqtt/configuration.toml \u306b IP \u30a2\u30c9\u30ec\u30b9\u304c\u542b\u307e\u308c\u308b\u306e\u3067\u3001\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u4fee\u6b63 \u3057\u3066\u304f\u3060\u3055\u3044\u3002\u306a\u304a\u3001MQTT \u30c7\u30d0\u30a4\u30b9\u306e\u69cb\u6210\u306f\u3001 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\uff08MQTT\uff09\u306e\u30e9\u30dc \u3068\u540c\u3058\u3067\u3059\u3002 \u4fee\u6b63\u3067\u304d\u305f\u3089\u3001MQTT \u30d6\u30ed\u30fc\u30ab\u3001MQTT \u30c7\u30d0\u30a4\u30b9\u306e\u9806\u306b\u8d77\u52d5\u3057\u307e\u3059\u3002 \u30b3\u30de\u30f3\u30c9\u306b\u3082 IP \u30a2\u30c9\u30ec\u30b9\u3092\u542b\u3093\u3067\u3044\u308b\u306e\u3067\u3001\u9069\u5b9c\u4fee\u6b63 \u3057\u3066\u304f\u3060\u3055\u3044\u3002 amd64 $ docker run -d --rm --name broker -p 1883 :1883 eclipse-mosquitto 9e1c5939be6a9c6366c2cbdad5eae5ab5c1665062125d0a8971aa030d2116a8d $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 9e1c5939be6a eclipse-mosquitto \"/docker-entrypoint.\u2026\" 6 seconds ago Up 3 seconds 0 .0.0.0:1883->1883/tcp broker $ cd simulator-mqtt $ docker run -d --restart = always --name = mqtt-scripts -v \" $( pwd ) :/scripts\" dersimn/mqtt-scripts --url mqtt://192.168.0.239 --dir /scripts Unable to find image 'dersimn/mqtt-scripts:latest' locally ... 9d52b4956ebbec60dd0f93bdf9750ff915fefd8e8c58d3ce8bc7ba1429693d2b $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 13f70f88b67b dersimn/mqtt-scripts \"node /node/index.js\u2026\" 18 seconds ago Up 16 seconds mqtt-scripts 9e1c5939be6a eclipse-mosquitto \"/docker-entrypoint.\u2026\" 16 minutes ago Up 16 minutes 0 .0.0.0:1883->1883/tcp broker arm64 $ docker run -d --rm --name broker -p 1883 :1883 eclipse-mosquitto 9e1c5939be6a9c6366c2cbdad5eae5ab5c1665062125d0a8971aa030d2116a8d $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 9e1c5939be6a eclipse-mosquitto \"/docker-entrypoint.\u2026\" 6 seconds ago Up 3 seconds 0 .0.0.0:1883->1883/tcp broker $ cd simulator-mqtt $ docker run -d --restart = always --name = mqtt-scripts -v \" $( pwd ) :/scripts\" dersimn/mqtt-scripts:armhf --url mqtt://192.168.0.239 --dir /scripts Unable to find image 'dersimn/mqtt-scripts:armhf' locally ... 9d52b4956ebbec60dd0f93bdf9750ff915fefd8e8c58d3ce8bc7ba1429693d2b $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 13f70f88b67b dersimn/mqtt-scripts:armhf \"node /node/index.js\u2026\" 18 seconds ago Up 16 seconds mqtt-scripts 9e1c5939be6a eclipse-mosquitto \"/docker-entrypoint.\u2026\" 16 minutes ago Up 16 minutes 0 .0.0.0:1883->1883/tcp broker \u6700\u5f8c\u306b\u3001EdgeX Foundry \u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 State \u304c Up \u306b\u306a\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ cd ../ $ docker-compose up -d $ docker-compose ps REST \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u52d5\u4f5c\u78ba\u8a8d \u00b6 \u8d77\u52d5\u304c\u78ba\u8a8d\u3067\u304d\u305f\u3089\u3001\u5b9f\u969b\u306b\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b POST \u3057\u3066\u3001\u30c7\u30fc\u30bf\u306e\u53d6\u308a\u8fbc\u307f\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002REST \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u5f85\u3061\u53d7\u3051\u30dd\u30fc\u30c8\u306f 49986 \u306b\uff08 docker-compose.yml \u3067\uff09\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 Content-Type \u306f text/plain \u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 -d \u304c POST \u3059\u308b\u5024\u306e\u6307\u5b9a\u3067\u3059\u3002 $ curl -X POST -H \"Content-Type: text/plain\" -d 12345 http://localhost:49986/api/v1/resource/REST_DEVICE/int edgex-device-rest \u30b3\u30f3\u30c6\u30ca\u306e\u30ed\u30b0\u3067 Pushed event to core data \u304c\u8a18\u9332\u3055\u308c\u3066\u3044\u308c\u3070\u3001\u5024\u306f\u6b63\u5e38\u306b\u53d7\u3051\u4ed8\u3051\u3089\u308c\u3066\u3044\u307e\u3059\u3002 $ docker logs --tail 5 edgex-device-rest level = DEBUG ts = 2020 -01-25T07:49:17.0621062Z app = edgex-device-rest source = resthandler.go:82 msg = \"Received POST for Device=REST_DEVICE Resource=int\" level = DEBUG ts = 2020 -01-25T07:49:17.0673842Z app = edgex-device-rest source = resthandler.go:101 msg = \"Content Type is 'text/plain' & Media Type is 'text/plain' and Type is 'Int64'\" level = DEBUG ts = 2020 -01-25T07:49:17.0726606Z app = edgex-device-rest source = resthandler.go:142 msg = \"Incoming reading received: Device=REST_DEVICE Resource=int\" level = DEBUG ts = 2020 -01-25T07:49:17.0766349Z app = edgex-device-rest source = utils.go:75 correlation-id = 946f482c-db1f-44b5-8a76-437c4ca3d3e9 msg = \"SendEvent: EventClient.MarshalEvent encoded event\" level = INFO ts = 2020 -01-25T07:49:17.0899243Z app = edgex-device-rest source = utils.go:93 Content-Type = application/json correlation-id = 946f482c-db1f-44b5-8a76-437c4ca3d3e9 msg = \"SendEvent: Pushed event to core data\" data \u30b5\u30fc\u30d3\u30b9\u3092\u78ba\u8a8d\u3059\u308b\u3068\u3001\u5b9f\u969b\u306b\u53d6\u308a\u8fbc\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002 $ curl -s http://localhost:48080/api/v1/event/device/REST_DEVICE/1 | jq [ { \"id\" : \"8361d739-f248-4149-9f39-be7a05589c93\" , \"device\" : \"REST_DEVICE\" , \"created\" : 1579938557076 , \"modified\" : 1579938557076 , \"origin\" : 1579938557075902352 , \"readings\" : [ { \"id\" : \"d624d638-2f32-4a9c-a0f0-6e7f2797a172\" , \"created\" : 1579938557073 , \"origin\" : 1579938557072646900 , \"modified\" : 1579938557073 , \"device\" : \"REST_DEVICE\" , \"name\" : \"int\" , \"value\" : \"12345\" } ] } ] MQTT \u30c7\u30d0\u30a4\u30b9\u306e\u5024\u3082\u53d6\u308a\u8fbc\u3081\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ curl -s http://localhost:48080/api/v1/event/device/MQ_DEVICE/1 | jq \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u5229\u7528 \u00b6 \u3053\u3053\u304b\u3089\u3001\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u3092\u69cb\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u6982\u8981 \u00b6 \u8a73\u7d30\u306f \u516c\u5f0f\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u304c\u308f\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u304c\u3001\u7aef\u7684\u306b\u8a00\u3048\u3070\u3001 \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u307e\u305f\u306f\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u53d6\u308b \u4e8b\u524d\u306b\u5b9a\u7fa9\u3055\u308c\u305f\u30eb\u30fc\u30eb\u306e\u6761\u4ef6\u3068\u306e\u5408\u81f4\u3092\u78ba\u8a8d\u3059\u308b \u5408\u81f4\u3057\u3066\u3044\u305f\u5834\u5408\u306f\u3001\u305d\u306e\u30eb\u30fc\u30eb\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b \u3088\u3046\u306a\u51e6\u7406\u3092\u3057\u3066\u304f\u308c\u308b\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002\u5b9f\u88c5\u306f BRMS \u306e Drools \u30d9\u30fc\u30b9\u3067\u3001Java \u88fd\u3067\u3059\u3002 \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u3078\u30c7\u30fc\u30bf\u3092\u914d\u4fe1\u3059\u308b\u69cb\u6210\u30d1\u30bf\u30f3\u306f\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u306f\u4ee5\u4e0b\u306e\u4e8c\u3064\u304c\u8aac\u660e\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 \u3068\u3057\u3066\u52d5\u4f5c\u3055\u305b\u308b\u30d1\u30bf\u30f3 \u30c7\u30fc\u30bf\u306f\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\uff08\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\uff09\u304b\u3089\u914d\u4fe1\u3055\u308c\u308b \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u76f4\u7d50 \u3055\u305b\u308b\u30d1\u30bf\u30f3 \u30c7\u30fc\u30bf\u306f\u30c7\u30fc\u30bf\u30b5\u30fc\u30d3\u30b9\u304b\u3089\u914d\u4fe1\u3055\u308c\u308b \u3053\u306e\u69cb\u6210\u30d1\u30bf\u30f3\u306e\u9078\u629e\u3084\u5177\u4f53\u7684\u306a\u63a5\u7d9a\u5148\u306e\u60c5\u5831\u306f\u3001\u6b21\u3067\u7d39\u4ecb\u3059\u308b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u524d\u8005\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u8a2d\u5b9a \u00b6 \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306b\u306f\u3044\u304f\u3064\u304b\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308a\u307e\u3059\u3002 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306b\u3042\u3089\u304b\u3058\u3081\u542b\u3081\u3089\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u8a2d\u5b9a\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u3067\u3088\u3051\u308c\u3070\u3001\u3042\u3048\u3066\u624b\u3067\u4f55\u304b\u3092\u5909\u3048\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u306e\u30e9\u30dc\u3067\u3082\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u5229\u7528\u3057\u307e\u3059\u304c\u3001\u5b9f\u88c5\u3092\u63a2\u7d22\u3059\u308b\u76ee\u7684\u3067\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u81ea\u4f53\u306f\u304a\u624b\u5143\u306e support-rulesengine \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306b\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u3002 \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u81ea\u4f53\u306e\u69cb\u6210\u3092\u8a2d\u5b9a\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u304c\u3001 application.properties \u3067\u3059\u3002\u4ee5\u4e0b\u306e export.zeromq.port \u3068 export.zeromq.host \u3067\u3001\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u304c\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u8fbc\u3080\u30bd\u30fc\u30b9\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u4eca\u56de\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u306e\u30b3\u30f3\u30c6\u30ca edgex-app-service-configurable-rules \u3067\u3059\u3002 $ cat support-rulesengine/application.properties ... #use port 5566 when connected to app-service-configurable #use port 5563 when connected to core data directly export.zeromq.port = 5566 #export.zeromq.port=5563 #export.zeromq.host=tcp://localhost export.zeromq.host = tcp://edgex-app-service-configurable-rules ... \u3082\u3046\u4e00\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3001 rule-template.drl \u3067\u3059\u3002\u3053\u308c\u306f\u30eb\u30fc\u30eb\u305d\u306e\u3082\u306e\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3057\u3066\u5229\u7528\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306b\u3064\u3044\u3066\u306f\u5f8c\u8ff0\u3057\u307e\u3059\u3002 \u30eb\u30fc\u30eb\u306e\u8a2d\u5b9a \u00b6 \u3067\u306f\u3001\u5b9f\u969b\u306b\u30eb\u30fc\u30eb\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u69cb\u6210\u306b\u306f API \u3092\u5229\u7528\u3057\u307e\u3059\u3002 GUI \u3067\u306e\u8a2d\u5b9a \u6a19\u6e96 GUI \u306b\u3082\u8a2d\u5b9a\u753b\u9762\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u4e00\u90e8\u306e\u30d7\u30eb\u30c0\u30a6\u30f3\u304c\u52d5\u4f5c\u305b\u305a\u3001\u8a2d\u5b9a\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002 \u30eb\u30fc\u30eb\u306e\u691c\u8a0e \u00b6 \u30eb\u30fc\u30eb\u306f JSON \u3067\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u542b\u3081\u308b\u5185\u5bb9\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002 { \"name\" : \"<\u30eb\u30fc\u30eb\u540d>\" , \"condition\" : { \"device\" : \"<\u30c8\u30ea\u30ac\u6761\u4ef6\u306b\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u540d>\" , \"checks\" : [ { \"parameter\" : \"<\u30c8\u30ea\u30ac\u6761\u4ef6\u306b\u3059\u308b\u30ea\u30bd\u30fc\u30b9\u540d>\" , \"operand1\" : \"<\u30c8\u30ea\u30ac\u6761\u4ef6\u306b\u3059\u308b\u5024>\" , \"operation\" : \"<\u6bd4\u8f03\u6f14\u7b97\u5b50>\" , \"operand2\" : \"<\u30c8\u30ea\u30ac\u3059\u308b\u95be\u5024>\" } ] }, \"action\" : { \"device\" : \"<\u64cd\u4f5c\u5bfe\u8c61\u306e\u30c7\u30d0\u30a4\u30b9 ID>\" , \"command\" : \"<\u64cd\u4f5c\u5bfe\u8c61\u306e\u30b3\u30de\u30f3\u30c9 ID>\" , \"body\" : \"<\u64cd\u4f5c\u5bfe\u8c61\u306e\u30b3\u30de\u30f3\u30c9\u306b PUT \u3055\u308c\u308b\u5185\u5bb9>\" }, \"log\" : \"<\u30c8\u30ea\u30ac\u3055\u308c\u305f\u3068\u304d\u306e\u30ed\u30b0\u51fa\u529b\u6587\u5b57\u5217>\" } \u5168\u4f53\u306e\u69cb\u9020\u306f\u3001 condition \u3067\u6307\u5b9a\u3057\u305f\u6761\u4ef6\u3092\u6e80\u305f\u3057\u305f\u3089 action \u3067\u6307\u5b9a\u3057\u305f\u30b3\u30de\u30f3\u30c9\u304c\u30c8\u30ea\u30ac\u3055\u308c\u308b \u3068\u601d\u3048\u3070\u3088\u3044\u3067\u3057\u3087\u3046\u3002 condition \u3067\u306e\u6307\u5b9a\u5024\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7d44\u3093\u3067\u3044\u304d\u307e\u3059\u3002 device \u30c8\u30ea\u30ac\u6761\u4ef6\u306b\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u306e\u540d\u79f0\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9 ID \u3067\u306f\u306a\u304f\u30c7\u30d0\u30a4\u30b9\u540d\u3067\u6307\u5b9a\u3059\u308b\u5fc5\u8981 \u304c\u3042\u308a\u307e\u3059 \u4eca\u56de\u306f\u3001REST \u30c7\u30d0\u30a4\u30b9\u306e\u5024\u3092\u5143\u306b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u305f\u3044\u306e\u3067\u3001 REST_DEVICE \u3092\u6307\u5b9a\u3057\u307e\u3059 parameter \u30c8\u30ea\u30ac\u6761\u4ef6\u306b\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u306e\u30ea\u30bd\u30fc\u30b9\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059 \u4eca\u56de\u306e REST_DEVICE \u306f\u30ea\u30bd\u30fc\u30b9 int \u3068 float \u3092\u6301\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u4eca\u56de\u306f int \u3092\u6307\u5b9a\u3057\u307e\u3059 operand1 \u6bd4\u8f03\u5143\u306b\u306a\u308b\u5024\u3092\u4f5c\u308a\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u306e\u5024\u306f\u5185\u90e8\u3067\u306f\u6587\u5b57\u5217\u5024\u3068\u3057\u3066\u6271\u308f\u308c\u3066\u3044\u308b \u305f\u3081\u3001\u6570\u5024\u3067\u3042\u308c\u3070\u9069\u5207\u306a\u578b\u306b\u30ad\u30e3\u30b9\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 Drools \u304c Java \u30d9\u30fc\u30b9\u306e\u305f\u3081\u3001\u3053\u3053\u3067\u306f Java \u306e\u6587\u6cd5\u3067\u66f8\u304d\u307e\u3059\u3002\u5024\u306b\u5fdc\u3058\u3066\u3001\u4f8b\u3048\u3070\u4ee5\u4e0b\u306a\u3069\u304c\u4f7f\u3044\u5206\u3051\u3089\u308c\u308b\u3067\u3057\u3087\u3046 Integer.parseInt(value) Float.parseFloat(value) operation \u6bd4\u8f03\u6f14\u7b97\u5b50\u3067\u3059\u3002 < \u3001 = \u3001 > \u304c\u5229\u7528\u3067\u304d\u307e\u3059 operand2 \u95be\u5024\u3067\u3059 action \u3067\u306e\u6307\u5b9a\u5024\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7d44\u307f\u307e\u3059\u3002 device \u5148\u307b\u3069\u3068\u7570\u306a\u308a\u3001\u3053\u3053\u3067\u306f ID \u3067\u6307\u5b9a\u3057\u307e\u3059 \u4eca\u56de\u306f MQ_DEVICE \u306e ID \u3067\u3059 \u30c7\u30d0\u30a4\u30b9\u306e ID \u306f API \u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059 command \u30b3\u30de\u30f3\u30c9\u3082 ID \u3067\u6307\u5b9a\u3057\u307e\u3059 \u4eca\u56de\u306f testmessage \u306e ID \u3067\u3059 \u30b3\u30de\u30f3\u30c9\u306e ID \u3082 API \u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059 body \u30b3\u30de\u30f3\u30c9\u306e PUT \u547d\u4ee4\u306e\u30dc\u30c7\u30a3\u3092 JSON \u5f62\u5f0f\u3067\u6307\u5b9a\u3057\u307e\u3059 \u9069\u5207\u306a\u30a8\u30b9\u30b1\u30fc\u30d7\u304c\u5fc5\u8981\u3067\u3059 \u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c8 \" \u306f\u3001\u305d\u308c\u3092\u30a8\u30b9\u30b1\u30fc\u30d7\u3057\u305f\u6587\u5b57\u5217 \\\" \u81ea\u4f53\u304c PUT \u3055\u308c\u308b\u3088\u3046\u306b\u3001\u3055\u3089\u306b\u30a8\u30b9\u30b1\u30fc\u30d7\u3057\u3066 \\\\\\\" \u3068\u3057\u307e\u3059 \u4f8b\u3048\u3070\u4eca\u56de\u3060\u3068\u3001 {\\\\\\\"message\\\\\\\":\\\\\\\"HIGH\\\\\\\"} \u3084 {\\\\\\\"message\\\\\\\":\\\\\\\"LOW\\\\\\\"} \u3067\u3059 \u30c7\u30d0\u30a4\u30b9 MQ_DEVICE \u306e ID \u3068 \u30b3\u30de\u30f3\u30c9 testmessage \u306e ID \u304c\u5fc5\u8981\u306a\u305f\u3081\u3001 metadata \u30b5\u30fc\u30d3\u30b9\u3068 command \u30b5\u30fc\u30d3\u30b9\u305d\u308c\u305e\u308c\u306b\u554f\u3044\u5408\u308f\u305b\u3066\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ curl -s http://localhost:48081/api/v1/device/name/MQ_DEVICE | jq .id \"09dae1fc-e2be-4388-9677-639d2f24c58b\" $ curl -s http://localhost:48082/api/v1/device/name/MQ_DEVICE | jq '.commands[] | select(.name==\"testmessage\") | .id' \"1c7a50e7-5424-4bce-9b9a-29849510580e\" jq \u30b3\u30de\u30f3\u30c9\u3067\u306e\u30d5\u30a3\u30eb\u30bf \u30c8\u30ea\u30c3\u30ad\u30fc\u3067\u3059\u304c\u3001 curl \u306e\u30ec\u30b9\u30dd\u30f3\u30b9\uff08JSON \u6587\u5b57\u5217\uff09\u304b\u3089\u3001 jq \u30b3\u30de\u30f3\u30c9\u306e\u30d5\u30a3\u30eb\u30bf\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u76ee\u7684\u306e ID \u306e\u307f\u3092\u53d6\u308a\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\u3082\u3061\u308d\u3093\u3001\u30d5\u30a3\u30eb\u30bf\u3057\u306a\u3044\u3067\u51fa\u529b\u3057\u305f\u4e2d\u304b\u3089\u63a2\u3057\u3066\u3082\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\u306a\u304a\u3001 jq \u306e\u5f8c\u306b\u30d1\u30a4\u30d7\u3067 grep \u3057\u305f\u3044\u5834\u5408\u306f\u3001\u30c9\u30c3\u30c8\u3092\u52a0\u3048\u3066 jq . | grep \u3068\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 ID \u304c\u5f97\u3089\u308c\u305f\u306e\u3067\u3001\u30eb\u30fc\u30eb\u3092\u7d44\u307f\u4e0a\u3052\u307e\u3059\u3002\u6700\u7d42\u7684\u306b\u3001\u4eca\u56de\u4f5c\u308a\u305f\u3044\u4ee5\u4e0b\u306e\u30eb\u30fc\u30eb\u7fa4\u306f\u4ee5\u4e0b\u3067\u3057\u305f\u3002 \u30eb\u30fc\u30eb 1 REST \u30c7\u30d0\u30a4\u30b9 \u304b\u3089\u9001\u3089\u308c\u308b\u5024\u304c 80 \u3092\u8d8a\u3048\u305f\u3089 MQTT \u30c7\u30d0\u30a4\u30b9 \u306b\u30e1\u30c3\u30bb\u30fc\u30b8 HIGH \u3092\u9001\u4fe1\u3059\u308b \u30eb\u30fc\u30eb 2 REST \u30c7\u30d0\u30a4\u30b9 \u304b\u3089\u9001\u3089\u308c\u308b\u5024\u304c 20 \u3092\u4e0b\u56de\u3063\u305f\u3089 MQTT \u30c7\u30d0\u30a4\u30b9 \u306b\u30e1\u30c3\u30bb\u30fc\u30b8 LOW \u3092\u9001\u4fe1\u3059\u308b \u3088\u3063\u3066\u3001\u3072\u3068\u3064\u3081\u306e\u30eb\u30fc\u30eb\u306f\u4ee5\u4e0b\u306e JSON \u3067\u3001 { \"name\" : \"rule_int_high\" , \"condition\" : { \"device\" : \"REST_DEVICE\" , \"checks\" : [ { \"parameter\" : \"int\" , \"operand1\" : \"Integer.parseInt(value)\" , \"operation\" : \">\" , \"operand2\" : \"80\" } ] }, \"action\" : { \"device\" : \"09dae1fc-e2be-4388-9677-639d2f24c58b\" , \"command\" : \"1c7a50e7-5424-4bce-9b9a-29849510580e\" , \"body\" : \"{\\\\\\\"message\\\\\\\":\\\\\\\"HIGH\\\\\\\"}\" }, \"log\" : \"Action triggered: The value is too high.\" } \u3075\u305f\u3064\u3081\u306e\u30eb\u30fc\u30eb\u306f\u4ee5\u4e0b\u306e JSON \u3067\u3042\u3089\u308f\u3055\u308c\u307e\u3059\u3002 { \"name\" : \"rule_int_low\" , \"condition\" : { \"device\" : \"REST_DEVICE\" , \"checks\" : [ { \"parameter\" : \"int\" , \"operand1\" : \"Integer.parseInt(value)\" , \"operation\" : \"<\" , \"operand2\" : \"20\" } ] }, \"action\" : { \"device\" : \"09dae1fc-e2be-4388-9677-639d2f24c58b\" , \"command\" : \"1c7a50e7-5424-4bce-9b9a-29849510580e\" , \"body\" : \"{\\\\\\\"message\\\\\\\":\\\\\\\"LOW\\\\\\\"}\" }, \"log\" : \"Action triggered: The value is too low.\" } \u305d\u308c\u305e\u308c\u306e\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066 rule_sample_rule_int_high.json \u3068 rule_sample_rule_int_low.json \u3092\u914d\u7f6e\u3057\u3066\u3044\u307e\u3059\u304c\u3001 ID \u306f\u74b0\u5883\u3067\u5909\u308f\u308b \u305f\u3081\u3001 \u3054\u81ea\u8eab\u306e\u74b0\u5883\u3067\u78ba\u8a8d\u3057\u305f ID \u3092\u4f7f\u3063\u3066 JSON \u3092\u7d44\u3080\u5fc5\u8981 \u304c\u3042\u308a\u307e\u3059\u3002 \u30eb\u30fc\u30eb\u306e\u6295\u5165 \u00b6 \u5b9f\u969b\u306b\u30eb\u30fc\u30eb\u3092\u6295\u5165\u3057\u307e\u3059\u3002\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u81ea\u8eab\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u3001JSON \u3092\u30ea\u30af\u30a8\u30b9\u30c8\u30dc\u30c7\u30a3\u306b\u542b\u3081\u3066 POST \u3057\u307e\u3059\u3002 http://localhost:48075/api/v1/rule \u3053\u3053\u3067\u306f\u3001\u4f5c\u696d\u7aef\u672b\u304b\u3089 Postman \u3092\u4f7f\u3063\u3066 POST \u3057\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001 URL \u4e2d\u306e\u30db\u30b9\u30c8\u540d\u306f Docker \u30db\u30b9\u30c8\u306e IP \u30a2\u30c9\u30ec\u30b9\u306b\u7f6e\u304d\u63db\u3048 \u307e\u3059\u3002 Postman \u306e Body \u306b raw \u5f62\u5f0f\u3067 JSON \u6587\u5b57\u5217\u3092\u5165\u529b\u3057\u3001 POST \u3057\u307e\u3059\u3002 true \u304c\u8fd4\u3063\u3066\u304d\u305f\u3089\u6b63\u5e38\u3067\u3059\u3002\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30eb\u30fc\u30eb\u306f\u3001\u540c\u3058 URL \u306b GET \u3059\u308b\u3068\u4e00\u89a7\u3067\u5f97\u3089\u308c\u307e\u3059\u3002 \u30eb\u30fc\u30eb\u306e\u78ba\u8a8d \u00b6 \u30eb\u30fc\u30eb\u304c\u6295\u5165\u3055\u308c\u308b\u3068\u3001\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u304c rule-template.drl \u3092\u5143\u306b\u3057\u3066\u65b0\u3057\u3044 <\u30eb\u30fc\u30eb\u540d>.drl \u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u3001\u5229\u7528\u304c\u958b\u59cb\u3055\u308c\u307e\u3059\u3002\u751f\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306f\u30b3\u30f3\u30c6\u30ca\u5185\u306b\u3042\u308b\u305f\u3081\u3001\u3053\u3053\u3067\u306f edgex-support-rulesengine \u5185\u306e\u30d5\u30a1\u30a4\u30eb\u3092 cat \u3057\u3066\u8997\u304d\u307e\u3059\u3002 $ docker exec edgex-support-rulesengine cat /edgex/edgex-support-rulesengine/rules/rule_int_high.drl package org.edgexfoundry.rules ; global org.edgexfoundry.engine.CommandExecutor executor ; global org.edgexfoundry.support.logging.client.EdgeXLogger logger ; import org.edgexfoundry.domain.core.Event ; import org.edgexfoundry.domain.core.Reading ; import java.util.Map ; rule \"rule_int_high\" when $e :Event ( $rlist : readings && device == \"REST_DEVICE\" ) $r0 :Reading ( name == \"int\" && Integer.parseInt ( value ) > 80 ) from $rlist then executor.fireCommand ( \"09dae1fc-e2be-4388-9677-639d2f24c58b\" , \"1c7a50e7-5424-4bce-9b9a-29849510580e\" , \"{\\\"message\\\":\\\"HIGH\\\"}\" ) ; logger.info ( \"Action triggered: The value is too high.\" ) ; end $ docker exec edgex-support-rulesengine cat /edgex/edgex-support-rulesengine/rules/rule_int_low.drl package org.edgexfoundry.rules ; global org.edgexfoundry.engine.CommandExecutor executor ; global org.edgexfoundry.support.logging.client.EdgeXLogger logger ; import org.edgexfoundry.domain.core.Event ; import org.edgexfoundry.domain.core.Reading ; import java.util.Map ; rule \"rule_int_low\" when $e :Event ( $rlist : readings && device == \"REST_DEVICE\" ) $r0 :Reading ( name == \"int\" && Integer.parseInt ( value ) < 20 ) from $rlist then executor.fireCommand ( \"09dae1fc-e2be-4388-9677-639d2f24c58b\" , \"1c7a50e7-5424-4bce-9b9a-29849510580e\" , \"{\\\"message\\\":\\\"LOW\\\"}\" ) ; logger.info ( \"Action triggered: The value is too low.\" ) ; end \u304a\u624b\u5143\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 rule-template.drl \u3068\u898b\u6bd4\u3079\u308b\u3068\u3001\u3069\u3053\u3068\u306a\u304f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u5c55\u958b\u3055\u308c\u3066\u3044\u308b\u69d8\u5b50\u304c\u3046\u304b\u304c\u3048\u307e\u3059\u3002 \u306a\u304a\u3001\u73fe\u5728\u306e API \u3067\u306f\u3001\u5b9a\u7fa9\u3055\u308c\u305f\u30eb\u30fc\u30eb\u306e\u540d\u79f0\u3092\u4e00\u89a7\u3067\u304d\u308b\u306e\u307f\u3067\u3001\u5177\u4f53\u7684\u306a\u30eb\u30fc\u30eb\u306e\u4e2d\u8eab\u307e\u3067\u306f\u78ba\u8a8d\u3067\u304d\u306a\u3044\u3088\u3046\u3067\u3059\u3002\u30eb\u30fc\u30eb\u306e\u4e2d\u8eab\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306b\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u52d5\u4f5c\u78ba\u8a8d \u00b6 \u3053\u3053\u304b\u3089\u3001\u30eb\u30fc\u30eb\u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u52d5\u304d\u3092\u8ffd\u3044\u3084\u3059\u304f\u3059\u308b\u305f\u3081\u3001\u65b0\u3057\u3044\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u4e8c\u3064\u958b\u304d\u3001\u305d\u308c\u305e\u308c\u3001 edgex-support-rulesengine \u306e\u30ed\u30b0\u3092\u5e38\u6642\u8868\u793a\u3055\u305b MQTT \u30d6\u30ed\u30fc\u30ab\u306e\u5168\u30c8\u30d4\u30c3\u30af\u3092\u8cfc\u8aad\u3059\u308b \u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002 $ docker logs -f --tail = 10 edgex-support-rulesengine [ 2020 -01-25 13 :44:15.023 ] boot - 6 INFO [ main ] --- ZeroMQEventSubscriber: JSON event received [ 2020 -01-25 13 :44:15.024 ] boot - 6 INFO [ main ] --- ZeroMQEventSubscriber: Event sent to rules engine for device id: MQ_DEVICE [ 2020 -01-25 13 :44:17.214 ] boot - 6 INFO [ main ] --- ZeroMQEventSubscriber: JSON event received [ 2020 -01-25 13 :44:17.216 ] boot - 6 INFO [ main ] --- ZeroMQEventSubscriber: Event sent to rules engine for device id: MQ_DEVICE ... $ docker run --init --rm --name = client -it kurokobo/mqtt-client sub -h 192 .168.0.239 -t \"#\" -v logic/connected 2 DataTopic { \"name\" : \"MQ_DEVICE\" , \"cmd\" : \"randfloat32\" , \"randfloat32\" : \"27.0\" } ... REST \u30c7\u30d0\u30a4\u30b9\u304c\u4f55\u304b\u5024\u3092\u9001\u3063\u305f\u72b6\u6cc1\u3092\u6a21\u3057\u3066\u3001\u307e\u305a\u306f\u30eb\u30fc\u30eb\u306b\u5408\u81f4\u3057\u306a\u3044\u30c7\u30fc\u30bf\u3092 REST \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306b POST \u3057\u307e\u3059\u3002 $ curl -X POST -H \"Content-Type: text/plain\" -d 50 http://localhost:49986/api/v1/resource/REST_DEVICE/int \u76f4\u5f8c\u306b\u3001\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u30ed\u30b0\u3067\u306f\u3001 REST_DEVICE \u304b\u3089\u306e\u5024\u304c\u5c4a\u3051\u3089\u308c\u305f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u3044\u305a\u308c\u306e\u30eb\u30fc\u30eb\u306b\u3082\u5408\u81f4\u3057\u306a\u3044\u5024\u3067\u3042\u308b\u305f\u3081\u3001\u3053\u3053\u3067\u306f\u4f55\u3082\u8d77\u304d\u307e\u305b\u3093\u3002 $ docker logs -f --tail = 10 edgex-support-rulesengine ... [ 2020 -01-25 13 :47:25.370 ] boot - 6 INFO [ main ] --- ZeroMQEventSubscriber: JSON event received [ 2020 -01-25 13 :47:25.466 ] boot - 6 INFO [ main ] --- ZeroMQEventSubscriber: Event sent to rules engine for device id: REST_DEVICE ... \u3064\u3065\u3044\u3066\u3001\u30eb\u30fc\u30eb\u306b\u5408\u81f4\u3059\u308b\u5024\u3092\u6295\u3052\u307e\u3059\u3002 $ curl -X POST -H \"Content-Type: text/plain\" -d 90 http://localhost:49986/api/v1/resource/REST_DEVICE/int \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u30ed\u30b0\u3067\u306f\u3001\u6307\u5b9a\u3057\u305f\u30ed\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8a18\u9332\u3055\u308c\u3001 {\"message\":\"HIGH\"} \u304c\u6307\u5b9a\u3057\u305f\u30b3\u30de\u30f3\u30c9\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002 $ docker logs -f --tail = 10 edgex-support-rulesengine ... [ 2020 -01-25 13 :57:26.805 ] boot - 6 INFO [ main ] --- ZeroMQEventSubscriber: JSON event received [ 2020 -01-25 13 :57:26.853 ] boot - 6 INFO [ main ] --- RuleEngine: Action triggered: The value is too high. [ 2020 -01-25 13 :57:26.853 ] boot - 6 INFO [ SimpleAsyncTaskExecutor-2 ] --- CommandExecutor: Sending request to: 09dae1fc-e2be-4388-9677-639d2f24c58bfor command: 1c7a50e7-5424-4bce-9b9a-29849510580e with body: { \"message\" : \"HIGH\" } [ 2020 -01-25 13 :57:26.866 ] boot - 6 INFO [ main ] --- RuleEngine: Event triggered 1rules: Event [ pushed = 0 , device = REST_DEVICE, readings =[ Reading [ pushed = 0 , name = int, value = 90 , device = REST_DEVICE ]] , toString ()= BaseObject [ id = 538aea34-b4ce-4342-88a9-6c08cdac080e, created = 0 , modified = 0 , origin = 1579960646793054700 ]] ... MQTT \u30c8\u30d4\u30c3\u30af\u304b\u3089\u306f\u3001MQTT \u30c7\u30d0\u30a4\u30b9\u306b\u5bfe\u3059\u308b\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u304c\u884c\u308f\u308c\u305f\u69d8\u5b50\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 $ docker run --init --rm --name = client -it kurokobo/mqtt-client sub -h 192 .168.0.239 -t \"#\" -v ... CommandTopic { \"cmd\" : \"message\" , \"message\" : \"HIGH\" , \"method\" : \"set\" , \"uuid\" : \"5e2c4946b8dd790001754b8b\" } ResponseTopic { \"cmd\" : \"message\" , \"message\" : \"HIGH\" , \"method\" : \"set\" , \"uuid\" : \"5e2c4946b8dd790001754b8b\" } ... \u8a66\u3057\u306b\u3053\u306e\u6bb5\u968e\u3067 MQTT \u30c7\u30d0\u30a4\u30b9\u306e testmessage \u30b3\u30de\u30f3\u30c9\u306b GET \u3057\u3066\u307f\u308b\u3068\u3001\u5024\u304c\u72d9\u3044\u901a\u308a\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002 $ curl -s http://localhost:48082/api/v1/device/name/MQ_DEVICE/command/testmessage | jq { \"device\" : \"MQ_DEVICE\" , \"origin\" : 1579960983817888000 , \"readings\" : [ { \"origin\" : 1579960983809258000 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"message\" , \"value\" : \"HIGH\" } ] , \"EncodedEvent\" : null } \u540c\u69d8\u306b\u3001\u3075\u305f\u3064\u3081\u306e\u30eb\u30fc\u30eb\u306b\u5408\u81f4\u3059\u308b\u5024\u3092\u6295\u3052\u307e\u3059\u3002 $ curl -X POST -H \"Content-Type: text/plain\" -d 10 http://localhost:49986/api/v1/resource/REST_DEVICE/int \u30ed\u30b0\u3084\u30c8\u30d4\u30c3\u30af\u304b\u3089\u3001\u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u884c\u3055\u308c\u305f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u3001\u6700\u7d42\u7684\u306b\u306f MQTT \u30c7\u30d0\u30a4\u30b9\u5074\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 $ curl -s http://localhost:48082/api/v1/device/name/MQ_DEVICE/command/testmessage | jq { \"device\" : \"MQ_DEVICE\" , \"origin\" : 1579961107845061000 , \"readings\" : [ { \"origin\" : 1579961107837083000 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"message\" , \"value\" : \"LOW\" } ] , \"EncodedEvent\" : null } \u74b0\u5883\u306e\u505c\u6b62 \u00b6 \u5f8c\u7d9a\u306e\u30e9\u30dc\u3067\u306f\u3001\u73fe\u5728\u5229\u7528\u3057\u3066\u3044\u308b\u3082\u306e\u3068\u306f\u5225\u306e docker-compose.yml \u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3057\u307e\u3059\u306e\u3067\u3001\u4eca\u56de\u306e\u3053\u306e\u74b0\u5883\u306f\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002 \u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u4f5c\u6210\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u3068\u3001\u81ea\u52d5\u3067\u4f5c\u6210\u3055\u308c\u305f\u6c38\u7d9a\u30dc\u30ea\u30e5\u30fc\u30e0\u9818\u57df\u3092\u524a\u9664\u3057\u307e\u3059\u3002 $ docker-compose down --volumes Stopping edgex-ui-go ... done ... Removing image portainer/portainer \u307e\u305f\u3001\u52d5\u4f5c\u3055\u305b\u3066\u3044\u308b MQTT \u30d6\u30ed\u30fc\u30ab\u3068\u30c7\u30d0\u30a4\u30b9\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3082\u505c\u6b62\u3055\u305b\u307e\u3059\u3002\u30b3\u30f3\u30c6\u30ca\u306e\u30ed\u30b0\u3092\u78ba\u8a8d\u3057\u3066\u3044\u305f\u30bf\u30fc\u30df\u30ca\u30eb\u3084\u3001MQTT \u30c8\u30d4\u30c3\u30af\u3092\u8cfc\u8aad\u3057\u3066\u3044\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u304c\u6b8b\u3063\u3066\u3044\u308c\u3070\u3001 Ctrl + C \u3067\u7d42\u4e86\u3057\u307e\u3059\u3002 $ docker stop broker $ docker rm -f mqtt-scripts \u4e0d\u8981\u306a\u30b3\u30f3\u30c6\u30ca\u304c\u6b8b\u3063\u3066\u3044\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES \u307e\u3068\u3081 \u00b6 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001\u4ee5\u4e0b\u3092\u53d6\u308a\u6271\u3044\u307e\u3057\u305f\u3002 \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u6982\u8981\u3068\u8003\u3048\u65b9\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f \u4efb\u610f\u306e\u30eb\u30fc\u30eb\u306e\u69cb\u6210\u65b9\u6cd5\u3092\u5b9f\u8df5\u3057\u3001\u5b9f\u969b\u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f \u4eca\u56de\u306f\u3001\u30eb\u30fc\u30eb\u3092 curl \u30b3\u30de\u30f3\u30c9\u3067\u7121\u7406\u3084\u308a\u30c8\u30ea\u30ac\u3055\u305b\u305f\u306b\u7b49\u3057\u3044\u72b6\u6cc1\u3067\u3057\u305f\u304c\u3001\u3082\u3061\u308d\u3093\u672c\u6765\u306f\u3001\u4f55\u3089\u304b\u306e\u30bb\u30f3\u30b5\u306e\u5024\u306a\u3069\u3092\u30c8\u30ea\u30ac\u306b\u5225\u306e\u30a2\u30af\u30c1\u30e5\u30a8\u30fc\u30bf\u3092\u52d5\u304b\u3059\u3088\u3046\u306a\u4f7f\u3044\u65b9\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002","title":"Lab 5 - \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u5229\u7528"},{"location":"fuji/lab-support-rulesengine/#lab-5-","text":"\u3053\u306e\u30e9\u30dc\u3067\u306f\u3001EdgeX Foundry \u306e\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u3092\u69cb\u6210\u3057\u3066\u3001\u3042\u308b\u30c7\u30d0\u30a4\u30b9\u306e\u72b6\u614b\u306e\u5909\u5316\u3092\u30c8\u30ea\u30ac\u306b\u3057\u3066\u5225\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u81ea\u52d5\u3067\u64cd\u4f5c\u3055\u305b\u308b\u624b\u6cd5\u3092\u5b9f\u8df5\u3057\u307e\u3059\u3002 \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u5c06\u6765\u6027 Fuji \u30ea\u30ea\u30fc\u30b9\u6a19\u6e96\u306e\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3 support-rulesengine \u306e\u5b9f\u88c5\u306f Drools \u3067\u3059\u304c\u3001Geneva \u30ea\u30ea\u30fc\u30b9\u4ee5\u964d\u306f EMQ X Kuiper \u306b\u7f6e\u304d\u63db\u308f\u3063\u3066\u3044\u304f\u4e88\u5b9a\u306e\u3088\u3046\u3067\u3059\u3002\u4e21\u8005\u306e\u5b9f\u88c5\u3068\u5229\u7528\u65b9\u6cd5\u306f\u5927\u304d\u304f\u7570\u306a\u308b\u305f\u3081\u3001\u3053\u306e\u30e9\u30dc\u306e\u5185\u5bb9\u306f Kuiper \u306b\u306f\u9069\u7528\u3067\u304d\u307e\u305b\u3093\u3002","title":"Lab 5 - \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u5229\u7528"},{"location":"fuji/lab-support-rulesengine/#_1","text":"\u3053\u306e\u30e9\u30dc\u306e\u76ee\u7684\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002 \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u6982\u8981\u3068\u8003\u3048\u65b9\u3092\u7406\u89e3\u3059\u308b \u4efb\u610f\u306e\u30eb\u30fc\u30eb\u306e\u69cb\u6210\u65b9\u6cd5\u3092\u7406\u89e3\u3059\u308b \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001Docker Compose \u3092\u5229\u7528\u3057\u3066\u3001Ubuntu \u4e0a\u306e Docker \u30b3\u30f3\u30c6\u30ca\u7fa4\u3068\u3057\u3066 EdgeX Foundry \u3092\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002\u307e\u305f\u3001\u81ea\u52d5\u5236\u5fa1\u5bfe\u8c61\u3068\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3068\u3001\u305d\u308c\u304c\u5229\u7528\u3059\u308b MQTT \u306e\u30d6\u30ed\u30fc\u30ab\u3082 Docker \u30b3\u30f3\u30c6\u30ca\u3068\u3057\u3066\u8d77\u52d5\u3055\u305b\u307e\u3059\u3002 \u3053\u308c\u307e\u3067\u306e\u30e9\u30dc\u3067\u306f\u3001\u4eee\u60f3\u30c7\u30d0\u30a4\u30b9\u3084 MQTT \u30c7\u30d0\u30a4\u30b9\u3092\u7528\u3044\u3066\u3001\u30c7\u30d0\u30a4\u30b9\u304b\u3089\u306e\u60c5\u5831\u306e\u53ce\u96c6\u3084\u30c7\u30d0\u30a4\u30b9\u3078\u306e\u30b3\u30de\u30f3\u30c9\u306e\u5b9f\u884c\u3092\u8a66\u3057\u3066\u304d\u307e\u3057\u305f\u3002\u4eca\u56de\u306f\u3001\u305d\u308c\u3089\u3092\u5fdc\u7528\u3057\u3066\u3001\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u3092\u5229\u7528\u3057\u3066\u3001 \u4f55\u3089\u304b\u306e\u30c7\u30d0\u30a4\u30b9\u306e\u30ea\u30bd\u30fc\u30b9\u306e\u5024\u304c \u4f55\u3089\u304b\u306e\u6761\u4ef6\u3092\u6e80\u305f\u3057\u305f\u3089 \u5225\u306e\u30c7\u30d0\u30a4\u30b9\u3067\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b \u3088\u3046\u306a\u81ea\u52d5\u5236\u5fa1\u3092\u5b9f\u969b\u306b\u8a66\u3057\u307e\u3059\u3002 \u3082\u3061\u308d\u3093\u3001\u3042\u308b\u30c7\u30d0\u30a4\u30b9\u3092\u30c8\u30ea\u30ac\u306b\u305d\u306e\u30c7\u30d0\u30a4\u30b9\u81ea\u8eab\u3092\u81ea\u52d5\u64cd\u4f5c\u3055\u305b\u308b\u3053\u3068\u53ef\u80fd\u3067\u3059\u304c\u3001\u5225\u306e\u30c7\u30d0\u30a4\u30b9\u3092\u64cd\u4f5c\u3067\u304d\u308b\u307b\u3046\u304c\u7406\u89e3\u3057\u3084\u3059\u3044\u306e\u3067\u3001\u3053\u306e\u30e9\u30dc\u3067\u306f\u65b0\u3057\u3044\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u3072\u3068\u3064\u8ffd\u52a0\u3057\u3066\u7d44\u307f\u8fbc\u307f\u307e\u3059\u3002\u5177\u4f53\u7684\u306b\u306f\u3001 \u30eb\u30fc\u30eb 1 REST \u30c7\u30d0\u30a4\u30b9 \u304b\u3089\u9001\u3089\u308c\u308b\u5024\u304c 80 \u3092\u8d8a\u3048\u305f\u3089 MQTT \u30c7\u30d0\u30a4\u30b9 \u306b\u30e1\u30c3\u30bb\u30fc\u30b8 HIGH \u3092\u9001\u4fe1\u3059\u308b \u30eb\u30fc\u30eb 2 REST \u30c7\u30d0\u30a4\u30b9 \u304b\u3089\u9001\u3089\u308c\u308b\u5024\u304c 20 \u3092\u4e0b\u56de\u3063\u305f\u3089 MQTT \u30c7\u30d0\u30a4\u30b9 \u306b\u30e1\u30c3\u30bb\u30fc\u30b8 LOW \u3092\u9001\u4fe1\u3059\u308b \u3088\u3046\u306a\u30eb\u30fc\u30eb\u306e\u5b9f\u88c5\u3092\u76ee\u6307\u3057\u307e\u3059\u3002\u56f3\u793a\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u72b6\u614b\u3067\u3059\u3002","title":"\u3053\u306e\u30e9\u30dc\u306e\u30b4\u30fc\u30eb\u3068\u69cb\u6210"},{"location":"fuji/lab-support-rulesengine/#_2","text":"\u30e9\u30dc\u306b\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u524d\u306e\u30e9\u30dc\u3067\u30af\u30ed\u30fc\u30f3\u3057\u305f\u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u542b\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u30af\u30ed\u30fc\u30f3\u3092\u5b9f\u65bd\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001Ubuntu \u4e0a\u3067\u30af\u30ed\u30fc\u30f3\u3057\u3001CPU \u306e\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306b\u5fdc\u3058\u3066\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u79fb\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002 amd64 git clone https://github.com/kurokobo/edgex-hol-fuji.git cd edgex-hol-fuji cd amd64 arm64 git clone https://github.com/kurokobo/edgex-hol-fuji.git cd edgex-hol-fuji cd arm64 \u3053\u306e\u30e9\u30dc\u3067\u306f\u3001 lab-support-rulesengine \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u8eab\u3092\u5229\u7528\u3057\u307e\u3059\u3002 cd lab-support-rulesengine ls -l \u30d5\u30a1\u30a4\u30eb docker-compose.yml \u306e\u307b\u304b\u30012 \u3064\u306e JSON \u30d5\u30a1\u30a4\u30eb\u3068\u30014 \u3064\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea device-service-mqtt \u3001 device-service-rest \u3001 simulator-mqtt \u3001 support-rulesengine \u304c\u5b58\u5728\u3057\u3066\u3044\u308b\u306f\u305a\u3067\u3059\u3002","title":"\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306e\u7528\u610f"},{"location":"fuji/lab-support-rulesengine/#rest","text":"MQTT \u3092\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u7528\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 device-mqtt-go \u304c\u3042\u3063\u305f\u3088\u3046\u306b\u3001REST API \u3092\u5229\u7528\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u7528\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9 device-rest-go \u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f\u3001\u6b21\u306e\u3088\u3046\u306a\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002 \u5916\u90e8\u306e REST API \u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b POST \u3059\u308b\u3053\u3068\u3067\u5024\u3092\u9001\u308b\u3088\u3046\u306a\u30c7\u30d0\u30a4\u30b9\u3092\u5bfe\u8c61\u3068\u3057\u3066 POST \u3055\u308c\u305f\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u30dc\u30c7\u30a3\u3092\u5024\u3068\u3057\u3066 EdgeX Foundry \u306b\u53d6\u308a\u8fbc\u3080 \u3053\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u69cb\u6210\u3059\u308b\u3068\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u81ea\u8eab\u304c POST \u30ea\u30af\u30a8\u30b9\u30c8\u3092\u53d7\u3051\u4ed8\u3051\u308b\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u3092\u6301\u3064\u3088\u3046\u306b\u306a\u308a\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u304c\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e /api/v1/resource/<\u30c7\u30d0\u30a4\u30b9\u540d>/<\u30ea\u30bd\u30fc\u30b9\u540d> \u306b\u5bfe\u3057\u3066 POST \u3059\u308c\u3070\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f POST \u3055\u308c\u305f\u5024\u3092 URL \u3067\u6307\u5b9a\u3057\u305f\u30c7\u30d0\u30a4\u30b9\u306e\u6307\u5b9a\u3057\u305f\u30ea\u30bd\u30fc\u30b9\u306e\u5024\u3067\u3042\u308b\u3082\u306e\u3068\u3057\u3066\u53d6\u308a\u8fbc\u307f\u307e\u3059\u3002\u30c7\u30d0\u30a4\u30b9\u540d\u3084\u30ea\u30bd\u30fc\u30b9\u540d\u306f\u3001\u4ed6\u306e\u30c7\u30d0\u30a4\u30b9\u3068\u540c\u69d8\u3001\u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306a\u3069\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u5b9a\u7fa9\u3067\u304d\u307e\u3059\u3002 REST \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u5236\u7d04 REST \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306f\u3001\u73fe\u6642\u70b9\u306e\u5b9f\u88c5\u3067\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u5074\u304b\u3089 POST \u3055\u308c\u305f\u5024\u3092\u53d6\u308a\u8fbc\u3080\u306e\u307f\u3067\u3001\u4ed6\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3068\u7570\u306a\u308a \u30c7\u30d0\u30a4\u30b9\u5074\u3078\u306e\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u306f\u3067\u304d\u306a\u3044 \u3088\u3046\u3067\u3059\u3002\u307e\u305f\u3001\u30c7\u30d0\u30a4\u30b9\u5074\u304b\u3089 JSON \u6587\u5b57\u5217\u3092 POST \u3057\u3066\u3082\u3001\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u5074\u3067\u306f\u30d1\u30fc\u30b9\u3084\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u306f\u884c\u308f\u308c\u307e\u305b\u3093\u3002JSON \u6587\u5b57\u5217\u3068\u3057\u3066\u6210\u7acb\u3057\u3066\u3044\u306a\u3044\u6587\u5b57\u5217\u3092\u6295\u3052\u3066\u3082\u53d6\u308a\u8fbc\u307e\u308c\u3066\u3057\u307e\u3046\u305f\u3081\u3001\u305d\u306e\u30c7\u30fc\u30bf\u3092\u5229\u7528\u3059\u308b\u5f8c\u7d9a\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u306a\u3069\u3067\u5225\u9014\u30d0\u30ea\u30c7\u30fc\u30b7\u30e7\u30f3\u3092\u691c\u8a0e\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002","title":"REST \u30c7\u30d0\u30a4\u30b9\u306e\u8ffd\u52a0"},{"location":"fuji/lab-support-rulesengine/#_3","text":"\u4eca\u56de\u306f\u3001 device-rest-go \u306e README.md \u3092\u53c2\u8003\u306b\u3001\u4ee5\u4e0b\u306e\u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3068\u30c7\u30d0\u30a4\u30b9\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002\u304a\u624b\u5143\u306e device-service-rest \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5185\u306b\u914d\u7f6e\u3057\u3066\u3044\u307e\u3059\u3002\u30a8\u30c7\u30a3\u30bf\u3067\u78ba\u8a8d\u3057\u3066\u3082\u3088\u3044\u3067\u3057\u3087\u3046\u3002 \u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb rest.test.device.profile.yml \u30d5\u30a1\u30a4\u30eb \u30ea\u30bd\u30fc\u30b9 int \u3068 float \u3092\u5b9a\u7fa9 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u30b3\u30f3\u30d5\u30a3\u30b0\u30ec\u30fc\u30b7\u30e7\u30f3 configuration.toml \u30d5\u30a1\u30a4\u30eb \u4e0a\u8a18\u306e\u30c7\u30d0\u30a4\u30b9\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u306b\u7d10\u3065\u3051\u305f REST_DEVICE \u3092\u5b9a\u7fa9 \u3053\u308c\u306b\u3088\u308a\u3001 /api/v1/resource/REST_DEVICE/int /api/v1/resource/REST_DEVICE/float \u306b\u5024\u3092 POST \u3059\u308c\u3070\u53d6\u308a\u8fbc\u3093\u3067\u3082\u3089\u3048\u308b\u3088\u3046\u306b\u306a\u308b\u306f\u305a\u3067\u3059\u3002\u4eca\u56de\u306f\u3001\u30c7\u30d0\u30a4\u30b9\u306e\u5b9f\u4f53\u306f\u7528\u610f\u305b\u305a\u3001\u4eba\u9593\u304c\u30c7\u30d0\u30a4\u30b9\u306b\u6210\u308a\u4ee3\u308f\u308b\u624b\u9806\u3067\u3059\u3002\u3064\u307e\u308a\u3001 \u30c7\u30d0\u30a4\u30b9\u306b\u4ee3\u308f\u3063\u3066\u4eba\u9593\u304c\u3053\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u624b\u52d5\u3067 POST \u3059\u308b \u3053\u3068\u3067\u5024\u3092\u53d6\u308a\u8fbc\u307e\u305b\u307e\u3059\u3002 \u3053\u306e REST \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u3092\u542b\u3081\u3001\u4eca\u56de\u5206\u306e\u74b0\u5883\u306f\u3001 docker-compose.yml \u306b\u53cd\u6620\u6e08\u307f\u3067\u3059","title":"\u4eca\u56de\u8a66\u3059\u8a2d\u8a08"},{"location":"fuji/lab-support-rulesengine/#_4","text":"REST \u30c7\u30d0\u30a4\u30b9\u3060\u3051\u3067\u306a\u304f MQTT \u30c7\u30d0\u30a4\u30b9\u3082\u4f7f\u3046\u306e\u3067\u3001\u3053\u308c\u3082\u6e96\u5099\u3057\u307e\u3059\u3002\u304a\u624b\u5143\u306e device-service-mqtt/configuration.toml \u306b IP \u30a2\u30c9\u30ec\u30b9\u304c\u542b\u307e\u308c\u308b\u306e\u3067\u3001\u74b0\u5883\u306b\u5408\u308f\u305b\u3066\u4fee\u6b63 \u3057\u3066\u304f\u3060\u3055\u3044\u3002\u306a\u304a\u3001MQTT \u30c7\u30d0\u30a4\u30b9\u306e\u69cb\u6210\u306f\u3001 \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\uff08MQTT\uff09\u306e\u30e9\u30dc \u3068\u540c\u3058\u3067\u3059\u3002 \u4fee\u6b63\u3067\u304d\u305f\u3089\u3001MQTT \u30d6\u30ed\u30fc\u30ab\u3001MQTT \u30c7\u30d0\u30a4\u30b9\u306e\u9806\u306b\u8d77\u52d5\u3057\u307e\u3059\u3002 \u30b3\u30de\u30f3\u30c9\u306b\u3082 IP \u30a2\u30c9\u30ec\u30b9\u3092\u542b\u3093\u3067\u3044\u308b\u306e\u3067\u3001\u9069\u5b9c\u4fee\u6b63 \u3057\u3066\u304f\u3060\u3055\u3044\u3002 amd64 $ docker run -d --rm --name broker -p 1883 :1883 eclipse-mosquitto 9e1c5939be6a9c6366c2cbdad5eae5ab5c1665062125d0a8971aa030d2116a8d $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 9e1c5939be6a eclipse-mosquitto \"/docker-entrypoint.\u2026\" 6 seconds ago Up 3 seconds 0 .0.0.0:1883->1883/tcp broker $ cd simulator-mqtt $ docker run -d --restart = always --name = mqtt-scripts -v \" $( pwd ) :/scripts\" dersimn/mqtt-scripts --url mqtt://192.168.0.239 --dir /scripts Unable to find image 'dersimn/mqtt-scripts:latest' locally ... 9d52b4956ebbec60dd0f93bdf9750ff915fefd8e8c58d3ce8bc7ba1429693d2b $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 13f70f88b67b dersimn/mqtt-scripts \"node /node/index.js\u2026\" 18 seconds ago Up 16 seconds mqtt-scripts 9e1c5939be6a eclipse-mosquitto \"/docker-entrypoint.\u2026\" 16 minutes ago Up 16 minutes 0 .0.0.0:1883->1883/tcp broker arm64 $ docker run -d --rm --name broker -p 1883 :1883 eclipse-mosquitto 9e1c5939be6a9c6366c2cbdad5eae5ab5c1665062125d0a8971aa030d2116a8d $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 9e1c5939be6a eclipse-mosquitto \"/docker-entrypoint.\u2026\" 6 seconds ago Up 3 seconds 0 .0.0.0:1883->1883/tcp broker $ cd simulator-mqtt $ docker run -d --restart = always --name = mqtt-scripts -v \" $( pwd ) :/scripts\" dersimn/mqtt-scripts:armhf --url mqtt://192.168.0.239 --dir /scripts Unable to find image 'dersimn/mqtt-scripts:armhf' locally ... 9d52b4956ebbec60dd0f93bdf9750ff915fefd8e8c58d3ce8bc7ba1429693d2b $ docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES 13f70f88b67b dersimn/mqtt-scripts:armhf \"node /node/index.js\u2026\" 18 seconds ago Up 16 seconds mqtt-scripts 9e1c5939be6a eclipse-mosquitto \"/docker-entrypoint.\u2026\" 16 minutes ago Up 16 minutes 0 .0.0.0:1883->1883/tcp broker \u6700\u5f8c\u306b\u3001EdgeX Foundry \u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 State \u304c Up \u306b\u306a\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ cd ../ $ docker-compose up -d $ docker-compose ps","title":"\u8d77\u52d5\u6e96\u5099\u3068\u8d77\u52d5"},{"location":"fuji/lab-support-rulesengine/#rest_1","text":"\u8d77\u52d5\u304c\u78ba\u8a8d\u3067\u304d\u305f\u3089\u3001\u5b9f\u969b\u306b\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b POST \u3057\u3066\u3001\u30c7\u30fc\u30bf\u306e\u53d6\u308a\u8fbc\u307f\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002REST \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u5f85\u3061\u53d7\u3051\u30dd\u30fc\u30c8\u306f 49986 \u306b\uff08 docker-compose.yml \u3067\uff09\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 Content-Type \u306f text/plain \u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 -d \u304c POST \u3059\u308b\u5024\u306e\u6307\u5b9a\u3067\u3059\u3002 $ curl -X POST -H \"Content-Type: text/plain\" -d 12345 http://localhost:49986/api/v1/resource/REST_DEVICE/int edgex-device-rest \u30b3\u30f3\u30c6\u30ca\u306e\u30ed\u30b0\u3067 Pushed event to core data \u304c\u8a18\u9332\u3055\u308c\u3066\u3044\u308c\u3070\u3001\u5024\u306f\u6b63\u5e38\u306b\u53d7\u3051\u4ed8\u3051\u3089\u308c\u3066\u3044\u307e\u3059\u3002 $ docker logs --tail 5 edgex-device-rest level = DEBUG ts = 2020 -01-25T07:49:17.0621062Z app = edgex-device-rest source = resthandler.go:82 msg = \"Received POST for Device=REST_DEVICE Resource=int\" level = DEBUG ts = 2020 -01-25T07:49:17.0673842Z app = edgex-device-rest source = resthandler.go:101 msg = \"Content Type is 'text/plain' & Media Type is 'text/plain' and Type is 'Int64'\" level = DEBUG ts = 2020 -01-25T07:49:17.0726606Z app = edgex-device-rest source = resthandler.go:142 msg = \"Incoming reading received: Device=REST_DEVICE Resource=int\" level = DEBUG ts = 2020 -01-25T07:49:17.0766349Z app = edgex-device-rest source = utils.go:75 correlation-id = 946f482c-db1f-44b5-8a76-437c4ca3d3e9 msg = \"SendEvent: EventClient.MarshalEvent encoded event\" level = INFO ts = 2020 -01-25T07:49:17.0899243Z app = edgex-device-rest source = utils.go:93 Content-Type = application/json correlation-id = 946f482c-db1f-44b5-8a76-437c4ca3d3e9 msg = \"SendEvent: Pushed event to core data\" data \u30b5\u30fc\u30d3\u30b9\u3092\u78ba\u8a8d\u3059\u308b\u3068\u3001\u5b9f\u969b\u306b\u53d6\u308a\u8fbc\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002 $ curl -s http://localhost:48080/api/v1/event/device/REST_DEVICE/1 | jq [ { \"id\" : \"8361d739-f248-4149-9f39-be7a05589c93\" , \"device\" : \"REST_DEVICE\" , \"created\" : 1579938557076 , \"modified\" : 1579938557076 , \"origin\" : 1579938557075902352 , \"readings\" : [ { \"id\" : \"d624d638-2f32-4a9c-a0f0-6e7f2797a172\" , \"created\" : 1579938557073 , \"origin\" : 1579938557072646900 , \"modified\" : 1579938557073 , \"device\" : \"REST_DEVICE\" , \"name\" : \"int\" , \"value\" : \"12345\" } ] } ] MQTT \u30c7\u30d0\u30a4\u30b9\u306e\u5024\u3082\u53d6\u308a\u8fbc\u3081\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ curl -s http://localhost:48080/api/v1/event/device/MQ_DEVICE/1 | jq","title":"REST \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306e\u52d5\u4f5c\u78ba\u8a8d"},{"location":"fuji/lab-support-rulesengine/#_5","text":"\u3053\u3053\u304b\u3089\u3001\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u3092\u69cb\u6210\u3057\u3066\u3044\u304d\u307e\u3059\u3002","title":"\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u5229\u7528"},{"location":"fuji/lab-support-rulesengine/#_6","text":"\u8a73\u7d30\u306f \u516c\u5f0f\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 \u304c\u308f\u304b\u308a\u3084\u3059\u3044\u3067\u3059\u304c\u3001\u7aef\u7684\u306b\u8a00\u3048\u3070\u3001 \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u307e\u305f\u306f\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u304b\u3089\u30c7\u30fc\u30bf\u3092\u53d7\u3051\u53d6\u308b \u4e8b\u524d\u306b\u5b9a\u7fa9\u3055\u308c\u305f\u30eb\u30fc\u30eb\u306e\u6761\u4ef6\u3068\u306e\u5408\u81f4\u3092\u78ba\u8a8d\u3059\u308b \u5408\u81f4\u3057\u3066\u3044\u305f\u5834\u5408\u306f\u3001\u305d\u306e\u30eb\u30fc\u30eb\u3067\u5b9a\u7fa9\u3055\u308c\u305f\u30a2\u30af\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b \u3088\u3046\u306a\u51e6\u7406\u3092\u3057\u3066\u304f\u308c\u308b\u30b5\u30fc\u30d3\u30b9\u3067\u3059\u3002\u5b9f\u88c5\u306f BRMS \u306e Drools \u30d9\u30fc\u30b9\u3067\u3001Java \u88fd\u3067\u3059\u3002 \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u3078\u30c7\u30fc\u30bf\u3092\u914d\u4fe1\u3059\u308b\u69cb\u6210\u30d1\u30bf\u30f3\u306f\u3001\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3067\u306f\u4ee5\u4e0b\u306e\u4e8c\u3064\u304c\u8aac\u660e\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\u306e\u30af\u30e9\u30a4\u30a2\u30f3\u30c8 \u3068\u3057\u3066\u52d5\u4f5c\u3055\u305b\u308b\u30d1\u30bf\u30f3 \u30c7\u30fc\u30bf\u306f\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u30b5\u30fc\u30d3\u30b9\uff08\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\uff09\u304b\u3089\u914d\u4fe1\u3055\u308c\u308b \u30b3\u30a2\u30b5\u30fc\u30d3\u30b9\u306b\u76f4\u7d50 \u3055\u305b\u308b\u30d1\u30bf\u30f3 \u30c7\u30fc\u30bf\u306f\u30c7\u30fc\u30bf\u30b5\u30fc\u30d3\u30b9\u304b\u3089\u914d\u4fe1\u3055\u308c\u308b \u3053\u306e\u69cb\u6210\u30d1\u30bf\u30f3\u306e\u9078\u629e\u3084\u5177\u4f53\u7684\u306a\u63a5\u7d9a\u5148\u306e\u60c5\u5831\u306f\u3001\u6b21\u3067\u7d39\u4ecb\u3059\u308b\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3067\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u524d\u8005\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002","title":"\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u6982\u8981"},{"location":"fuji/lab-support-rulesengine/#_7","text":"\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306b\u306f\u3044\u304f\u3064\u304b\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u304c\u3042\u308a\u307e\u3059\u3002 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306f\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306b\u3042\u3089\u304b\u3058\u3081\u542b\u3081\u3089\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u8a2d\u5b9a\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u3067\u3088\u3051\u308c\u3070\u3001\u3042\u3048\u3066\u624b\u3067\u4f55\u304b\u3092\u5909\u3048\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u3053\u306e\u30e9\u30dc\u3067\u3082\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u5229\u7528\u3057\u307e\u3059\u304c\u3001\u5b9f\u88c5\u3092\u63a2\u7d22\u3059\u308b\u76ee\u7684\u3067\u3001\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u81ea\u4f53\u306f\u304a\u624b\u5143\u306e support-rulesengine \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u914d\u4e0b\u306b\u7528\u610f\u3057\u3066\u3044\u307e\u3059\u3002 \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u81ea\u4f53\u306e\u69cb\u6210\u3092\u8a2d\u5b9a\u3059\u308b\u30d5\u30a1\u30a4\u30eb\u304c\u3001 application.properties \u3067\u3059\u3002\u4ee5\u4e0b\u306e export.zeromq.port \u3068 export.zeromq.host \u3067\u3001\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u304c\u30c7\u30fc\u30bf\u3092\u53d6\u308a\u8fbc\u3080\u30bd\u30fc\u30b9\u3092\u6307\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002\u4eca\u56de\u306f\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b5\u30fc\u30d3\u30b9\u306e\u30b3\u30f3\u30c6\u30ca edgex-app-service-configurable-rules \u3067\u3059\u3002 $ cat support-rulesengine/application.properties ... #use port 5566 when connected to app-service-configurable #use port 5563 when connected to core data directly export.zeromq.port = 5566 #export.zeromq.port=5563 #export.zeromq.host=tcp://localhost export.zeromq.host = tcp://edgex-app-service-configurable-rules ... \u3082\u3046\u4e00\u3064\u306e\u30d5\u30a1\u30a4\u30eb\u304c\u3001 rule-template.drl \u3067\u3059\u3002\u3053\u308c\u306f\u30eb\u30fc\u30eb\u305d\u306e\u3082\u306e\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u3068\u3057\u3066\u5229\u7528\u3055\u308c\u307e\u3059\u3002\u3053\u308c\u306b\u3064\u3044\u3066\u306f\u5f8c\u8ff0\u3057\u307e\u3059\u3002","title":"\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u8a2d\u5b9a"},{"location":"fuji/lab-support-rulesengine/#_8","text":"\u3067\u306f\u3001\u5b9f\u969b\u306b\u30eb\u30fc\u30eb\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u69cb\u6210\u306b\u306f API \u3092\u5229\u7528\u3057\u307e\u3059\u3002 GUI \u3067\u306e\u8a2d\u5b9a \u6a19\u6e96 GUI \u306b\u3082\u8a2d\u5b9a\u753b\u9762\u306f\u3042\u308a\u307e\u3059\u304c\u3001\u4e00\u90e8\u306e\u30d7\u30eb\u30c0\u30a6\u30f3\u304c\u52d5\u4f5c\u305b\u305a\u3001\u8a2d\u5b9a\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f\u3002","title":"\u30eb\u30fc\u30eb\u306e\u8a2d\u5b9a"},{"location":"fuji/lab-support-rulesengine/#_9","text":"\u30eb\u30fc\u30eb\u306f JSON \u3067\u5b9a\u7fa9\u3057\u307e\u3059\u3002\u542b\u3081\u308b\u5185\u5bb9\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002 { \"name\" : \"<\u30eb\u30fc\u30eb\u540d>\" , \"condition\" : { \"device\" : \"<\u30c8\u30ea\u30ac\u6761\u4ef6\u306b\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u540d>\" , \"checks\" : [ { \"parameter\" : \"<\u30c8\u30ea\u30ac\u6761\u4ef6\u306b\u3059\u308b\u30ea\u30bd\u30fc\u30b9\u540d>\" , \"operand1\" : \"<\u30c8\u30ea\u30ac\u6761\u4ef6\u306b\u3059\u308b\u5024>\" , \"operation\" : \"<\u6bd4\u8f03\u6f14\u7b97\u5b50>\" , \"operand2\" : \"<\u30c8\u30ea\u30ac\u3059\u308b\u95be\u5024>\" } ] }, \"action\" : { \"device\" : \"<\u64cd\u4f5c\u5bfe\u8c61\u306e\u30c7\u30d0\u30a4\u30b9 ID>\" , \"command\" : \"<\u64cd\u4f5c\u5bfe\u8c61\u306e\u30b3\u30de\u30f3\u30c9 ID>\" , \"body\" : \"<\u64cd\u4f5c\u5bfe\u8c61\u306e\u30b3\u30de\u30f3\u30c9\u306b PUT \u3055\u308c\u308b\u5185\u5bb9>\" }, \"log\" : \"<\u30c8\u30ea\u30ac\u3055\u308c\u305f\u3068\u304d\u306e\u30ed\u30b0\u51fa\u529b\u6587\u5b57\u5217>\" } \u5168\u4f53\u306e\u69cb\u9020\u306f\u3001 condition \u3067\u6307\u5b9a\u3057\u305f\u6761\u4ef6\u3092\u6e80\u305f\u3057\u305f\u3089 action \u3067\u6307\u5b9a\u3057\u305f\u30b3\u30de\u30f3\u30c9\u304c\u30c8\u30ea\u30ac\u3055\u308c\u308b \u3068\u601d\u3048\u3070\u3088\u3044\u3067\u3057\u3087\u3046\u3002 condition \u3067\u306e\u6307\u5b9a\u5024\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7d44\u3093\u3067\u3044\u304d\u307e\u3059\u3002 device \u30c8\u30ea\u30ac\u6761\u4ef6\u306b\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u306e\u540d\u79f0\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9 ID \u3067\u306f\u306a\u304f\u30c7\u30d0\u30a4\u30b9\u540d\u3067\u6307\u5b9a\u3059\u308b\u5fc5\u8981 \u304c\u3042\u308a\u307e\u3059 \u4eca\u56de\u306f\u3001REST \u30c7\u30d0\u30a4\u30b9\u306e\u5024\u3092\u5143\u306b\u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u305f\u3044\u306e\u3067\u3001 REST_DEVICE \u3092\u6307\u5b9a\u3057\u307e\u3059 parameter \u30c8\u30ea\u30ac\u6761\u4ef6\u306b\u3059\u308b\u30c7\u30d0\u30a4\u30b9\u306e\u30ea\u30bd\u30fc\u30b9\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059 \u4eca\u56de\u306e REST_DEVICE \u306f\u30ea\u30bd\u30fc\u30b9 int \u3068 float \u3092\u6301\u3063\u3066\u3044\u307e\u3059\u304c\u3001\u4eca\u56de\u306f int \u3092\u6307\u5b9a\u3057\u307e\u3059 operand1 \u6bd4\u8f03\u5143\u306b\u306a\u308b\u5024\u3092\u4f5c\u308a\u307e\u3059\u3002 \u30c7\u30d0\u30a4\u30b9\u306e\u5024\u306f\u5185\u90e8\u3067\u306f\u6587\u5b57\u5217\u5024\u3068\u3057\u3066\u6271\u308f\u308c\u3066\u3044\u308b \u305f\u3081\u3001\u6570\u5024\u3067\u3042\u308c\u3070\u9069\u5207\u306a\u578b\u306b\u30ad\u30e3\u30b9\u30c8\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 Drools \u304c Java \u30d9\u30fc\u30b9\u306e\u305f\u3081\u3001\u3053\u3053\u3067\u306f Java \u306e\u6587\u6cd5\u3067\u66f8\u304d\u307e\u3059\u3002\u5024\u306b\u5fdc\u3058\u3066\u3001\u4f8b\u3048\u3070\u4ee5\u4e0b\u306a\u3069\u304c\u4f7f\u3044\u5206\u3051\u3089\u308c\u308b\u3067\u3057\u3087\u3046 Integer.parseInt(value) Float.parseFloat(value) operation \u6bd4\u8f03\u6f14\u7b97\u5b50\u3067\u3059\u3002 < \u3001 = \u3001 > \u304c\u5229\u7528\u3067\u304d\u307e\u3059 operand2 \u95be\u5024\u3067\u3059 action \u3067\u306e\u6307\u5b9a\u5024\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u7d44\u307f\u307e\u3059\u3002 device \u5148\u307b\u3069\u3068\u7570\u306a\u308a\u3001\u3053\u3053\u3067\u306f ID \u3067\u6307\u5b9a\u3057\u307e\u3059 \u4eca\u56de\u306f MQ_DEVICE \u306e ID \u3067\u3059 \u30c7\u30d0\u30a4\u30b9\u306e ID \u306f API \u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059 command \u30b3\u30de\u30f3\u30c9\u3082 ID \u3067\u6307\u5b9a\u3057\u307e\u3059 \u4eca\u56de\u306f testmessage \u306e ID \u3067\u3059 \u30b3\u30de\u30f3\u30c9\u306e ID \u3082 API \u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059 body \u30b3\u30de\u30f3\u30c9\u306e PUT \u547d\u4ee4\u306e\u30dc\u30c7\u30a3\u3092 JSON \u5f62\u5f0f\u3067\u6307\u5b9a\u3057\u307e\u3059 \u9069\u5207\u306a\u30a8\u30b9\u30b1\u30fc\u30d7\u304c\u5fc5\u8981\u3067\u3059 \u30c0\u30d6\u30eb\u30af\u30a9\u30fc\u30c8 \" \u306f\u3001\u305d\u308c\u3092\u30a8\u30b9\u30b1\u30fc\u30d7\u3057\u305f\u6587\u5b57\u5217 \\\" \u81ea\u4f53\u304c PUT \u3055\u308c\u308b\u3088\u3046\u306b\u3001\u3055\u3089\u306b\u30a8\u30b9\u30b1\u30fc\u30d7\u3057\u3066 \\\\\\\" \u3068\u3057\u307e\u3059 \u4f8b\u3048\u3070\u4eca\u56de\u3060\u3068\u3001 {\\\\\\\"message\\\\\\\":\\\\\\\"HIGH\\\\\\\"} \u3084 {\\\\\\\"message\\\\\\\":\\\\\\\"LOW\\\\\\\"} \u3067\u3059 \u30c7\u30d0\u30a4\u30b9 MQ_DEVICE \u306e ID \u3068 \u30b3\u30de\u30f3\u30c9 testmessage \u306e ID \u304c\u5fc5\u8981\u306a\u305f\u3081\u3001 metadata \u30b5\u30fc\u30d3\u30b9\u3068 command \u30b5\u30fc\u30d3\u30b9\u305d\u308c\u305e\u308c\u306b\u554f\u3044\u5408\u308f\u305b\u3066\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ curl -s http://localhost:48081/api/v1/device/name/MQ_DEVICE | jq .id \"09dae1fc-e2be-4388-9677-639d2f24c58b\" $ curl -s http://localhost:48082/api/v1/device/name/MQ_DEVICE | jq '.commands[] | select(.name==\"testmessage\") | .id' \"1c7a50e7-5424-4bce-9b9a-29849510580e\" jq \u30b3\u30de\u30f3\u30c9\u3067\u306e\u30d5\u30a3\u30eb\u30bf \u30c8\u30ea\u30c3\u30ad\u30fc\u3067\u3059\u304c\u3001 curl \u306e\u30ec\u30b9\u30dd\u30f3\u30b9\uff08JSON \u6587\u5b57\u5217\uff09\u304b\u3089\u3001 jq \u30b3\u30de\u30f3\u30c9\u306e\u30d5\u30a3\u30eb\u30bf\u6a5f\u80fd\u3092\u4f7f\u3063\u3066\u76ee\u7684\u306e ID \u306e\u307f\u3092\u53d6\u308a\u51fa\u3057\u3066\u3044\u307e\u3059\u3002\u3082\u3061\u308d\u3093\u3001\u30d5\u30a3\u30eb\u30bf\u3057\u306a\u3044\u3067\u51fa\u529b\u3057\u305f\u4e2d\u304b\u3089\u63a2\u3057\u3066\u3082\u554f\u984c\u3042\u308a\u307e\u305b\u3093\u3002\u306a\u304a\u3001 jq \u306e\u5f8c\u306b\u30d1\u30a4\u30d7\u3067 grep \u3057\u305f\u3044\u5834\u5408\u306f\u3001\u30c9\u30c3\u30c8\u3092\u52a0\u3048\u3066 jq . | grep \u3068\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 ID \u304c\u5f97\u3089\u308c\u305f\u306e\u3067\u3001\u30eb\u30fc\u30eb\u3092\u7d44\u307f\u4e0a\u3052\u307e\u3059\u3002\u6700\u7d42\u7684\u306b\u3001\u4eca\u56de\u4f5c\u308a\u305f\u3044\u4ee5\u4e0b\u306e\u30eb\u30fc\u30eb\u7fa4\u306f\u4ee5\u4e0b\u3067\u3057\u305f\u3002 \u30eb\u30fc\u30eb 1 REST \u30c7\u30d0\u30a4\u30b9 \u304b\u3089\u9001\u3089\u308c\u308b\u5024\u304c 80 \u3092\u8d8a\u3048\u305f\u3089 MQTT \u30c7\u30d0\u30a4\u30b9 \u306b\u30e1\u30c3\u30bb\u30fc\u30b8 HIGH \u3092\u9001\u4fe1\u3059\u308b \u30eb\u30fc\u30eb 2 REST \u30c7\u30d0\u30a4\u30b9 \u304b\u3089\u9001\u3089\u308c\u308b\u5024\u304c 20 \u3092\u4e0b\u56de\u3063\u305f\u3089 MQTT \u30c7\u30d0\u30a4\u30b9 \u306b\u30e1\u30c3\u30bb\u30fc\u30b8 LOW \u3092\u9001\u4fe1\u3059\u308b \u3088\u3063\u3066\u3001\u3072\u3068\u3064\u3081\u306e\u30eb\u30fc\u30eb\u306f\u4ee5\u4e0b\u306e JSON \u3067\u3001 { \"name\" : \"rule_int_high\" , \"condition\" : { \"device\" : \"REST_DEVICE\" , \"checks\" : [ { \"parameter\" : \"int\" , \"operand1\" : \"Integer.parseInt(value)\" , \"operation\" : \">\" , \"operand2\" : \"80\" } ] }, \"action\" : { \"device\" : \"09dae1fc-e2be-4388-9677-639d2f24c58b\" , \"command\" : \"1c7a50e7-5424-4bce-9b9a-29849510580e\" , \"body\" : \"{\\\\\\\"message\\\\\\\":\\\\\\\"HIGH\\\\\\\"}\" }, \"log\" : \"Action triggered: The value is too high.\" } \u3075\u305f\u3064\u3081\u306e\u30eb\u30fc\u30eb\u306f\u4ee5\u4e0b\u306e JSON \u3067\u3042\u3089\u308f\u3055\u308c\u307e\u3059\u3002 { \"name\" : \"rule_int_low\" , \"condition\" : { \"device\" : \"REST_DEVICE\" , \"checks\" : [ { \"parameter\" : \"int\" , \"operand1\" : \"Integer.parseInt(value)\" , \"operation\" : \"<\" , \"operand2\" : \"20\" } ] }, \"action\" : { \"device\" : \"09dae1fc-e2be-4388-9677-639d2f24c58b\" , \"command\" : \"1c7a50e7-5424-4bce-9b9a-29849510580e\" , \"body\" : \"{\\\\\\\"message\\\\\\\":\\\\\\\"LOW\\\\\\\"}\" }, \"log\" : \"Action triggered: The value is too low.\" } \u305d\u308c\u305e\u308c\u306e\u30b5\u30f3\u30d7\u30eb\u3068\u3057\u3066 rule_sample_rule_int_high.json \u3068 rule_sample_rule_int_low.json \u3092\u914d\u7f6e\u3057\u3066\u3044\u307e\u3059\u304c\u3001 ID \u306f\u74b0\u5883\u3067\u5909\u308f\u308b \u305f\u3081\u3001 \u3054\u81ea\u8eab\u306e\u74b0\u5883\u3067\u78ba\u8a8d\u3057\u305f ID \u3092\u4f7f\u3063\u3066 JSON \u3092\u7d44\u3080\u5fc5\u8981 \u304c\u3042\u308a\u307e\u3059\u3002","title":"\u30eb\u30fc\u30eb\u306e\u691c\u8a0e"},{"location":"fuji/lab-support-rulesengine/#_10","text":"\u5b9f\u969b\u306b\u30eb\u30fc\u30eb\u3092\u6295\u5165\u3057\u307e\u3059\u3002\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u81ea\u8eab\u306e\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b\u3001JSON \u3092\u30ea\u30af\u30a8\u30b9\u30c8\u30dc\u30c7\u30a3\u306b\u542b\u3081\u3066 POST \u3057\u307e\u3059\u3002 http://localhost:48075/api/v1/rule \u3053\u3053\u3067\u306f\u3001\u4f5c\u696d\u7aef\u672b\u304b\u3089 Postman \u3092\u4f7f\u3063\u3066 POST \u3057\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3001 URL \u4e2d\u306e\u30db\u30b9\u30c8\u540d\u306f Docker \u30db\u30b9\u30c8\u306e IP \u30a2\u30c9\u30ec\u30b9\u306b\u7f6e\u304d\u63db\u3048 \u307e\u3059\u3002 Postman \u306e Body \u306b raw \u5f62\u5f0f\u3067 JSON \u6587\u5b57\u5217\u3092\u5165\u529b\u3057\u3001 POST \u3057\u307e\u3059\u3002 true \u304c\u8fd4\u3063\u3066\u304d\u305f\u3089\u6b63\u5e38\u3067\u3059\u3002\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u30eb\u30fc\u30eb\u306f\u3001\u540c\u3058 URL \u306b GET \u3059\u308b\u3068\u4e00\u89a7\u3067\u5f97\u3089\u308c\u307e\u3059\u3002","title":"\u30eb\u30fc\u30eb\u306e\u6295\u5165"},{"location":"fuji/lab-support-rulesengine/#_11","text":"\u30eb\u30fc\u30eb\u304c\u6295\u5165\u3055\u308c\u308b\u3068\u3001\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u304c rule-template.drl \u3092\u5143\u306b\u3057\u3066\u65b0\u3057\u3044 <\u30eb\u30fc\u30eb\u540d>.drl \u30d5\u30a1\u30a4\u30eb\u3092\u751f\u6210\u3057\u3001\u5229\u7528\u304c\u958b\u59cb\u3055\u308c\u307e\u3059\u3002\u751f\u6210\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306f\u30b3\u30f3\u30c6\u30ca\u5185\u306b\u3042\u308b\u305f\u3081\u3001\u3053\u3053\u3067\u306f edgex-support-rulesengine \u5185\u306e\u30d5\u30a1\u30a4\u30eb\u3092 cat \u3057\u3066\u8997\u304d\u307e\u3059\u3002 $ docker exec edgex-support-rulesengine cat /edgex/edgex-support-rulesengine/rules/rule_int_high.drl package org.edgexfoundry.rules ; global org.edgexfoundry.engine.CommandExecutor executor ; global org.edgexfoundry.support.logging.client.EdgeXLogger logger ; import org.edgexfoundry.domain.core.Event ; import org.edgexfoundry.domain.core.Reading ; import java.util.Map ; rule \"rule_int_high\" when $e :Event ( $rlist : readings && device == \"REST_DEVICE\" ) $r0 :Reading ( name == \"int\" && Integer.parseInt ( value ) > 80 ) from $rlist then executor.fireCommand ( \"09dae1fc-e2be-4388-9677-639d2f24c58b\" , \"1c7a50e7-5424-4bce-9b9a-29849510580e\" , \"{\\\"message\\\":\\\"HIGH\\\"}\" ) ; logger.info ( \"Action triggered: The value is too high.\" ) ; end $ docker exec edgex-support-rulesengine cat /edgex/edgex-support-rulesengine/rules/rule_int_low.drl package org.edgexfoundry.rules ; global org.edgexfoundry.engine.CommandExecutor executor ; global org.edgexfoundry.support.logging.client.EdgeXLogger logger ; import org.edgexfoundry.domain.core.Event ; import org.edgexfoundry.domain.core.Reading ; import java.util.Map ; rule \"rule_int_low\" when $e :Event ( $rlist : readings && device == \"REST_DEVICE\" ) $r0 :Reading ( name == \"int\" && Integer.parseInt ( value ) < 20 ) from $rlist then executor.fireCommand ( \"09dae1fc-e2be-4388-9677-639d2f24c58b\" , \"1c7a50e7-5424-4bce-9b9a-29849510580e\" , \"{\\\"message\\\":\\\"LOW\\\"}\" ) ; logger.info ( \"Action triggered: The value is too low.\" ) ; end \u304a\u624b\u5143\u306e\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8 rule-template.drl \u3068\u898b\u6bd4\u3079\u308b\u3068\u3001\u3069\u3053\u3068\u306a\u304f\u30c6\u30f3\u30d7\u30ec\u30fc\u30c8\u304b\u3089\u5c55\u958b\u3055\u308c\u3066\u3044\u308b\u69d8\u5b50\u304c\u3046\u304b\u304c\u3048\u307e\u3059\u3002 \u306a\u304a\u3001\u73fe\u5728\u306e API \u3067\u306f\u3001\u5b9a\u7fa9\u3055\u308c\u305f\u30eb\u30fc\u30eb\u306e\u540d\u79f0\u3092\u4e00\u89a7\u3067\u304d\u308b\u306e\u307f\u3067\u3001\u5177\u4f53\u7684\u306a\u30eb\u30fc\u30eb\u306e\u4e2d\u8eab\u307e\u3067\u306f\u78ba\u8a8d\u3067\u304d\u306a\u3044\u3088\u3046\u3067\u3059\u3002\u30eb\u30fc\u30eb\u306e\u4e2d\u8eab\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001\u4e0a\u8a18\u306e\u3088\u3046\u306b\u30b3\u30f3\u30c6\u30ca\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002","title":"\u30eb\u30fc\u30eb\u306e\u78ba\u8a8d"},{"location":"fuji/lab-support-rulesengine/#_12","text":"\u3053\u3053\u304b\u3089\u3001\u30eb\u30fc\u30eb\u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u3066\u3044\u304d\u307e\u3059\u3002 \u52d5\u304d\u3092\u8ffd\u3044\u3084\u3059\u304f\u3059\u308b\u305f\u3081\u3001\u65b0\u3057\u3044\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u4e8c\u3064\u958b\u304d\u3001\u305d\u308c\u305e\u308c\u3001 edgex-support-rulesengine \u306e\u30ed\u30b0\u3092\u5e38\u6642\u8868\u793a\u3055\u305b MQTT \u30d6\u30ed\u30fc\u30ab\u306e\u5168\u30c8\u30d4\u30c3\u30af\u3092\u8cfc\u8aad\u3059\u308b \u3088\u3046\u306b\u3057\u3066\u304a\u304d\u307e\u3059\u3002 $ docker logs -f --tail = 10 edgex-support-rulesengine [ 2020 -01-25 13 :44:15.023 ] boot - 6 INFO [ main ] --- ZeroMQEventSubscriber: JSON event received [ 2020 -01-25 13 :44:15.024 ] boot - 6 INFO [ main ] --- ZeroMQEventSubscriber: Event sent to rules engine for device id: MQ_DEVICE [ 2020 -01-25 13 :44:17.214 ] boot - 6 INFO [ main ] --- ZeroMQEventSubscriber: JSON event received [ 2020 -01-25 13 :44:17.216 ] boot - 6 INFO [ main ] --- ZeroMQEventSubscriber: Event sent to rules engine for device id: MQ_DEVICE ... $ docker run --init --rm --name = client -it kurokobo/mqtt-client sub -h 192 .168.0.239 -t \"#\" -v logic/connected 2 DataTopic { \"name\" : \"MQ_DEVICE\" , \"cmd\" : \"randfloat32\" , \"randfloat32\" : \"27.0\" } ... REST \u30c7\u30d0\u30a4\u30b9\u304c\u4f55\u304b\u5024\u3092\u9001\u3063\u305f\u72b6\u6cc1\u3092\u6a21\u3057\u3066\u3001\u307e\u305a\u306f\u30eb\u30fc\u30eb\u306b\u5408\u81f4\u3057\u306a\u3044\u30c7\u30fc\u30bf\u3092 REST \u30c7\u30d0\u30a4\u30b9\u30b5\u30fc\u30d3\u30b9\u306b POST \u3057\u307e\u3059\u3002 $ curl -X POST -H \"Content-Type: text/plain\" -d 50 http://localhost:49986/api/v1/resource/REST_DEVICE/int \u76f4\u5f8c\u306b\u3001\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u30ed\u30b0\u3067\u306f\u3001 REST_DEVICE \u304b\u3089\u306e\u5024\u304c\u5c4a\u3051\u3089\u308c\u305f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u3044\u305a\u308c\u306e\u30eb\u30fc\u30eb\u306b\u3082\u5408\u81f4\u3057\u306a\u3044\u5024\u3067\u3042\u308b\u305f\u3081\u3001\u3053\u3053\u3067\u306f\u4f55\u3082\u8d77\u304d\u307e\u305b\u3093\u3002 $ docker logs -f --tail = 10 edgex-support-rulesengine ... [ 2020 -01-25 13 :47:25.370 ] boot - 6 INFO [ main ] --- ZeroMQEventSubscriber: JSON event received [ 2020 -01-25 13 :47:25.466 ] boot - 6 INFO [ main ] --- ZeroMQEventSubscriber: Event sent to rules engine for device id: REST_DEVICE ... \u3064\u3065\u3044\u3066\u3001\u30eb\u30fc\u30eb\u306b\u5408\u81f4\u3059\u308b\u5024\u3092\u6295\u3052\u307e\u3059\u3002 $ curl -X POST -H \"Content-Type: text/plain\" -d 90 http://localhost:49986/api/v1/resource/REST_DEVICE/int \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u30ed\u30b0\u3067\u306f\u3001\u6307\u5b9a\u3057\u305f\u30ed\u30b0\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8a18\u9332\u3055\u308c\u3001 {\"message\":\"HIGH\"} \u304c\u6307\u5b9a\u3057\u305f\u30b3\u30de\u30f3\u30c9\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u3055\u308c\u305f\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002 $ docker logs -f --tail = 10 edgex-support-rulesengine ... [ 2020 -01-25 13 :57:26.805 ] boot - 6 INFO [ main ] --- ZeroMQEventSubscriber: JSON event received [ 2020 -01-25 13 :57:26.853 ] boot - 6 INFO [ main ] --- RuleEngine: Action triggered: The value is too high. [ 2020 -01-25 13 :57:26.853 ] boot - 6 INFO [ SimpleAsyncTaskExecutor-2 ] --- CommandExecutor: Sending request to: 09dae1fc-e2be-4388-9677-639d2f24c58bfor command: 1c7a50e7-5424-4bce-9b9a-29849510580e with body: { \"message\" : \"HIGH\" } [ 2020 -01-25 13 :57:26.866 ] boot - 6 INFO [ main ] --- RuleEngine: Event triggered 1rules: Event [ pushed = 0 , device = REST_DEVICE, readings =[ Reading [ pushed = 0 , name = int, value = 90 , device = REST_DEVICE ]] , toString ()= BaseObject [ id = 538aea34-b4ce-4342-88a9-6c08cdac080e, created = 0 , modified = 0 , origin = 1579960646793054700 ]] ... MQTT \u30c8\u30d4\u30c3\u30af\u304b\u3089\u306f\u3001MQTT \u30c7\u30d0\u30a4\u30b9\u306b\u5bfe\u3059\u308b\u30b3\u30de\u30f3\u30c9\u5b9f\u884c\u304c\u884c\u308f\u308c\u305f\u69d8\u5b50\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 $ docker run --init --rm --name = client -it kurokobo/mqtt-client sub -h 192 .168.0.239 -t \"#\" -v ... CommandTopic { \"cmd\" : \"message\" , \"message\" : \"HIGH\" , \"method\" : \"set\" , \"uuid\" : \"5e2c4946b8dd790001754b8b\" } ResponseTopic { \"cmd\" : \"message\" , \"message\" : \"HIGH\" , \"method\" : \"set\" , \"uuid\" : \"5e2c4946b8dd790001754b8b\" } ... \u8a66\u3057\u306b\u3053\u306e\u6bb5\u968e\u3067 MQTT \u30c7\u30d0\u30a4\u30b9\u306e testmessage \u30b3\u30de\u30f3\u30c9\u306b GET \u3057\u3066\u307f\u308b\u3068\u3001\u5024\u304c\u72d9\u3044\u901a\u308a\u306b\u5909\u66f4\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u304c\u308f\u304b\u308a\u307e\u3059\u3002 $ curl -s http://localhost:48082/api/v1/device/name/MQ_DEVICE/command/testmessage | jq { \"device\" : \"MQ_DEVICE\" , \"origin\" : 1579960983817888000 , \"readings\" : [ { \"origin\" : 1579960983809258000 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"message\" , \"value\" : \"HIGH\" } ] , \"EncodedEvent\" : null } \u540c\u69d8\u306b\u3001\u3075\u305f\u3064\u3081\u306e\u30eb\u30fc\u30eb\u306b\u5408\u81f4\u3059\u308b\u5024\u3092\u6295\u3052\u307e\u3059\u3002 $ curl -X POST -H \"Content-Type: text/plain\" -d 10 http://localhost:49986/api/v1/resource/REST_DEVICE/int \u30ed\u30b0\u3084\u30c8\u30d4\u30c3\u30af\u304b\u3089\u3001\u30b3\u30de\u30f3\u30c9\u304c\u5b9f\u884c\u3055\u308c\u305f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u3001\u6700\u7d42\u7684\u306b\u306f MQTT \u30c7\u30d0\u30a4\u30b9\u5074\u306e\u5024\u304c\u5909\u308f\u3063\u305f\u3053\u3068\u304c\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 $ curl -s http://localhost:48082/api/v1/device/name/MQ_DEVICE/command/testmessage | jq { \"device\" : \"MQ_DEVICE\" , \"origin\" : 1579961107845061000 , \"readings\" : [ { \"origin\" : 1579961107837083000 , \"device\" : \"MQ_DEVICE\" , \"name\" : \"message\" , \"value\" : \"LOW\" } ] , \"EncodedEvent\" : null }","title":"\u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u52d5\u4f5c\u78ba\u8a8d"},{"location":"fuji/lab-support-rulesengine/#_13","text":"\u5f8c\u7d9a\u306e\u30e9\u30dc\u3067\u306f\u3001\u73fe\u5728\u5229\u7528\u3057\u3066\u3044\u308b\u3082\u306e\u3068\u306f\u5225\u306e docker-compose.yml \u30d5\u30a1\u30a4\u30eb\u3092\u5229\u7528\u3057\u307e\u3059\u306e\u3067\u3001\u4eca\u56de\u306e\u3053\u306e\u74b0\u5883\u306f\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002 \u6b21\u306e\u30b3\u30de\u30f3\u30c9\u3067\u3001\u4f5c\u6210\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u3068\u3001\u81ea\u52d5\u3067\u4f5c\u6210\u3055\u308c\u305f\u6c38\u7d9a\u30dc\u30ea\u30e5\u30fc\u30e0\u9818\u57df\u3092\u524a\u9664\u3057\u307e\u3059\u3002 $ docker-compose down --volumes Stopping edgex-ui-go ... done ... Removing image portainer/portainer \u307e\u305f\u3001\u52d5\u4f5c\u3055\u305b\u3066\u3044\u308b MQTT \u30d6\u30ed\u30fc\u30ab\u3068\u30c7\u30d0\u30a4\u30b9\u306e\u30b7\u30df\u30e5\u30ec\u30fc\u30bf\u3082\u505c\u6b62\u3055\u305b\u307e\u3059\u3002\u30b3\u30f3\u30c6\u30ca\u306e\u30ed\u30b0\u3092\u78ba\u8a8d\u3057\u3066\u3044\u305f\u30bf\u30fc\u30df\u30ca\u30eb\u3084\u3001MQTT \u30c8\u30d4\u30c3\u30af\u3092\u8cfc\u8aad\u3057\u3066\u3044\u308b\u30bf\u30fc\u30df\u30ca\u30eb\u304c\u6b8b\u3063\u3066\u3044\u308c\u3070\u3001 Ctrl + C \u3067\u7d42\u4e86\u3057\u307e\u3059\u3002 $ docker stop broker $ docker rm -f mqtt-scripts \u4e0d\u8981\u306a\u30b3\u30f3\u30c6\u30ca\u304c\u6b8b\u3063\u3066\u3044\u306a\u3044\u3053\u3068\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 $ docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES","title":"\u74b0\u5883\u306e\u505c\u6b62"},{"location":"fuji/lab-support-rulesengine/#_14","text":"\u3053\u306e\u30e9\u30dc\u3067\u306f\u3001\u4ee5\u4e0b\u3092\u53d6\u308a\u6271\u3044\u307e\u3057\u305f\u3002 \u30eb\u30fc\u30eb\u30a8\u30f3\u30b8\u30f3\u306e\u6982\u8981\u3068\u8003\u3048\u65b9\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f \u4efb\u610f\u306e\u30eb\u30fc\u30eb\u306e\u69cb\u6210\u65b9\u6cd5\u3092\u5b9f\u8df5\u3057\u3001\u5b9f\u969b\u306e\u52d5\u4f5c\u3092\u78ba\u8a8d\u3057\u307e\u3057\u305f \u4eca\u56de\u306f\u3001\u30eb\u30fc\u30eb\u3092 curl \u30b3\u30de\u30f3\u30c9\u3067\u7121\u7406\u3084\u308a\u30c8\u30ea\u30ac\u3055\u305b\u305f\u306b\u7b49\u3057\u3044\u72b6\u6cc1\u3067\u3057\u305f\u304c\u3001\u3082\u3061\u308d\u3093\u672c\u6765\u306f\u3001\u4f55\u3089\u304b\u306e\u30bb\u30f3\u30b5\u306e\u5024\u306a\u3069\u3092\u30c8\u30ea\u30ac\u306b\u5225\u306e\u30a2\u30af\u30c1\u30e5\u30a8\u30fc\u30bf\u3092\u52d5\u304b\u3059\u3088\u3046\u306a\u4f7f\u3044\u65b9\u306b\u306a\u308b\u3067\u3057\u3087\u3046\u3002","title":"\u307e\u3068\u3081"},{"location":"geneva/","text":"\u30cf\u30f3\u30ba\u30aa\u30f3\u30e9\u30dc for Geneva release \u00b6 \u6e96\u5099\u4e2d","title":"\u6e96\u5099\u4e2d"},{"location":"geneva/#for-geneva-release","text":"\u6e96\u5099\u4e2d","title":"\u30cf\u30f3\u30ba\u30aa\u30f3\u30e9\u30dc for Geneva release"}]}